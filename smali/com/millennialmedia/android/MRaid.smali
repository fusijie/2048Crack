.class Lcom/millennialmedia/android/MRaid;
.super Ljava/lang/Object;
.source "MRaid.java"


# annotations
.annotation system Ldalvik/annotation/MemberClasses;
    value = {
        Lcom/millennialmedia/android/MRaid$Finished;
    }
.end annotation


# static fields
.field private static final KEY_MMJS_URL:Ljava/lang/String; = "KEY_MMJS_URL"

.field private static final MMJS_1_5_PART1:Ljava/lang/String; = "LyohIG1tanMgLSAxLjUuMCAtIHYxLjUuMC0wLWdkZjYzNDIxIC0gMjAxNC0wMS0xNSAqLwp2YXIgTU1BcHBTdG9yZSxNTUJhbm5lcixNTUJyYW5kLE1NQnJpZGdlT2JqZWN0LE1NQ2FjaGVkVmlkZW8sTU1DYWxlbmRhcixNTUNvbW1hbmQsTU1EZXZpY2UsTU1JbmxpbmVWaWRlbyxNTUludGVyc3RpdGlhbCxNTUpTLE1NSlNVdGlscyxNTUxpc3RlbmVyTWFuYWdlcixNTU1lZGlhLE1NTm90aWZpY2F0aW9uLE1NUGFzc2Jvb2ssTU1TREtJbnRlcmZhY2UsTU1Tb2NpYWwsTU1TcGVlY2hraXQsTVJBSUQsX3JlZixfcmVmMSxfcmVmMTAsX3JlZjExLF9yZWYxMixfcmVmMixfcmVmMyxfcmVmNCxfcmVmNSxfcmVmNixfcmVmNyxfcmVmOCxfcmVmOSxfX2hhc1Byb3A9e30uaGFzT3duUHJvcGVydHksX19leHRlbmRzPWZ1bmN0aW9uKGNoaWxkLHBhcmVudCl7ZnVuY3Rpb24gY3Rvcigpe3RoaXMuY29uc3RydWN0b3I9Y2hpbGR9Zm9yKHZhciBrZXkgaW4gcGFyZW50KV9faGFzUHJvcC5jYWxsKHBhcmVudCxrZXkpJiYoY2hpbGRba2V5XT1wYXJlbnRba2V5XSk7cmV0dXJuIGN0b3IucHJvdG90eXBlPXBhcmVudC5wcm90b3R5cGUsY2hpbGQucHJvdG90eXBlPW5ldyBjdG9yLGNoaWxkLl9fc3VwZXJfXz1wYXJlbnQucHJvdG90eXBlLGNoaWxkfTtTdHJpbmcucHJvdG90eXBlLnRyaW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXBsYWNlKFJlZ0V4cCgiXlxccyt8XFxzKyQiLCJnIiksIiIpfSxTdHJpbmcucHJvdG90eXBlLnRpdGxlQ2FzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcGxhY2UoUmVnRXhwKCJcXHdcXFMqIiwiZyIpLGZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKS5jb25jYXQoc3RyLnN1YnN0cigxKS50b0xvd2VyQ2FzZSgpKX0pfSwidW5kZWZpbmVkIj09dHlwZW9mIE1NSlMmJihNTUpTVXRpbHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBNTUpTVXRpbHMoKXt9cmV0dXJuIE1NSlNVdGlscy5pb3NfdmVyc2lvbj1udWxsLE1NSlNVdGlscy5wbGF0Zm9ybT1udWxsLE1NSlNVdGlscy5zZGtfdmVyc2lvbj1udWxsLE1NSlNVdGlscy5wYXJhbXM9bnVsbCxNTUpTVXRpbHMuaXNCcmlkZ2VFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuInVua25vd24iIT09TU1EZXZpY2UucmVhZHlTdGF0ZT8hMDohMX0sTU1KU1V0aWxzLmlzUHJlNDY9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNCcmlkZ2VFbmFibGVkKCk9PT0hMD8hMTpudWxsPT1hPyEwOnRoaXMudW5kZXJWZXJzaW9uKGEsIjQuNi4wIil9LE1NSlNVdGlscy51bmRlclZlcnNpb249ZnVuY3Rpb24odmVyc2lvblN0cmluZyxtaW5WZXJzaW9uKXt2YXIgaSxyZXMscmVzdWx0LHYxLHYyO2lmKG51bGw9PXZlcnNpb25TdHJpbmcpcmV0dXJuITE7Zm9yKHYxPXZlcnNpb25TdHJpbmcuc3BsaXQoIi4iKSx2Mj1taW5WZXJzaW9uLnNwbGl0KCIuIiksaT0wLHJlc3VsdD0wO2k8TWF0aC5taW4odjEubGVuZ3RoLHYyLmxlbmd0aCk7KXtpZihyZXM9djFbaV0tdjJbaV0sMCE9PXJlcyl7cmVzdWx0PXJlczticmVha31pKyt9cmV0dXJuIDA+cmVzdWx0fSxNTUpTVXRpbHMuaXNWZXJzaW9uPWZ1bmN0aW9uKHZlcnNpb25TdHJpbmcpe3ZhciBpLHJlcyxyZXN1bHQsdjEsdjI7aWYobnVsbD09dmVyc2lvblN0cmluZylyZXR1cm4hMTtmb3IodjE9dmVyc2lvblN0cmluZy5zcGxpdCgiLiIpLHYyPXRoaXMuc2RrVmVyc2lvbigpLnNwbGl0KCIuIiksaT0wLHJlc3VsdD0wO2k8TWF0aC5taW4odjEubGVuZ3RoLHYyLmxlbmd0aCk7KXtpZihyZXM9djFbaV0tdjJbaV0sMCE9PXJlcyl7cmVzdWx0PXJlczticmVha31pKyt9cmV0dXJuIDA9PT1yZXN1bHR9LE1NSlNVdGlscy5pc0lPUz1mdW5jdGlvbigpe3JldHVybiJpb3MiPT09dGhpcy5nZXRQbGF0Zm9ybSgpfSxNTUpTVXRpbHMuaXNXaW5kb3dzPWZ1bmN0aW9uKCl7cmV0dXJuIndpbmRvd3MiPT09dGhpcy5nZXRQbGF0Zm9ybSgpfSxNTUpTVXRpbHMuaXNCbGFja0JlcnJ5PWZ1bmN0aW9uKCl7cmV0dXJuImJsYWNrYmVycnkiPT09dGhpcy5nZXRQbGF0Zm9ybSgpfSxNTUpTVXRpbHMuaXNBbmRyb2lkPWZ1bmN0aW9uKCl7cmV0dXJuImFuZHJvaWQiPT09dGhpcy5nZXRQbGF0Zm9ybSgpfSxNTUpTVXRpbHMuZ2V0UGxhdGZvcm09ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5wbGF0Zm9ybT90aGlzLnBsYXRmb3JtOih0aGlzLnBsYXRmb3JtPW51bGwhPW5hdmlnYXRvci5wbGF0Zm9ybS5tYXRjaCgvKEFuZHJvaWQpLyk/ImFuZHJvaWQiOm51bGwhPW5hdmlnYXRvci5wbGF0Zm9ybS5tYXRjaCgvXihpUGFkfGlQb2R8aVBob25lKS8pPyJpb3MiOiJhbmRyb2lkIix0aGlzLnBsYXRmb3JtKX0sTU1KU1V0aWxzLnNka1ZlcnNpb249ZnVuY3Rpb24oKXt2YXIgbW1pc2RrLHBhcmFtcztyZXR1cm4gbnVsbCE9dGhpcy5zZGtfdmVyc2lvbj90aGlzLnNka192ZXJzaW9uOm51bGwhPU1NSlMuc2RrVmVyc2lvbj8odGhpcy5zZGtfdmVyaXNvbj1NTUpTLnNka1ZlcnNpb24sdGhpcy5zZGtfdmVyc2lvbik6KHBhcmFtcz10aGlzLmdldFBhcmFtcygpLG51bGwhPXBhcmFtcy5zZGt2ZXJzaW9uPyhtbWlzZGs9cGFyYW1zLnNka3ZlcnNpb24uc3BsaXQoIi0iKSx0aGlzLnNka192ZXJzaW9uPW1taXNka1swXSx0aGlzLnNka192ZXJzaW9uKTpudWxsKX0sTU1KU1V0aWxzLnNpbXVsYXRlUmVkaXJlY3Q9ZnVuY3Rpb24odXJsKXt2YXIgZXZlbnRGaXJlLGxpbmtUYWc7cmV0dXJuIGxpbmtUYWc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLGxpbmtUYWcuaWQ9Im1tX3NpbXVsYXRlTGluayIsbGlua1RhZy5zZXRBdHRyaWJ1dGUoImhyZWYiLHVybCksbGlua1RhZy5zZXRBdHRyaWJ1dGUoInN0eWxlIiwib3BhY2l0eTowIiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rVGFnKSxldmVudEZpcmU9ZnVuY3Rpb24oZWwsZXR5cGUpe3ZhciBldk9iajtyZXR1cm4gZWwuZmlyZUV2ZW50P2VsLmZpcmVFdmVudCgib24iK2V0eXBlKTooZXZPYmo9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50cyIpLGV2T2JqLmluaXRFdmVudChldHlwZSwhMCwhMSksZWwuZGlzcGF0Y2hFdmVudChldk9iaikpfSx3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBlbGVtZW50O3JldHVybiBlbGVtZW50PWxpbmtUYWcsZXZlbnRGaXJlKGxpbmtUYWcsImNsaWNrIil9LDEpfSxNTUpTVXRpbHMubW9kRHVyYXRpb249ZnVuY3Rpb24oZHVyYXRpb24pe3JldHVybiB0aGlzLmlzQW5kcm9pZCgpPzEwMD5kdXJhdGlvbj8xZTMqZHVyYXRpb246ZHVyYXRpb246ZHVyYXRpb259LE1NSlNVdGlscy5nZXRQYXJhbXM9ZnVuY3Rpb24oKXt2YXIgbixuYW1lLHBhaXIscGFyYW1zLHFzLHZhbHVlLF9pLF9sZW4sX3JlZixfcmVmMTtpZihudWxsIT10aGlzLnBhcmFtcylyZXR1cm4gdGhpcy5wYXJhbXM7aWYocGFyYW1zPXt9LHFzPXdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLHFzLmxlbmd0aClmb3IoX3JlZj1mdW5jdGlvbigpe3ZhciBfaixfbGVuLF9yZWYsX3Jlc3VsdHM7Zm9yKF9yZWY9cXMuc3BsaXQoIiYiKSxfcmVzdWx0cz1bXSxfaj0wLF9sZW49X3JlZi5sZW5ndGg7X2xlbj5fajtfaisrKXBhaXI9X3JlZltfal0sX3Jlc3VsdHMucHVzaChwYWlyLnNwbGl0KCI9IikpO3JldHVybiBfcmVzdWx0c30oKSxfaT0wLF9sZW49X3JlZi5sZW5ndGg7X2xlbj5faTtfaSsrKV9yZWYxPV9yZWZbX2ldLG5hbWU9X3JlZjFbMF0sdmFsdWU9X3JlZjFbMV0sbj1uYW1lLnJlcGxhY2UoIm1tXyIsIiIpLG51bGwhPXZhbHVlJiYocGFyYW1zW25dPXZhbHVlKTtyZXR1cm4gdGhpcy5wYXJhbXM9cGFyYW1zLHRoaXMucGFyYW1zfSxNTUpTVXRpbHMuY29uc29sZUxvZz1mdW5jdGlvbihfbXNnLF91c2VBbGVydCl7cmV0dXJuIG51bGw9PV91c2VBbGVydCYmKF91c2VBbGVydD0hMSksTU1KUy5ldmVudFRyYWNraW5nLnB1c2goX21zZyksdGhpcy5pc0FuZHJvaWQoKT9udWxsIT13aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nKF9tc2cpOnRoaXMuaXNXaW5kb3dzKCk/d2luZG93LmV4dGVybmFsLm5vdGlmeShfbXNnKToobnVsbCE9d2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZyhfbXNnKSxfdXNlQWxlcnQmJmFsZXJ0KF9tc2cpKSwhMX0sTU1KU1V0aWxzLmlPU1ZlcnNpb249ZnVuY3Rpb24oKXt2YXIgX3Y7cmV0dXJuIHRoaXMuaW9zX3ZlcnNpb24/dGhpcy5pb3NfdmVyc2lvbjooX3Y9bmF2aWdhdG9yLmFwcFZlcnNpb24uc3BsaXQoIiBPUyAiKVsxXSxfdj1fdi5zcGxpdCgiICIpWzBdLnRyaW0oKS5zcGxpdCgiXyIpLF92LnNwbGljZSgxLDAsIi4iKSx0aGlzLmlvc192ZXJzaW9uPXBhcnNlRmxvYXQoX3Yuam9pbigiIikpKX0sTU1KU1V0aWxzLmdldExvY2F0aW9uPWZ1bmN0aW9uKGZ1bmMsZXJyb3Ipe3JldHVybiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24/bmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jLGVycm9yLHtlbmFibGVIaWdoQWNjdXJhY3k6ITB9KTplcnJvcih7Y29kZTo5OX0pfSxNTUpTVXRpbHMubGlzdGVuRm9yQnJvd3NlclJlYWR5PWZ1bmN0aW9uKGZ1bmMpe3JldHVybiB0aGlzLmlzV2luZG93cygpP2RvY3VtZW50LmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLGZ1bmMpOmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmMsITEpfSxNTUpTVXRpbHMucG9zdEV2ZW50PWZ1bmN0aW9uKGV2ZW50KXt2YXIgZXZPYmo7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUV2ZW50Pyhldk9iaj1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKSxldk9iai5pbml0RXZlbnQoZXZlbnQsITAsITApLHdpbmRvdy5kb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2T2JqKSk6ZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3R8fHRoaXMuaXNXaW5kb3dzKCk/ZG9jdW1lbnQuYm9keS5maXJlRXZlbnQoIm9uIitldmVudCk6dm9pZCAwfSxNTUpTVXRpbHMub2Zmc2V0PWZ1bmN0aW9uKF9lbCl7dmFyIGNvb3JkcyxwX2Nvb3JkcztyZXR1cm4gY29vcmRzPVtfZWwub2Zmc2V0TGVmdCxfZWwub2Zmc2V0VG9wXSxudWxsIT1fZWwub2Zmc2V0UGFyZW50JiYocF9jb29yZHM9dGhpcy5vZmZzZXQoX2VsLm9mZnNldFBhcmVudCksY29vcmRzWzBdKz1wX2Nvb3Jkc1swXSxjb29yZHNbMV0rPXBfY29vcmRzWzFdKSxjb29yZHN9LE1NSlNVdGlsc30oKSxNTUpTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTU1KUygpe31yZXR1cm4gTU1KUy5WRVJTSU9OPSIxLjMiLE1NSlMuY29tbWFuZFF1ZXVlPVtdLE1NSlMuYW5kcm9pZEludGVyZmFjZT13aW5kb3dbImludGVyZmFjZSJdLE1NSlMudXRpbHM9TU1KU1V0aWxzLE1NSlMuc2RrUmVhZHk9ITEsTU1KUy5leGVjdXRpbmdDb21tYW5kPSExLE1NSlMuZXhlY3V0aW5nQ29tbWFuZERlbGF5PTAsTU1KUy5wYXJhbXM9bnVsbCxNTUpTLnBsYXRmb3JtPW51bGwsTU1KUy5jYWxsYmFja3M9e30sTU1KUy5saXN0ZW5lcnM9e30sTU1KUy5zZGtWZXJzaW9uPW51bGwsTU1KUy5vcGVuQ2FsbGVkPSExLE1NSlMuVFlQRV9TVFJJTkc9InN0cmluZyIsTU1KUy5UWVBFX09CSkVDVD10eXBlb2ZbXSxNTUpTLlRZUEVfRlVOQ1RJT049ImZ1bmN0aW9uIixNTUpTLlRZUEVfTlVNQkVSPSJudW1iZXIiLE1NSlMuVFlQRV9VTkRFRklORUQ9InVuZGVmaW5lZCIsTU1KUy5ldmVudFRyYWNraW5nPVtdLE1NSlMuc2V0RXhlY3V0aW5nQ29tbWFuZD1mdW5jdGlvbihfZXhlY3V0aW5nLF90aW1lKXtyZXR1cm4gbnVsbD09X3RpbWUmJihfdGltZT0xZTQpLHRoaXMubG9nQ2FsbHN0YWNrKCksdGhpcy5leGVjdXRpbmdDb21tYW5kPV9leGVjdXRpbmd9LE1NSlMubG9nQ2FsbHN0YWNrPWZ1bmN0aW9uKCl7dmFyIGNhbGxzdGFjayxjdXJyZW50RnVuY3Rpb24sZm4sZm5hbWU7Zm9yKGNhbGxzdGFjaz1bXSxjdXJyZW50RnVuY3Rpb249YXJndW1lbnRzLmNhbGxlZS5jYWxsZXI7Y3VycmVudEZ1bmN0aW9uOylmbj1jdXJyZW50RnVuY3Rpb24udG9TdHJpbmcoKSxmbmFtZT1mbi5zdWJzdHJpbmcoZm4uaW5kZXhPZigiZnVuY3Rpb24iKSs4LGZuLmluZGV4T2YoIiIpKXx8ImFub255bW91cyIsY2FsbHN0YWNrLnB1c2goZm5hbWUpLGN1cnJlbnRGdW5jdGlvbj1jdXJyZW50RnVuY3Rpb24uY2FsbGVyO3JldHVybiBNTUpTLnV0aWxzLmNvbnNvbGVMb2coY2FsbHN0YWNrKX0sTU1KUy5kZWJ1Zz1mdW5jdGlvbigpe3ZhciB0b0xvZztyZXR1cm4gdG9Mb2c9dGhpcy5ldmVudFRyYWNraW5nLmpvaW4oIlxuIiksY29uc29sZS5sb2codG9Mb2cpLCEwfSxNTUpTLnNldFNES1ZlcnNpb249ZnVuY3Rpb24odmVyc2lvbil7cmV0dXJuIHRoaXMuc2RrVmVyc2lvbj12ZXJzaW9ufSxNTUpTLm1tc2RrT3BlbkZ1bmN0aW9uPW51bGwsTU1KUy5zaG91bGRPcGVuV2FzQ2FsbGVkPSExLE1NSlMuc2V0dXBPdmVybGF5PWZ1bmN0aW9uKHVybCxwYXJhbXMpe3JldHVybiBudWxsPT1wYXJhbXMmJihwYXJhbXM9e30pLHRoaXMub3Blbih1cmwscGFyYW1zLCExKX0sTU1KUy5vcGVuPWZ1bmN0aW9uKHVybCxwYXJhbXMsYXV0b0V4cGFuZCl7cmV0dXJuIG51bGw9PXBhcmFtcyYmKHBhcmFtcz17fSksbnVsbD09YXV0b0V4cGFuZCYmKGF1dG9FeHBhbmQ9ITApLG1yYWlkLnNldEV4cGFuZFByb3BlcnRpZXMocGFyYW1zKSxtcmFpZC5leHBhbmQodXJsKX0sTU1KUy5jbG9zZT1mdW5jdGlvbihkdXJhdGlvbil7dmFyIG1vZER1cmF0aW9uO3JldHVybiBudWxsPT1kdXJhdGlvbiYmKGR1cmF0aW9uPTApLG1vZER1cmF0aW9uPWZ1bmN0aW9uKGR1cmF0aW9uKXtyZXR1cm4gMTAwPmR1cmF0aW9uPzFlMypkdXJhdGlvbjpkdXJhdGlvbn0sc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBNTUpTLmludGVyc3RpdGlhbC5jbG9zZSgpfSxtb2REdXJhdGlvbihkdXJhdGlvbikpfSxNTUpTLm9wZW5FeHRlcm5hbD1mdW5jdGlvbih1cmwpe3JldHVybiB0aGlzLnV0aWxzLmlzQnJpZGdlRW5hYmxlZCgpP01NRGV2aWNlLm9wZW5VcmwodXJsKTp3aW5kb3cubG9jYXRpb249dGhpcy51dGlscy5pc0lPUygpPyJtbWJyb3dzZXI6Oi8vIit1cmw6Im1tYnJvd3NlcjovLyIrdXJsfSxNTUpTLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnQpe3JldHVybiBkZWxldGUgdGhpcy5saXN0ZW5lcnNbZXZlbnRdfSxNTUpTLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnQsbGlzdGVuZXIpe3JldHVybiB0aGlzLmxpc3RlbmVyc1tldmVudF09bGlzdGVuZXJ9LE1NSlMuZW5xdWV1ZUNvbW1hbmQ9ZnVuY3Rpb24oY29tbWFuZCl7cmV0dXJuIHRoaXMuY29tbWFuZFF1ZXVlLnB1c2goY29tbWFuZCksdGhpcy51dGlscy5jb25zb2xlTG9nKCJjb21tYW5kUXVldWUgIitNTUpTLmNvbW1hbmRRdWV1ZSl9LE1NSlMuY2FsbGJhY2s9ZnVuY3Rpb24ocmVzcG9uc2Upe3ZhciBrbGFzcyxrbGFzc0Z1bmN0aW9uLG1ldGhvZCxyZXNwb25zZV9kYXRhLHJlc3VsdDtyZXR1cm4gcmVzdWx0PXJlc3BvbnNlLnJlc3VsdCxtZXRob2Q9cmVzcG9uc2UuY2FsbCxyZXNwb25zZV9kYXRhPXJlc3BvbnNlLnJlc3BvbnNlLGtsYXNzPXJlc3BvbnNlWyJjbGFzcyJdLGtsYXNzRnVuY3Rpb249d2luZG93W2tsYXNzXSx0eXBlb2Yga2xhc3NGdW5jdGlvbj09PXRoaXMuVFlQRV9GVU5DVElPTj9rbGFzc0Z1bmN0aW9uKG1ldGhvZCxyZXNwb25zZV9kYXRhLHJlc3VsdCk6dm9pZCAwfSxNTUpTfSgpLE1NU0RLSW50ZXJmYWNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTU1TREtJbnRlcmZhY2UoKXt0aGlzLnN0YXRlPSJsb2FkaW5nIix0aGlzLmlzUmVhZHk9ITEsdGhpcy5hZFByb3BlcnRpZXM9e30sdGhpcy52aWV3YWJsZT0hMSx0aGlzLnBsYWNlbWVudFR5cGU9InVua25vd24iLHRoaXMuYWRTaXplPXt9LHRoaXMuZGVmYXVsdFBvc2l0aW9uPXt9LHRoaXMudXRpbHM9TU1KUy51dGlscyx0aGlzLnNwZWVjaFJlc3VsdHM9bnVsbCx0aGlzLnNwZWVjaFN0YXR1cz0idW5rbm93biIsdGhpcy5zcGVlY2hBdWRpb0xldmVsPTAsdGhpcy5zcGVlY2hCYWNrZ3JvdW5kQXVkaW9MZXZlbD0wLHRoaXMuYXVkaW9Qb3NpdGlvbj0wLHRoaXMubWljcm9waG9uZVN0YXRlPSJyZWFkeSIsdGhpcy5taWNyb3Bob25lQXVkaW9MZXZlbD0wfXJldHVybiBNTVNES0ludGVyZmFjZS5wcm90b3R5cGUuc2V0QWRTaXplPWZ1bmN0aW9uKF9wcm9wZXJ0aWVzKXtyZXR1cm4gbnVsbCE9dGhpcy5kZWZhdWx0UG9zaXRpb24mJih0aGlzLmRlZmF1bHRQb3NpdGlvbj10aGlzLmFkU2l6ZSksdGhpcy5hZFNpemU/KHRoaXMuYWRTaXplLmhlaWdodCE9PV9wcm9wZXJ0aWVzLmhlaWdodHx8dGhpcy5hZFNpemUud2lkdGghPT1fcHJvcGVydGllcy53aWR0aCkmJih0aGlzLmFkU2l6ZT1fcHJvcGVydGllcyxNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoInNpemVDaGFuZ2UiLF9wcm9wZXJ0aWVzLndpZHRoLF9wcm9wZXJ0aWVzLmhlaWdodCkpOnRoaXMuYWRTaXplPV9wcm9wZXJ0aWVzLHRoaXMudXRpbHMuY29uc29sZUxvZygiU2V0dGluZyBBZCBTaXplICIrSlNPTi5zdHJpbmdpZnkoX3Byb3BlcnRpZXMpKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLnNldEFkUHJvcGVydGllcz1mdW5jdGlvbihfYWRQcm9wZXJ0aWVzKXtyZXR1cm4gdGhpcy51dGlscy5jb25zb2xlTG9nKCJzZXRBZFByb3BlcnRpZXM6ICIrSlNPTi5zdHJpbmdpZnkoX2FkUHJvcGVydGllcykpLHRoaXMuYWRQcm9wZXJ0aWVzPV9hZFByb3BlcnRpZXMsbnVsbCE9dGhpcy5hZFByb3BlcnRpZXMmJihudWxsIT10aGlzLmFkUHJvcGVydGllcy5hZCYmKHRoaXMuYWRTaXplPXRoaXMuYWRQcm9wZXJ0aWVzLmFkKSxudWxsIT10aGlzLmFkUHJvcGVydGllcy5kZXZpY2UmJk1NSlMuZGV2aWNlLnNldEluZm8odGhpcy5hZFByb3BlcnRpZXMuZGV2aWNlKSxudWxsIT10aGlzLmFkUHJvcGVydGllcy5zdXBwb3J0cyk/dGhpcy5zdXBwb3J0UHJvcGVydGllcz10aGlzLmFkUHJvcGVydGllcy5zdXBwb3J0czp2b2lkIDB9LE1NU0RLSW50ZXJmYWNlLnByb3RvdHlwZS5zZXRQbGFjZW1lbnRUeXBlPWZ1bmN0aW9uKHBsYWNlbWVudFR5cGUpe3RoaXMucGxhY2VtZW50VHlwZT1wbGFjZW1lbnRUeXBlfSxNTVNES0ludGVyZmFjZS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oX3N0YXRlKXtyZXR1cm4gdGhpcy5zdGF0ZSE9PV9zdGF0ZT8odGhpcy51dGlscy5jb25zb2xlTG9nKCdNUkFJRCBzdGF0ZSBjaGFuZ2UgZnJvbSAiJyt0aGlzLnN0YXRlKyciIHRvICInK19zdGF0ZSsnIicpLHRoaXMuc3RhdGU9X3N0YXRlLE1NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygic3RhdGVDaGFuZ2UiLF9zdGF0ZSkpOnZvaWQgMH0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLnNldFZpZXdhYmxlPWZ1bmN0aW9uKF92aXNpYmxlKXtyZXR1cm4gdGhpcy52aWV3YWJsZSE9PV92aXNpYmxlPyh0aGlzLnV0aWxzLmNvbnNvbGVMb2coIk1SQUlEIHZpZXdhYmxlIGNoYW5nZTogdmlzaWJsZSA9ICIrX3Zpc2libGUpLHRoaXMudmlld2FibGU9X3Zpc2libGUsTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJ2aWV3YWJsZUNoYW5nZSIsX3Zpc2libGUpKTp2b2lkIDB9LE1NU0RLSW50ZXJmYWNlLnByb3RvdHlwZS5yZWFkeT1mdW5jdGlvbigpe3JldHVybiJsb2FkaW5nIiE9PXRoaXMuc3RhdGUmJnRoaXMuaXNSZWFkeT09PSExPyh0aGlzLnV0aWxzLmNvbnNvbGVMb2coIk1SQUlEIHJlYWR5LiIpLHRoaXMudXRpbHMucG9zdEV2ZW50KCJzZGtyZWFkeSIpLHRoaXMuaXNSZWFkeT0hMCxNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoInJlYWR5IikpOnZvaWQgMH0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKG1lc3NhZ2UsYWN0aW9uKXtyZXR1cm4gTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJlcnJvciIsbWVzc2FnZSxhY3Rpb24pfSxNTVNES0ludGVyZmFjZS5wcm90b3R5cGUudm9pY2VTdGF0ZUNoYW5nZT1mdW5jdGlvbihfc3RhdHVzKXtyZXR1cm4gdGhpcy5zcGVlY2hTdGF0dXM9X3N0YXR1cyxNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoInZvaWNlU3RhdGVDaGFuZ2UiLF9zdGF0dXMpfSxNTVNES0ludGVyZmFjZS5wcm90b3R5cGUuYXVkaW9MZXZlbENoYW5nZT1mdW5jdGlvbihfYXVkaW9MZXZlbCl7cmV0dXJuIHRoaXMuc3BlZWNoQXVkaW9MZXZlbD1fYXVkaW9MZXZlbCxNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoImF1ZGlvTGV2ZWxDaGFuZ2UiLF9hdWRpb0xldmVsKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLnJlY29nbml0aW9uUmVzdWx0PWZ1bmN0aW9uKF9yZXN1bHRzKXtyZXR1cm4gdGhpcy5zcGVlY2hSZXN1bHRzPV9yZXN1bHRzLE1NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygicmVjb2duaXRpb25SZXN1bHQiLF9yZXN1bHRzKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLnZvaWNlRXJyb3I9ZnVuY3Rpb24oX2Vycm9yKXtyZXR1cm4gTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJ2b2ljZUVycm9yIixfZXJyb3IpfSxNTVNES0ludGVyZmFjZS5wcm90b3R5cGUuYmFja2dyb3VuZEF1ZGlvTGV2ZWw9ZnVuY3Rpb24oX2JhY2tncm91bmRBdWRpb0xldmVsKXtyZXR1cm4gdGhpcy5zcGVlY2hCYWNrZ3JvdW5kQXVkaW9MZXZlbD1fYmFja2dyb3VuZEF1ZGlvTGV2ZWwsTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJiYWNrZ3JvdW5kQXVkaW9MZXZlbCIsX2JhY2tncm91bmRBdWRpb0xldmVsKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLmF1ZGlvQ2FjaGVkPWZ1bmN0aW9uKCl7cmV0dXJuIE1NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygiYXVkaW9DYWNoZWQiKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLmF1ZGlvU3RhcnRlZD1mdW5jdGlvbigpe3JldHVybiBNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoImF1ZGlvU3RhcnRlZCIpfSxNTVNES0ludGVyZmFjZS5wcm90b3R5cGUuYXVkaW9Qb3NpdGlvbkNoYW5nZT1mdW5jdGlvbihfcG9zaXRpb24pe3JldHVybiB0aGlzLmF1ZGlvUG9zaXRpb249X3Bvc2l0aW9uLE1NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygiYXVkaW9Qb3NpdGlvbkNoYW5nZSIsX3Bvc2l0aW9uKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLmF1ZGlvQ29tcGxldGVkPWZ1bmN0aW9uKCl7cmV0dXJuIE1NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygiYXVkaW9Db21wbGV0ZWQiKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLmN1c3RvbVZvaWNlV29yZHNBZGRlZD1mdW5jdGlvbigpe3JldHVybiBNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoImN1c3RvbVZvaWNlV29yZHNBZGRlZCIpfSxNTVNES0ludGVyZmFjZS5wcm90b3R5cGUuY3VzdG9tVm9pY2VXb3Jkc0RlbGV0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJjdXN0b21Wb2ljZVdvcmRzRGVsZXRlZCIpfSxNTVNES0ludGVyZmFjZS5wcm90b3R5cGUubWljcm9waG9uZVN0YXRlQ2hhbmdlPWZ1bmN0aW9uKF9tcFN0YXRlKXtyZXR1cm4gdGhpcy5taWNyb3Bob25lU3RhdGU9X21wU3RhdGUsTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJtaWNyb3Bob25lU3RhdGVDaGFuZ2UiLF9tcFN0YXRlKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLm1pY3JvcGhvbmVBdWRpb0xldmVsQ2hhbmdlPWZ1bmN0aW9uKF9tcGF1ZGlvTGV2ZWwpe3JldHVybiB0aGlzLm1pY3JvcGhvbmVBdWRpb0xldmVsPV9tcGF1ZGlvTGV2ZWwsTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJtaWNyb3Bob25lQXVkaW9MZXZlbENoYW5nZSIsX21wYXVkaW9MZXZlbCl9LE1NU0RLSW50ZXJmYWNlfSgpLE1NTGlzdGVuZXJNYW5hZ2VyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTU1MaXN0ZW5lck1hbmFnZXIoKXt0aGlzLmxpc3RlbmVycz17fSx0aGlzLnV0aWxzPU1NSlMudXRpbHN9cmV0dXJuIE1NTGlzdGVuZXJNYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50LGxpc3RlbmVyKXt2YXIgaW5kZXg7cmV0dXJuIG51bGwhPXRoaXMubGlzdGVuZXJzW2V2ZW50XT9udWxsIT1saXN0ZW5lcj8oaW5kZXg9dGhpcy5saXN0ZW5lcnNbZXZlbnRdLmluZGV4T2YobGlzdGVuZXIpLDA+aW5kZXg/KHRoaXMudXRpbHMuY29uc29sZUxvZygiTGlzdG5lciBub3QgZm91bmQhIiksITEpOih0aGlzLnV0aWxzLmNvbnNvbGVMb2coIiciK2V2ZW50KyInIGZvdW5kIGxpc3RlbmVyOiAiK2xpc3RlbmVyKSx0aGlzLmxpc3RlbmVyc1tldmVudF0uc3BsaWNlKGluZGV4LDEpLHRoaXMudXRpbHMuY29uc29sZUxvZygiJyIrZXZlbnQrIicgbGlzdGVuZXJzOiAiK3RoaXMubGlzdGVuZXJzW2V2ZW50XSkpKTpkZWxldGUgdGhpcy5saXN0ZW5lcnNbZXZlbnRdOnZvaWQgMH0sTU1MaXN0ZW5lck1hbmFnZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnQsbGlzdGVuZXIpe3JldHVybiBudWxsPT10aGlzLmxpc3RlbmVyc1tldmVudF0mJih0aGlzLmxpc3RlbmVyc1tldmVudF09W10pLHRoaXMudXRpbHMuY29uc29sZUxvZygiJyIrZXZlbnQrIicgYWRkZWQgbGlzdGVuZXI6ICIrbGlzdGVuZXIpLHRoaXMubGlzdGVuZXJzW2V2ZW50XS5wdXNoKGxpc3RlbmVyKSx0aGlzLnV0aWxzLmNvbnNvbGVMb2coIiciK2V2ZW50KyInIGxpc3RlbmVyczogIit0aGlzLmxpc3RlbmVyc1tldmVudF0pfSxNTUxpc3RlbmVyTWFuYWdlci5wcm90b3R5cGUuZmlyZUV2ZW50Q2FsbGJhY2tzPWZ1bmN0aW9uKGV2ZW50TmFtZSxwYXJhbWV0ZXIsYWN0aW9uKXt2YXIgY2FsbGJhY2ssX2ksX2xlbixfcmVmO2lmKHRoaXMudXRpbHMuY29uc29sZUxvZygiZXZlbnQgY2FsbGJhY2s6ICIrZXZlbnROYW1lKSxudWxsIT10aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdKWZvcihfcmVmPXRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0sX2k9MCxfbGVuPV9yZWYubGVuZ3RoO19sZW4+X2k7X2krKyljYWxsYmFjaz1fcmVmW19pXSxudWxsIT1wYXJhbWV0ZXI/bnVsbCE9YWN0aW9uP2NhbGxiYWNrKHBhcmFtZXRlcixhY3Rpb24pOmNhbGxiYWNrKHBhcmFtZXRlcik6Y2FsbGJhY2soKX0sTU1MaXN0ZW5lck1hbmFnZXJ9KCksTU1Db21tYW5kPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTU1Db21tYW5kKGNvbW1hbmQscGFyYW1zKXt2YXIgZnVuYyxmdW5jdGlvbk5hbWUsbmFtZSxxdWVyeV9hcmdzLHRpbWVzdGFtcCx1cmw7aWYodGhpcy51dGlscz1NTUpTLnV0aWxzLHRoaXMucGxhdGZvcm09dGhpcy51dGlscy5nZXRQbGF0Zm9ybSgpLHRoaXMuY29tbWFuZD1jb21tYW5kLHVybD0ibW1zZGs6Ly8iK2NvbW1hbmQrIi8iLG51bGwhPXBhcmFtcyl7cXVlcnlfYXJncz1bXSx0aW1lc3RhbXA9KG5ldyBEYXRlKS5nZXRUaW1lKCksZnVuYz1wYXJhbXMuY2FsbGJhY2ssZnVuY3Rpb25OYW1lPXRoaXMuY29tbWFuZC5yZXBsYWNlKCIuIiwiXyIpKyJfIit0aW1lc3RhbXAsTU1KUy51dGlscy5jb25zb2xlTG9nKCJjb21tYW5kOiAiK2NvbW1hbmQrIkNhbGxiYWNrIGZ1bmN0aW9uOiAiK2Z1bmMpLE1NSlMudXRpbHMuY29uc29sZUxvZygiY29tbWFuZDogIitjb21tYW5kKyIgcGFyYW1zICIrSlNPTi5zdHJpbmdpZnkocGFyYW1zKSksTU1KUy51dGlscy5jb25zb2xlTG9nKCJDYWxsYmFjayBmdW5jdGlvbjogIit0eXBlb2YgZnVuYyksdHlwZW9mIGZ1bmM9PT1NTUpTLlRZUEVfU1RSSU5HP3dpbmRvdy5NTUpTLmNhbGxiYWNrc1tmdW5jdGlvbk5hbWVdPWZ1bmN0aW9uKHJlc3BvbnNlKXt2YXIgYUZ1bmMsY29udGV4dCxpLG5hbWVzcGFjZXM7Zm9yKE1NSlMudXRpbHMuY29uc29sZUxvZygiZXhlY3V0aW5nIHN0cmluZyBmdW5jdGlvbiBjYWxsYmFjazogIitmdW5jdGlvbk5hbWUpLG51bGwhPXJlc3BvbnNlJiYocmVzcG9uc2UuZGF0YT1yZXNwb25zZS5yZXNwb25zZSksbmFtZXNwYWNlcz1mdW5jLnNwbGl0KCIuIiksYUZ1bmM9bmFtZXNwYWNlcy5wb3AoKSxpPTAsY29udGV4dD13aW5kb3c7aTxuYW1lc3BhY2VzLmxlbmd0aDspTU1KUy51dGlscy5jb25zb2xlTG9nKCJuYW1lc3BhY2U6ICIrbmFtZXNwYWNlc1tpXSksY29udGV4dD1jb250ZXh0W25hbWVzcGFjZXNbaV1dLGkrKztyZXR1cm4gTU1KUy51dGlscy5jb25zb2xlTG9nKCJhRnVuYzogIithRnVuYyksTU1KUy51dGlscy5jb25zb2xlTG9nKCJjb250ZXh0OiAiK2NvbnRleHQpLGNvbnRleHRbYUZ1bmNdKHJlc3BvbnNlKSxNTUpTLnNldEV4ZWN1dGluZ0NvbW1hbmQoITEpfTp0eXBlb2YgZnVuYz09PU1NSlMuVFlQRV9GVU5DVElPTj93aW5kb3cuTU1KUy5jYWxsYmFja3NbZnVuY3Rpb25OYW1lXT1mdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIG51bGwhPXJlc3BvbnNlJiYocmVzcG9uc2UuZGF0YT1yZXNwb25zZS5yZXNwb25zZSxyZXNwb25zZS5yZXN1bHQ9cGFyc2VJbnQocmVzcG9uc2UucmVzdWx0KSksZnVuYyhyZXNwb25zZSksTU1KUy5zZXRFeGVjdXRpbmdDb21tYW5kKCExKX06dHlwZW9mIGZ1bmM9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYod2luZG93Lk1NSlMuY2FsbGJhY2tzW2Z1bmN0aW9uTmFtZV09ZnVuY3Rpb24oKXtyZXR1cm4gTU1KUy51dGlscy5jb25zb2xlTG9nKCJleGVjdXRpbmcgdW5kZWZpbmVkIGNhbGxiYWNrOiAiK2Z1bmN0aW9uTmFtZSksTU1KUy51dGlscy5jb25zb2xlTG9nKCJubyBjYWxsYmFjayB3YXMgc3BlY2lmaWVkIiksTU1KUy5zZXRFeGVjdXRpbmdDb21tYW5kKCExKX0pLHBhcmFtcy5jYWxsYmFjaz0iTU1KUy5jYWxsYmFja3MuIitmdW5jdGlvbk5hbWUsdGhpcy5jYWxsYmFjaz1wYXJhbXMuY2FsbGJhY2s7Zm9yKG5hbWUgaW4gcGFyYW1zKXR5cGVvZiBuYW1lPT09TU1KUy5UWVBFX1NUUklORyYmdm9pZCAwIT09cGFyYW1zW25hbWVdJiZudWxsIT09cGFyYW1zW25hbWVdJiZxdWVyeV9hcmdzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpKyI9IitlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW25hbWVdKSk7cXVlcnlfYXJncy5sZW5ndGg+MCYmKHVybCs9Ij8iK3F1ZXJ5X2FyZ3Muam9pbigiJiIpKX1NTUpTLnV0aWxzLmNvbnNvbGVMb2codXJsKSx0aGlzLnVybD11cmx9cmV0dXJuIE1NQ29tbWFuZC51cmw9bnVsbCxNTUNvbW1hbmQucGxhdGZvcm09bnVsbCxNTUNvbW1hbmQuY29tbWFuZD1udWxsLE1NQ29tbWFuZC5jYWxsYmFjaz1udWxsLE1NQ29tbWFuZC5wcm90b3R5cGUucGVyZm9ybT1mdW5jdGlvbigpe3ZhciBpZnJhbWU7cmV0dXJuIHRoaXMudXRpbHMuY29uc29sZUxvZygicGVyZm9ybSBwbGF0Zm9ybTogICIrdGhpcy5wbGF0Zm9ybSksdGhpcy51dGlscy5jb25zb2xlTG9nKCJjdXJyZW50IHdpbmRvdy5sb2NhdGlvbjogICIrd2luZG93LmxvY2F0aW9uKSxNTUpTLmV4ZWN1dGluZ0NvbW1hbmQ9ITAsdGhpcy51dGlscy5jb25zb2xlTG9nKCJ3aW5kb3cubG9jYXRpb246ICAiK3RoaXMudXJsKSx0aGlzLnV0aWxzLmNvbnNvbGVMb2coIlNldHRpbmcgZXhlY3V0aW5nQ29tbWFuZCA9IHRydWU6ICAiKSxpZnJhbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiSUZSQU1FIiksaWZyYW1lLnNldEF0dHJpYnV0ZSgic3JjIix0aGlzLnVybCksZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGlmcmFtZSksaWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaWZyYW1lKSxpZnJhbWU9bnVsbH0sTU1Db21tYW5kfSgpLE1NQnJpZGdlT2JqZWN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTU1CcmlkZ2VPYmplY3QoKXt2YXIgbTt0aGlzLnV0aWxzPU1NSlMudXRpbHMsbT10aGlzLmNvbnN0cnVjdG9yLnRvU3RyaW5nKCkubWF0Y2goL15ccypmdW5jdGlvblxzKyhbXlxzXChdKykvKSxtJiYodGhpcy5jbGFzc05hbWU9bVsxXSl9cmV0dXJuIE1NQnJpZGdlT2JqZWN0LmNsYXNzTmFtZT1udWxsLE1NQnJpZGdlT2JqZWN0LnByb3RvdHlwZS5lbnF1ZXVlPWZ1bmN0aW9uKG1ldGhvZCxwYXJhbXMpe3JldHVybiBNTUpTLmVucXVldWVDb21tYW5kKG5ldyBNTUNvbW1hbmQodGhpcy5jbGFzc05hbWUrIi4iK21ldGhvZCxwYXJhbXMpKSwhMH0sTU1CcmlkZ2VPYmplY3R9KCksTU1EZXZpY2U9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBNTURldmljZSgpe3JldHVybiBfcmVmPU1NRGV2aWNlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF9fZXh0ZW5kcyhNTURldmljZSxfc3VwZXIpLE1NRGV2aWNlLmxvYWRTdGF0ZT0ic3RhbmRieSIsTU1EZXZpY2UubG9hZFRpbWVvdXQ9MCxNTURldmljZS5jb25uZWN0aW9uPW51bGwsTU1EZXZpY2UucHJvdG90eXBlLnNldE5ldHdvcmtDb25uZWN0aW9uPWZ1bmN0aW9uKG5ldHdvcmspe3JldHVybiB0aGlzLmNvbm5lY3Rpb249bmV0d29ya30sTU1EZXZpY2UucHJvdG90eXBlLnNldEluZm89ZnVuY3Rpb24oaW5mbyl7dmFyIGV2dCxrZXksdmFsdWU7Zm9yKGtleSBpbiBpbmZvKXZhbHVlPWluZm9ba2V5XSx0aGlzW2tleV09dmFsdWU7cmV0dXJuIE1NRGV2aWNlLmxvYWRTdGF0ZT0ibG9hZGVkIix0aGlzLnV0aWxzLmlzV2luZG93cygpfHwoZXZ0PSJkZXZpY2VMb2FkZWQiLHRoaXMudXRpbHMucG9zdEV2ZW50KGV2dCksZXZ0PSJkZXZpY2Vsb2FkZWQiLHRoaXMudXRpbHMucG9zdEV2ZW50KGV2dCkpLCEwfSxNTURldmljZS5wcm90b3R5cGUuZ2V0SW5mbz1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIE1NRGV2aWNlLmxvYWRTdGF0ZT0ibG9hZGluZyIsdGhpcy5lbnF1ZXVlKCJnZXRJbmZvIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1EZXZpY2UucHJvdG90eXBlLnNldE1NRElEPWZ1bmN0aW9uKG1tZGlkLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJzZXRNTURJRCIse21tZGlkOm1tZGlkLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NRGV2aWNlLnByb3RvdHlwZS5nZXRBdmFpbGFibGVTY2hlbWVzPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJnZXRBdmFpbGFibGVTY2hlbWVzIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1EZXZpY2UucHJvdG90eXBlLmlzU2NoZW1lQXZhaWxhYmxlPWZ1bmN0aW9uKHNjaGVtZSxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiaXNTY2hlbWVBdmFpbGFibGUiLHtzY2hlbWU6c2NoZW1lLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NRGV2aWNlLnByb3RvdHlwZS5nZXRBdmFpbGFibGVTY2hlbWVzPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJnZXRBdmFpbGFibGVTY2hlbWVzIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1EZXZpY2UucHJvdG90eXBlLmdldE9yaWVudGF0aW9uPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJnZXRPcmllbnRhdGlvbiIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NRGV2aWNlLnByb3RvdHlwZS5nZXRMb2NhdGlvbj1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiZ2V0TG9jYXRpb24iLHtjYWxsYmFjazpjYWxsYmFja30pfSxNTURldmljZS5wcm90b3R5cGUuc2hvd01hcD1mdW5jdGlvbihsb2NhdGlvbixjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgic2hvd01hcCIse2xvY2F0aW9uOmxvY2F0aW9uLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NRGV2aWNlLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKG51bWJlcixkaWFsLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJjYWxsIix7bnVtYmVyOm51bWJlcixjYWxsYmFjazpjYWxsYmFjayxkaWFsOmRpYWx9KX0sTU1EZXZpY2UucHJvdG90eXBlLm9wZW5Vcmw9ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJvcGVuVXJsIix7dXJsOnVybCxjYWxsYmFjazpjYWxsYmFja30pfSxNTURldmljZS5wcm90b3R5cGUub3BlbkFwcFN0b3JlPWZ1bmN0aW9uKGFwcElkLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJvcGVuQXBwU3RvcmUiLHthcHBJZDphcHBJZCxjYWxsYmFjazpjYWxsYmFja30pfSxNTURldmljZS5wcm90b3R5cGUuY29tcG9zZVNNUz1mdW5jdGlvbihudW1iZXIsbWVzc2FnZSxjYWxsYmFjayl7cmV0dXJuIHRoaXMuY29tcG9zZVNtcyhudW1iZXIsbWVzc2FnZSxjYWxsYmFjayl9LE1NRGV2aWNlLnByb3RvdHlwZS5jb21wb3NlU21zPWZ1bmN0aW9uKG51bWJlcixtZXNzYWdlLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy51dGlscy5pc0lPUygpP3RoaXMuZW5xdWV1ZSgiY29tcG9zZVNtcyIse251bWJlcjpudW1iZXIsbWVzc2FnZTptZXNzYWdlLGNhbGxiYWNrOmNhbGxiYWNrfSk6dGhpcy5lbnF1ZXVlKCJjb21wb3NlU21zIix7bnVtYmVyOm51bWJlcixtZXNzYWdlOm1lc3NhZ2UsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1EZXZpY2UucHJvdG90eXBlLmNvbXBvc2VFbWFpbD1mdW5jdGlvbihyZWNpcGllbnQsc3ViamVjdCxtZXNzYWdlLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy51dGlscy5pc0lPUygpP3RoaXMub3BlblVybCgibWFpbHRvOj90bz0iK2VuY29kZVVSSUNvbXBvbmVudChyZWNpcGllbnQpKyImc3ViamVjdD0iK2VuY29kZVVSSUNvbXBvbmVudChzdWJqZWN0KSsiJmJvZHk9IitlbmNvZGVVUklDb21wb25lbnQobWVzc2FnZSksY2FsbGJhY2spOnRoaXMuZW5xdWV1ZSgiY29tcG9zZUVtYWlsIix7cmVjaXBpZW50OnJlY2lwaWVudCxzdWJqZWN0OnN1YmplY3QsbWVzc2FnZTptZXNzYWdlLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NRGV2aWNlLnByb3RvdHlwZS5nZXRDb21wYXNzSGVhZGluZz1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiZ2V0Q29tcGFzc0hlYWRpbmciLHtjYWxsYmFjazpjYWxsYmFja30pfSxNTURldmljZS5wcm90b3R5cGUuZ2V0QmFyb21ldGVyPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJnZXRCYXJvbWV0ZXIiLHtjYWxsYmFjazpjYWxsYmFja30pfSxNTURldmljZS5wcm90b3R5cGUuZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb249ZnVuY3Rpb24oZW5hYmxlZCxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb24iLHtlbmFibGVkOmVuYWJsZWQsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1EZXZpY2V9KE1NQnJpZGdlT2JqZWN0KSxNTU1lZGlhPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gTU1NZWRpYSgpe3JldHVybiBfcmVmMT1NTU1lZGlhLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF9fZXh0ZW5kcyhNTU1lZGlhLF9zdXBlciksTU1NZWRpYS5wcm90b3R5cGUub3BlbkZyb250Q2FtZXJhPWZ1bmN0aW9uKGNvbnN0cmFpbldpZHRoLGNvbnN0cmFpbkhlaWdodCxjb250ZW50TW9kZSxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiZ2V0UGljdHVyZSIse3NvdXJjZVR5cGU6IkNhbWVyYSIsY29uc3RyYWluV2lkdGg6Y29uc3RyYWluV2lkdGgsY29uc3RyYWluSGVpZ2h0OmNvbnN0cmFpbkhlaWdodCxjb250ZW50TW9kZTpjb250ZW50TW9kZSxmcm9udDohMCxjYWxsYmFjazpjYWxsYmFja30pfSxNTU1lZGlhLnByb3RvdHlwZS5vcGVuUmVhckNhbWVyYT1mdW5jdGlvbihjb25zdHJhaW5XaWR0aCxjb25zdHJhaW5IZWlnaHQsY29udGVudE1vZGUsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImdldFBpY3R1cmUiLHtzb3VyY2VUeXBlOiJDYW1lcmEiLGNvbnN0cmFpbldpZHRoOmNvbnN0cmFpbldpZHRoLGNvbnN0cmFpbkhlaWdodDpjb25zdHJhaW5IZWlnaHQsY29udGVudE1vZGU6Y29udGVudE1vZGUsZnJvbnQ6ITEsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1NZWRpYS5wcm90b3R5cGUuZ2V0UGljdHVyZT1mdW5jdGlvbihzb3VyY2VUeXBlLGNvbnN0cmFpbldpZHRoLGNvbnN0cmFpbkhlaWdodCxjb250ZW50TW9kZSxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiZ2V0UGljdHVyZSIse3NvdXJjZVR5cGU6c291cmNlVHlwZSxjb25zdHJhaW5XaWR0aDpjb25zdHJhaW5XaWR0aCxjb25zdHJhaW5IZWlnaHQ6Y29uc3RyYWluSGVpZ2h0LGNvbnRlbnRNb2RlOmNvbnRlbnRNb2RlLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NTWVkaWEucHJvdG90eXBlLndyaXRlVG9QaG90b0xpYnJhcnk9ZnVuY3Rpb24ocGF0aCx0aXRsZSxkZXNjcmlwdGlvbixjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgid3JpdGVUb1Bob3RvTGlicmFyeSIse3BhdGg6cGF0aCx0aXRsZTp0aXRsZSxkZXNjcmlwdGlvbjpkZXNjcmlwdGlvbixjYWxsYmFjazpjYWxsYmFja30pfSxNTU1lZGlhLnByb3RvdHlwZS5pc1NvdXJjZVR5cGVBdmFpbGFibGU9ZnVuY3Rpb24oc291cmNlVHlwZSxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiaXNTb3VyY2VUeXBlQXZhaWxhYmxlIix7c291cmNlVHlwZTpzb3VyY2VUeXBlLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NTWVkaWEucHJvdG90eXBlLmF2YWlsYWJsZVNvdXJjZVR5cGVzPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJhdmFpbGFibGVTb3VyY2VUeXBlcyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NTWVkaWEucHJvdG90eXBlLmdldERldmljZVZvbHVtZT1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiZ2V0RGV2aWNlVm9sdW1lIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1NZWRpYX0oTU1CcmlkZ2VPYmplY3QpLE1NQ2FsZW5kYXI9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBNTUNhbGVuZGFyKCl7cmV0dXJuIF9yZWYyPU1NQ2FsZW5kYXIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gX19leHRlbmRzKE1NQ2FsZW5kYXIsX3N1cGVyKSxNTUNhbGVuZGFyLnByb3RvdHlwZS5hZGRFdmVudD1mdW5jdGlvbihwYXJhbWV0ZXJzLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJhZGRFdmVudCIse3BhcmFtZXRlcnM6SlNPTi5zdHJpbmdpZnkocGFyYW1ldGVycyksY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1DYWxlbmRhcn0oTU1CcmlkZ2VPYmplY3QpLE1NQmFubmVyPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gTU1CYW5uZXIoKXtyZXR1cm4gX3JlZjM9TU1CYW5uZXIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gX19leHRlbmRzKE1NQmFubmVyLF9zdXBlciksTU1CYW5uZXIucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihwYXJhbWV0ZXJzLGNhbGxiYWNrKXtyZXR1cm4gcGFyYW1ldGVycy5jYWxsYmFjaz1jYWxsYmFjayx0aGlzLmVucXVldWUoInJlc2l6ZSIscGFyYW1ldGVycyl9LE1NQmFubmVyfShNTUJyaWRnZU9iamVjdCksTU1Ob3RpZmljYXRpb249ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBNTU5vdGlmaWNhdGlvbigpe3JldHVybiBfcmVmND1NTU5vdGlmaWNhdGlvbi5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBfX2V4dGVuZHMoTU1Ob3RpZmljYXRpb24sX3N1cGVyKSxNTU5vdGlmaWNhdGlvbi5wcm90b3R5cGUuYWxlcnQ9ZnVuY3Rpb24odGl0bGUsbWVzc2FnZSxjYW5jZWxCdXR0b24sYnV0dG9ucyxjYWxsYmFjayl7dmFyIHBhcmFtcztyZXR1cm4gcGFyYW1zPXt0aXRsZTp0aXRsZSxtZXNzYWdlOm1lc3NhZ2UsY2FuY2VsQnV0dG9uOmNhbmNlbEJ1dHRvbixjYWxsYmFjazpjYWxsYmFja30sbnVsbCE9YnV0dG9ucyYmIiIhPT1idXR0b25zJiZudWxsIT09YnV0dG9ucyYmKHBhcmFtcy5idXR0b25zPWJ1dHRvbnMpLHRoaXMuZW5xdWV1ZSgiYWxlcnQiLHBhcmFtcyl9LE1NTm90aWZpY2F0aW9uLnByb3RvdHlwZS52aWJyYXRlPWZ1bmN0aW9uKGR1cmF0aW9uLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJ2aWJyYXRlIix7ZHVyYXRpb246ZHVyYXRpb24sY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1Ob3RpZmljYXRpb259KE1NQnJpZGdlT2JqZWN0KSxNTUlubGluZVZpZGVvPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gTU1JbmxpbmVWaWRlbygpe3JldHVybiBfcmVmNT1NTUlubGluZVZpZGVvLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF9fZXh0ZW5kcyhNTUlubGluZVZpZGVvLF9zdXBlciksTU1JbmxpbmVWaWRlby5wcm90b3R5cGUudXBkYXRlVmlkZW9TZWVrVGltZT1mdW5jdGlvbihjdXJyZW50U2Vla1RpbWUpe3JldHVybiBudWxsIT10aGlzLnRpbWluZ0NhbGxiYWNrP3RoaXMudGltaW5nQ2FsbGJhY2soY3VycmVudFNlZWtUaW1lKTp2b2lkIDB9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLnNldFRpbWluZ0NhbGxiYWNrPWZ1bmN0aW9uKF90aW1pbmdDYWxsYmFjayl7cmV0dXJuIHRoaXMudGltaW5nQ2FsbGJhY2s9X3RpbWluZ0NhbGxiYWNrfSxNTUlubGluZVZpZGVvLnByb3RvdHlwZS5wbGF5VmlkZW89ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInBsYXlWaWRlbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLnN0b3BWaWRlbz1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgic3RvcFZpZGVvIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1JbmxpbmVWaWRlby5wcm90b3R5cGUucGF1c2VWaWRlbz1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgicGF1c2VWaWRlbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLnJlc3VtZVZpZGVvPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJyZXN1bWVWaWRlbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLnJlbW92ZVZpZGVvPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJyZW1vdmVWaWRlbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLnNldFN0cmVhbVZpZGVvU291cmNlPWZ1bmN0aW9uKHN0cmVhbVZpZGVvVVJJLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJzZXRTdHJlYW1WaWRlb1NvdXJjZSIse3N0cmVhbVZpZGVvVVJJOnN0cmVhbVZpZGVvVVJJLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLmFkanVzdFZpZGVvPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5hZGp1c3RWaWRlb1dpdGhJZCgiaW5saW5lVmlkZW8iLGNhbGxiYWNrKX0sTU1JbmxpbmVWaWRlby5wcm90b3R5cGUuYWRqdXN0VmlkZW9XaXRoSWQ9ZnVuY3Rpb24oZGl2SWQsY2FsbGJhY2spe3ZhciBmcmFtZSx2aWRlb0VsO3JldHVybiB2aWRlb0VsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKSxudWxsIT12aWRlb0VsPyhmcmFtZT10aGlzLmNhbGN1bGF0ZURpdlBvc2l0aW9uKGRpdklkKSxmcmFtZS5jYWxsYmFjaz1jYWxsYmFjayx0aGlzLmVucXVldWUoImFkanVzdFZpZGVvIixmcmFtZSkpOmNhbGxiYWNrKHtyZXN1bHQ6MCxyZXNwb25zZToiRGl2IElkIG5vdCBmb3VuZCIsImNsYXNzIjoiTU1JbmxpbmVWaWRlbyIsY2FsbDoiaW5zZXJ0VmlkZW8ifSl9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLmluc2VydFZpZGVvV2l0aElkPWZ1bmN0aW9uKGRpdklkLHRpbWluZ0NhbGxiYWNrLGNhbGxiYWNrKXt2YXIgYXV0b1BsYXksYm9keUhlaWdodCxib2R5V2lkdGgsY2FjaGVkVmlkZW9JRCxjYWNoZWRWaWRlb1VSSSxmcmFtZSxoZWlnaHQsc2hvd0NvbnRyb2xzLHN0cmVhbVZpZGVvVVJJLHRvdWNoQ2FsbGJhY2ssdmlkZW9FbCx3aWR0aCx4LHk7cmV0dXJuIHZpZGVvRWw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpLG51bGwhPXZpZGVvRWw/KGZyYW1lPXRoaXMuY2FsY3VsYXRlRGl2UG9zaXRpb24oZGl2SWQpLG51bGwhPXRpbWluZ0NhbGxiYWNr"

.field private static final MMJS_1_5_PART2:Ljava/lang/String; = "JiZ0aGlzLnNldFRpbWluZ0NhbGxiYWNrKHRpbWluZ0NhbGxiYWNrKSx4PWZyYW1lLngseT1mcmFtZS55LHdpZHRoPWZyYW1lLndpZHRoLGhlaWdodD1mcmFtZS5oZWlnaHQsYm9keVdpZHRoPWRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsYm9keUhlaWdodD1kb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCxjYWNoZWRWaWRlb1VSST12aWRlb0VsLmdldEF0dHJpYnV0ZSgiY2FjaGVkVmlkZW9VUkkiKSxjYWNoZWRWaWRlb0lEPXZpZGVvRWwuZ2V0QXR0cmlidXRlKCJjYWNoZWRWaWRlb0lEIiksdG91Y2hDYWxsYmFjaz12aWRlb0VsLmdldEF0dHJpYnV0ZSgib25Ub3VjaCIpLHN0cmVhbVZpZGVvVVJJPXZpZGVvRWwuZ2V0QXR0cmlidXRlKCJzdHJlYW1WaWRlb1VSSSIpLGF1dG9QbGF5PXZpZGVvRWwuZ2V0QXR0cmlidXRlKCJhdXRvUGxheSIpLHNob3dDb250cm9scz12aWRlb0VsLmdldEF0dHJpYnV0ZSgic2hvd0NvbnRyb2xzIiksY2FjaGVkVmlkZW9VUkl8fHN0cmVhbVZpZGVvVVJJP3RoaXMuZW5xdWV1ZSgiaW5zZXJ0VmlkZW8iLHt4OngseTp5LHdpZHRoOndpZHRoLGhlaWdodDpoZWlnaHQsYm9keVdpZHRoOmJvZHlXaWR0aCxib2R5SGVpZ2h0OmJvZHlIZWlnaHQsY2FjaGVkVmlkZW9VUkk6Y2FjaGVkVmlkZW9VUkksc3RyZWFtVmlkZW9VUkk6c3RyZWFtVmlkZW9VUkksdG91Y2hDYWxsYmFjazp0b3VjaENhbGxiYWNrLGNhY2hlZFZpZGVvSUQ6Y2FjaGVkVmlkZW9JRCxhdXRvUGxheTphdXRvUGxheSxzaG93Q29udHJvbHM6c2hvd0NvbnRyb2xzLGNhbGxiYWNrOmNhbGxiYWNrfSk6Y2FsbGJhY2soe3Jlc3VsdDowLHJlc3BvbnNlOiJjYWNoZWRWaWRlb1VSSSBvciBzdHJlYW1WaWRlb1VSSSBub3QgZm91bmQiLCJjbGFzcyI6Ik1NSW5saW5lVmlkZW8iLGNhbGw6Imluc2VydFZpZGVvIn0pKTpjYWxsYmFjayh7cmVzdWx0OjAscmVzcG9uc2U6IkRpdiBJZCBub3QgZm91bmQiLCJjbGFzcyI6Ik1NSW5saW5lVmlkZW8iLGNhbGw6Imluc2VydFZpZGVvIn0pfSxNTUlubGluZVZpZGVvLnByb3RvdHlwZS5pbnNlcnRWaWRlbz1mdW5jdGlvbih0aW1pbmdDYWxsYmFjayxjYWxsYmFjayl7cmV0dXJuIHRoaXMuaW5zZXJ0VmlkZW9XaXRoSWQoImlubGluZVZpZGVvIix0aW1pbmdDYWxsYmFjayxjYWxsYmFjayl9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLmNhbGN1bGF0ZURpdlBvc2l0aW9uPWZ1bmN0aW9uKGRpdklkKXt2YXIgZGl2RWwsaGVpZ2h0LHBvc2l0aW9uLHdpZHRoLHgseTtyZXR1cm4gZGl2RWw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpLHBvc2l0aW9uPXRoaXMudXRpbHMub2Zmc2V0KGRpdkVsKSx4PXBvc2l0aW9uWzBdLHk9cG9zaXRpb25bMV0sd2lkdGg9ZGl2RWwub2Zmc2V0V2lkdGgsaGVpZ2h0PWRpdkVsLm9mZnNldEhlaWdodCx7eDp4LHk6eSx3aWR0aDp3aWR0aCxoZWlnaHQ6aGVpZ2h0fX0sTU1JbmxpbmVWaWRlb30oTU1CcmlkZ2VPYmplY3QpLE1NQ2FjaGVkVmlkZW89ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBNTUNhY2hlZFZpZGVvKCl7cmV0dXJuIF9yZWY2PU1NQ2FjaGVkVmlkZW8uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gX19leHRlbmRzKE1NQ2FjaGVkVmlkZW8sX3N1cGVyKSxNTUNhY2hlZFZpZGVvLnRpbWluZ0NhbGxiYWNrPW51bGwsTU1DYWNoZWRWaWRlby5lcnJvckNhbGxiYWNrPW51bGwsTU1DYWNoZWRWaWRlby5wcm90b3R5cGUudXBkYXRlVmlkZW9TZWVrVGltZT1mdW5jdGlvbihjdXJyZW50U2Vla1RpbWUpe3JldHVybiBudWxsIT10aGlzLnRpbWluZ0NhbGxiYWNrP3RoaXMudGltaW5nQ2FsbGJhY2soY3VycmVudFNlZWtUaW1lKTp2b2lkIDB9LE1NQ2FjaGVkVmlkZW8ucHJvdG90eXBlLnNldFRpbWluZ0NhbGxiYWNrPWZ1bmN0aW9uKHRpbWluZ0NhbGxiYWNrKXtyZXR1cm4gdGhpcy50aW1pbmdDYWxsYmFjaz10aW1pbmdDYWxsYmFja30sTU1DYWNoZWRWaWRlby5wcm90b3R5cGUuc2V0RXJyb3I9ZnVuY3Rpb24oZXJyb3Ipe3JldHVybiBudWxsIT10aGlzLmVycm9yQ2FsbGJhY2s/dGhpcy5lcnJvckNhbGxiYWNrKGVycm9yKTp2b2lkIDB9LE1NQ2FjaGVkVmlkZW8ucHJvdG90eXBlLnNldEVycm9yQ2FsbGJhY2s9ZnVuY3Rpb24oZXJyb3JDYWxsYmFjayl7cmV0dXJuIHRoaXMuZXJyb3JDYWxsYmFjaz1lcnJvckNhbGxiYWNrfSxNTUNhY2hlZFZpZGVvLnByb3RvdHlwZS5yZXN0YXJ0VmlkZW89ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInJlc3RhcnRWaWRlbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NQ2FjaGVkVmlkZW8ucHJvdG90eXBlLmVuZFZpZGVvPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJlbmRWaWRlbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NQ2FjaGVkVmlkZW8ucHJvdG90eXBlLnBhdXNlVmlkZW89ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInBhdXNlVmlkZW8iLHtjYWxsYmFjazpjYWxsYmFja30pfSxNTUNhY2hlZFZpZGVvLnByb3RvdHlwZS5wbGF5VmlkZW89ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInBsYXlWaWRlbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NQ2FjaGVkVmlkZW8ucHJvdG90eXBlLmF2YWlsYWJsZUNhY2hlZFZpZGVvcz1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiYXZhaWxhYmxlQ2FjaGVkVmlkZW9zIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1DYWNoZWRWaWRlby5wcm90b3R5cGUucGxheUNhY2hlZFZpZGVvPWZ1bmN0aW9uKHZpZGVvSWQsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInBsYXlDYWNoZWRWaWRlbyIse3ZpZGVvSWQ6dmlkZW9JZCxjYWxsYmFjazpjYWxsYmFja30pfSxNTUNhY2hlZFZpZGVvLnByb3RvdHlwZS5jYWNoZVZpZGVvPWZ1bmN0aW9uKHVybCxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiY2FjaGVWaWRlbyIse3VybDp1cmwsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1DYWNoZWRWaWRlby5wcm90b3R5cGUudmlkZW9JZEV4aXN0cz1mdW5jdGlvbih2aWRlb0lkLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJ2aWRlb0lkRXhpc3RzIix7dmlkZW9JZDp2aWRlb0lkLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NQ2FjaGVkVmlkZW99KE1NQnJpZGdlT2JqZWN0KSxNTUludGVyc3RpdGlhbD1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIE1NSW50ZXJzdGl0aWFsKCl7cmV0dXJuIF9yZWY3PU1NSW50ZXJzdGl0aWFsLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF9fZXh0ZW5kcyhNTUludGVyc3RpdGlhbCxfc3VwZXIpLE1NSW50ZXJzdGl0aWFsLmFuaW1hdGlvblR5cGVzPXtpb3M6WyJjdXJsIiwiZmxpcCIsImRpc3NvbHZlIiwic2xpZGV1cCIsIm5vbmUiXSxhbmRyb2lkOlsic2xpZGV1cCIsInNsaWRlZG93biIsImV4cGxvZGUiLCJub25lIl0sd2luZG93czpbInNsaWRldXAiLCJzbGlkZWRvd24iLCJleHBsb2RlIiwibm9uZSJdfSxNTUludGVyc3RpdGlhbC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImNsb3NlIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1JbnRlcnN0aXRpYWwucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJvcGVuIix7dXJsOnVybCxjYWxsYmFjazpjYWxsYmFja30pfSxNTUludGVyc3RpdGlhbC5wcm90b3R5cGUudXNlQ3VzdG9tQ2xvc2U9ZnVuY3Rpb24odXNlQ3VzdG9tQ2xvc2UsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInVzZUN1c3RvbUNsb3NlIix7dXNlQ3VzdG9tQ2xvc2U6dXNlQ3VzdG9tQ2xvc2UsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1JbnRlcnN0aXRpYWwucHJvdG90eXBlLnNldE9yaWVudGF0aW9uPWZ1bmN0aW9uKHByb3BlcnRpZXMsY2FsbGJhY2spe3JldHVybiBwcm9wZXJ0aWVzLmNhbGxiYWNrPWNhbGxiYWNrLHRoaXMuZW5xdWV1ZSgic2V0T3JpZW50YXRpb24iLHByb3BlcnRpZXMpfSxNTUludGVyc3RpdGlhbC5wcm90b3R5cGUuZXhwYW5kVG9FeHRlcm5hbEJyb3dzZXI9ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJleHBhbmRUb0V4dGVybmFsQnJvd3NlciIse3VybDp1cmwsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1JbnRlcnN0aXRpYWwucHJvdG90eXBlLmV4cGFuZFdpdGhQcm9wZXJ0aWVzPWZ1bmN0aW9uKHVybCxwcm9wZXJ0aWVzLGNhbGxiYWNrKXt2YXIga2V5LHBhcmFtcyx0cmFuc2l0aW9uVHlwZSx2YWx1ZTtpZihwYXJhbXM9e2NhbGxiYWNrOmNhbGxiYWNrfSxudWxsIT11cmwmJihwYXJhbXMudXJsPXVybCksTU1KUy51dGlscy5jb25zb2xlTG9nKCJleHBhbmRXaXRoUHJvcGVydGllcyBwcm9wZXJ0aWVzICIrSlNPTi5zdHJpbmdpZnkocHJvcGVydGllcykpLG51bGwhPXByb3BlcnRpZXMpZm9yKGtleSBpbiBwcm9wZXJ0aWVzKV9faGFzUHJvcC5jYWxsKHByb3BlcnRpZXMsa2V5KSYmKHZhbHVlPXByb3BlcnRpZXNba2V5XSwidHJhbnNpdGlvbiI9PT1rZXk/KHRyYW5zaXRpb25UeXBlPXZhbHVlLHBhcmFtc1trZXldPXRyYW5zaXRpb25UeXBlKTpwYXJhbXNba2V5XT12YWx1ZSk7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiZXhwYW5kV2l0aFByb3BlcnRpZXMiLHBhcmFtcyl9LE1NSW50ZXJzdGl0aWFsfShNTUJyaWRnZU9iamVjdCksTU1CcmFuZD1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIE1NQnJhbmQoKXtyZXR1cm4gX3JlZjg9TU1CcmFuZC5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBfX2V4dGVuZHMoTU1CcmFuZCxfc3VwZXIpLE1NQnJhbmQucHJvdG90eXBlLmdldEluZm89ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImdldEluZm8iLHtjYWxsYmFjazpjYWxsYmFja30pfSxNTUJyYW5kfShNTUJyaWRnZU9iamVjdCksTU1BcHBTdG9yZT1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIE1NQXBwU3RvcmUoKXtyZXR1cm4gX3JlZjk9TU1BcHBTdG9yZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBfX2V4dGVuZHMoTU1BcHBTdG9yZSxfc3VwZXIpLE1NQXBwU3RvcmUucHJvdG90eXBlLmxvYWRBcHA9ZnVuY3Rpb24oYXBwSWQsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImxvYWRBcHAiLHthcHBJZDphcHBJZCxjYWxsYmFjazpjYWxsYmFja30pfSxNTUFwcFN0b3JlfShNTUJyaWRnZU9iamVjdCksTU1QYXNzYm9vaz1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIE1NUGFzc2Jvb2soKXtyZXR1cm4gX3JlZjEwPU1NUGFzc2Jvb2suX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gX19leHRlbmRzKE1NUGFzc2Jvb2ssX3N1cGVyKSxNTVBhc3Nib29rLnByb3RvdHlwZS5pc1Bhc3Nib29rQXZhaWxhYmxlPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJpc1Bhc3Nib29rQXZhaWxhYmxlIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1QYXNzYm9vay5wcm90b3R5cGUuYWRkUGFzc0Zyb21VUkw9ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJhZGRQYXNzRnJvbVVSTCIse3VybDp1cmwsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1QYXNzYm9vay5wcm90b3R5cGUuaXNQYXNzSW5zdGFsbGVkPWZ1bmN0aW9uKHVybCxpZGVudGlmaWVyLHNlcmlhbCxjYWxsYmFjayl7cmV0dXJuIG51bGwhPXVybD90aGlzLmVucXVldWUoImlzUGFzc0luc3RhbGxlZCIse3VybDp1cmwsY2FsbGJhY2s6Y2FsbGJhY2t9KTp0aGlzLmVucXVldWUoImlzUGFzc0luc3RhbGxlZCIse2lkZW50aWZpZXI6aWRlbnRpZmllcixzZXJpYWw6c2VyaWFsLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NUGFzc2Jvb2sucHJvdG90eXBlLmlzUGFzc1VSTEluc3RhbGxlZD1mdW5jdGlvbih1cmwsY2FsbGJhY2spe3JldHVybiB0aGlzLmlzUGFzc0luc3RhbGxlZCh1cmwsbnVsbCxudWxsLGNhbGxiYWNrKX0sTU1QYXNzYm9vay5wcm90b3R5cGUuaXNQYXNzSWRlbnRpZmllckluc3RhbGxlZD1mdW5jdGlvbihpZGVudGlmaWVyLHNlcmlhbCxjYWxsYmFjayl7cmV0dXJuIHRoaXMuaXNQYXNzSW5zdGFsbGVkKG51bGwsaWRlbnRpZmllcixzZXJpYWwsY2FsbGJhY2spfSxNTVBhc3Nib29rfShNTUJyaWRnZU9iamVjdCksTU1Tb2NpYWw9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBNTVNvY2lhbCgpe3JldHVybiBfcmVmMTE9TU1Tb2NpYWwuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gX19leHRlbmRzKE1NU29jaWFsLF9zdXBlciksTU1Tb2NpYWwucHJvdG90eXBlLnR3ZWV0PWZ1bmN0aW9uKG1lc3NhZ2UsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInR3ZWV0Iix7bWVzc2FnZTptZXNzYWdlLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NU29jaWFsLnByb3RvdHlwZS50d2VldFdpdGhDb250ZW50PWZ1bmN0aW9uKG1lc3NhZ2UsdXJscyxpbWFnZXMsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInR3ZWV0Iix7bWVzc2FnZTptZXNzYWdlLHVybHM6dXJscy5qb2luKCIsIiksaW1hZ2VzOmltYWdlcy5qb2luKCIsIiksY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1Tb2NpYWwucHJvdG90eXBlLmZhY2Vib29rUG9zdD1mdW5jdGlvbihtZXNzYWdlLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJmYWNlYm9va1Bvc3QiLHttZXNzYWdlOm1lc3NhZ2UsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1Tb2NpYWwucHJvdG90eXBlLmZhY2Vib29rUG9zdFdpdGhDb250ZW50PWZ1bmN0aW9uKG1lc3NhZ2UsdXJscyxpbWFnZXMsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImZhY2Vib29rUG9zdCIse21lc3NhZ2U6bWVzc2FnZSx1cmxzOnVybHMuam9pbigiLCIpLGltYWdlczppbWFnZXMuam9pbigiLCIpLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NU29jaWFsLnByb3RvdHlwZS5hdXRoZW50aWNhdGVkU2VydmljZXM9ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImF1dGhlbnRpY2F0ZWRTZXJ2aWNlcyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NU29jaWFsfShNTUJyaWRnZU9iamVjdCksTU1TcGVlY2hraXQ9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBNTVNwZWVjaGtpdCgpe3JldHVybiBfcmVmMTI9TU1TcGVlY2hraXQuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gX19leHRlbmRzKE1NU3BlZWNoa2l0LF9zdXBlciksTU1TcGVlY2hraXQucHJvdG90eXBlLnN0YXJ0UmVjb3JkaW5nPWZ1bmN0aW9uKGxhbmd1YWdlLHJlY29nbml6ZXIsZW5kT2ZTcGVlY2gsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInN0YXJ0UmVjb3JkaW5nIix7bGFuZ3VhZ2U6bGFuZ3VhZ2UscmVjb2duaXplcjpyZWNvZ25pemVyLGVuZE9mU3BlZWNoOmVuZE9mU3BlZWNoLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NU3BlZWNoa2l0LnByb3RvdHlwZS5lbmRSZWNvcmRpbmc9ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImVuZFJlY29yZGluZyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NU3BlZWNoa2l0LnByb3RvdHlwZS5zYW1wbGVCYWNrZ3JvdW5kQXVkaW9MZXZlbD1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgic2FtcGxlQmFja2dyb3VuZEF1ZGlvTGV2ZWwiLHtjYWxsYmFjazpjYWxsYmFja30pfSxNTVNwZWVjaGtpdC5wcm90b3R5cGUudGV4dFRvU3BlZWNoPWZ1bmN0aW9uKGxhbmd1YWdlLHRleHQsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInRleHRUb1NwZWVjaCIse2xhbmd1YWdlOmxhbmd1YWdlLHRleHQ6dGV4dCxjYWxsYmFjazpjYWxsYmFja30pfSxNTVNwZWVjaGtpdC5wcm90b3R5cGUucmVsZWFzZVZvaWNlPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gTU1KUy5zZGsuc3BlZWNoUmVzdWx0cz1bXSxNTUpTLnNkay5zcGVlY2hBdWRpb0xldmVsPTAsTU1KUy5zZGsuc3BlZWNoQmFja2dyb3VuZEF1ZGlvTGV2ZWw9MCxNTUpTLnNkay5zcGVlY2hTdGF0dXM9IlJlbGVhc2VkIix0aGlzLmVucXVldWUoInJlbGVhc2VWb2ljZSIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NU3BlZWNoa2l0LnByb3RvdHlwZS5jYWNoZUF1ZGlvPWZ1bmN0aW9uKHVybCxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiY2FjaGVBdWRpbyIse3VybDp1cmwsY2FsbGJhY2s6Y2FsbGJhY2t9KQp9LE1NU3BlZWNoa2l0LnByb3RvdHlwZS5wbGF5QXVkaW89ZnVuY3Rpb24odXJsLHByb3BlcnRpZXMsY2FsbGJhY2spe3JldHVybiBwcm9wZXJ0aWVzLnVybD11cmwscHJvcGVydGllcy5jYWxsYmFjaz1jYWxsYmFjayx0aGlzLmVucXVldWUoInBsYXlBdWRpbyIscHJvcGVydGllcyl9LE1NU3BlZWNoa2l0LnByb3RvdHlwZS5zdG9wQXVkaW89ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInN0b3BBdWRpbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NU3BlZWNoa2l0LnByb3RvdHlwZS5hZGRDdXN0b21Wb2ljZVdvcmRzPWZ1bmN0aW9uKHdvcmRzLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJhZGRDdXN0b21Wb2ljZVdvcmRzIix7d29yZHM6d29yZHMsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1TcGVlY2hraXQucHJvdG90eXBlLmRlbGV0ZUN1c3RvbVZvaWNlV29yZHM9ZnVuY3Rpb24od29yZHMsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImRlbGV0ZUN1c3RvbVZvaWNlV29yZHMiLHt3b3Jkczp3b3JkcyxjYWxsYmFjazpjYWxsYmFja30pfSxNTVNwZWVjaGtpdC5wcm90b3R5cGUuZ2V0U2Vzc2lvbklkPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJnZXRTZXNzaW9uSWQiLHtjYWxsYmFjazpjYWxsYmFja30pfSxNTVNwZWVjaGtpdC5wcm90b3R5cGUuZ2V0UmVjb2duaXRpb25SZXN1bHRzPWZ1bmN0aW9uKCl7cmV0dXJuIE1NSlMuc2RrLnNwZWVjaFJlc3VsdHN9LE1NU3BlZWNoa2l0LnByb3RvdHlwZS5nZXRCYWNrZ3JvdW5kTm9pc2VMZXZlbD1mdW5jdGlvbigpe3JldHVybiBNTUpTLnNkay5zcGVlY2hCYWNrZ3JvdW5kQXVkaW9MZXZlbH0sTU1TcGVlY2hraXQucHJvdG90eXBlLmdldEF1ZGlvTGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gTU1KUy5zZGsuc3BlZWNoQXVkaW9MZXZlbH0sTU1TcGVlY2hraXQucHJvdG90eXBlLmdldFZvaWNlU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gTU1KUy5zZGsuc3BlZWNoU3RhdHVzfSxNTVNwZWVjaGtpdC5wcm90b3R5cGUuZ2V0QXVkaW9Qb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiBNTUpTLnNkay5hdWRpb1Bvc2l0aW9ufSxNTVNwZWVjaGtpdH0oTU1CcmlkZ2VPYmplY3QpLE1SQUlEPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gTVJBSUQoKXt0aGlzLnNkaz1NTUpTLnNkayx0aGlzLnV0aWxzPU1NSlMudXRpbHMsdGhpcy5wcm9wZXJ0aWVzPXt3aWR0aDpudWxsLGhlaWdodDpudWxsLHVzZUN1c3RvbUNsb3NlOiExLGlzTW9kYWw6ITB9LHRoaXMub3JpZW50YXRpb25Qcm9wZXJ0aWVzPXthbGxvd09yaWVudGF0aW9uQ2hhbmdlOiEwLGZvcmNlT3JpZW50YXRpb246Im5vbmUifSx0aGlzLnJlc2l6ZVByb3BlcnRpZXM9e3dpZHRoOm51bGwsaGVpZ2h0Om51bGwsY3VzdG9tQ2xvc2VQb3NpdGlvbjoidG9wLXJpZ2h0IixvZmZzZXRYOjAsb2Zmc2V0WTowLGFsbG93T2Zmc2NyZWVuOiEwfSx0aGlzLmF1ZGlvUHJvcGVydGllcz17bG9vcDohMSxjb250cm9sczohMX19cmV0dXJuIF9fZXh0ZW5kcyhNUkFJRCxfc3VwZXIpLE1SQUlELnByb3RvdHlwZS5nZXRBZFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5zZGsuYWRTaXplJiYodGhpcy51dGlscy5jb25zb2xlTG9nKCJNUkFJRCBnZXRBZFNpemUgIitKU09OLnN0cmluZ2lmeSh0aGlzLnNkay5hZFNpemUpKSx0aGlzLnNkay5hZFNpemUuaGVpZ2h0PjAmJnRoaXMuc2RrLmFkU2l6ZS53aWR0aD4wKT90aGlzLnNkay5hZFNpemU6bnVsbH0sTVJBSUQucHJvdG90eXBlLmNhbGxiYWNrTWFuYWdlcj1mdW5jdGlvbihyZXNwb25zZSl7dmFyIGtsYXNzLG1ldGhvZCxyZXNwb25zZV9kYXRhLHJlc3VsdDtyZXR1cm4gcmVzdWx0PXJlc3BvbnNlLnJlc3VsdCxtZXRob2Q9cmVzcG9uc2UuY2FsbCxyZXNwb25zZV9kYXRhPXJlc3BvbnNlLnJlc3BvbnNlLGtsYXNzPXJlc3BvbnNlWyJjbGFzcyJdLHRoaXN9LE1SQUlELnByb3RvdHlwZS5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIjIuMCJ9LE1SQUlELnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3JldHVybiBNTUpTLmludGVyc3RpdGlhbC5jbG9zZShmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLnJlc3VsdDwxP01NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygiZXJyb3IiLCJDbG9zZSBmYWlsZWQiLCJjbG9zZSIpOnZvaWQgMH0pfSxNUkFJRC5wcm90b3R5cGUuZXhwYW5kPWZ1bmN0aW9uKF91cmwpe3ZhciBrLG1heFNpemUscHJvcHMsdixfcmVmMTM7dGhpcy51dGlscy5jb25zb2xlTG9nKCJtcmFpZC5leHBhbmQgY2FsbGVkIHdpdGggcHJvcGVydGllczogIitKU09OLnN0cmluZ2lmeSh0aGlzLmdldEV4cGFuZFByb3BlcnRpZXMoKSkpLHRoaXMudXRpbHMuY29uc29sZUxvZygibXJhaWQuZXhwYW5kIHVybDogIitfdXJsKSxwcm9wcz10aGlzLmdldEV4cGFuZFByb3BlcnRpZXMoKSxtYXhTaXplPXRoaXMuZ2V0TWF4U2l6ZSgpLG51bGwhPXByb3BzJiZudWxsIT1tYXhTaXplJiZwcm9wcy5oZWlnaHQ9PT1tYXhTaXplLmhlaWdodCYmcHJvcHMud2lkdGg9PT1tYXhTaXplLndpZHRoJiYocHJvcHMuaGVpZ2h0PXZvaWQgMCxwcm9wcy53aWR0aD12b2lkIDApLF9yZWYxMz10aGlzLm9yaWVudGF0aW9uUHJvcGVydGllcztmb3IoayBpbiBfcmVmMTMpdj1fcmVmMTNba10scHJvcHNba109djtyZXR1cm4gTU1KUy5pbnRlcnN0aXRpYWwuZXhwYW5kV2l0aFByb3BlcnRpZXMoX3VybCxwcm9wcyxmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLnJlc3VsdDwxP01NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygiZXJyb3IiLCJFeHBhbmQgZmFpbGVkIiwiZXhwYW5kIik6dm9pZCAwfSl9LE1SQUlELnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKF91cmwpe3JldHVybiBNTUpTLmludGVyc3RpdGlhbC5vcGVuKF91cmwsZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5yZXN1bHQ8MT9NTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoImVycm9yIiwiT3BlbiBmYWlsZWQgdG8gb3BlbiBleHRlcm5hbCB1cmwiLCJvcGVuIik6dm9pZCAwfSl9LE1SQUlELnByb3RvdHlwZS5nZXRFeHBhbmRQcm9wZXJ0aWVzPWZ1bmN0aW9uKCl7dmFyIG1heFNpemU7cmV0dXJuIG1heFNpemU9dGhpcy5nZXRNYXhTaXplKCksbnVsbCE9bWF4U2l6ZT8oKG51bGw9PT10aGlzLnByb3BlcnRpZXMuaGVpZ2h0fHx2b2lkIDA9PT10aGlzLnByb3BlcnRpZXMuaGVpZ2h0KSYmKHRoaXMucHJvcGVydGllcy5oZWlnaHQ9bWF4U2l6ZS5oZWlnaHQpLChudWxsPT09dGhpcy5wcm9wZXJ0aWVzLndpZHRofHx2b2lkIDA9PT10aGlzLnByb3BlcnRpZXMud2lkdGgpJiYodGhpcy5wcm9wZXJ0aWVzLndpZHRoPW1heFNpemUud2lkdGgpLHRoaXMucHJvcGVydGllcyk6TU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJlcnJvciIsImdldEV4cGFuZFByb3BlcnRpZXMgZmFpbGVkIiwiZ2V0RXhwYW5kUHJvcGVydGllcyIpfSxNUkFJRC5wcm90b3R5cGUuc2V0RXhwYW5kUHJvcGVydGllcz1mdW5jdGlvbihfcHJvcGVydGllcyl7cmV0dXJuIHRoaXMudXRpbHMuY29uc29sZUxvZygic2V0RXhwYW5kUHJvcGVydGllczogIitKU09OLnN0cmluZ2lmeSh0aGlzLnByb3BlcnRpZXMpKSx0aGlzLnByb3BlcnRpZXM9X3Byb3BlcnRpZXN9LE1SQUlELnByb3RvdHlwZS5nZXRQbGFjZW1lbnRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2RrLnBsYWNlbWVudFR5cGV9LE1SQUlELnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNkay5zdGF0ZX0sTVJBSUQucHJvdG90eXBlLnVzZUN1c3RvbUNsb3NlPWZ1bmN0aW9uKF9jdXN0b21DbG9zZSl7cmV0dXJuIHRoaXMucHJvcGVydGllcy51c2VDdXN0b21DbG9zZT1fY3VzdG9tQ2xvc2UsdGhpcy51dGlscy5jb25zb2xlTG9nKCJVc2UgQ3VzdG9tIENsb3NlIHdhcyBjYWxsZWQ6ICIrX2N1c3RvbUNsb3NlKSxNTUpTLmludGVyc3RpdGlhbC51c2VDdXN0b21DbG9zZShfY3VzdG9tQ2xvc2UsZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5yZXN1bHQ8MT9NTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoImVycm9yIiwiVXNlIGN1c3RvbSBjbG9zZSBmYWlsZWQgdG8gc2V0IiwidXNlQ3VzdG9tQ2xvc2UiKTp2b2lkIDB9KX0sTVJBSUQucHJvdG90eXBlLmlzVmlld2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZGsudmlld2FibGV9LE1SQUlELnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50LGxpc3RlbmVyKXtyZXR1cm4gTU1KUy5saXN0ZW5lck1hbmFnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCxsaXN0ZW5lcil9LE1SQUlELnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50LGxpc3RlbmVyKXtyZXR1cm4gTU1KUy5saXN0ZW5lck1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihldmVudCxsaXN0ZW5lcil9LE1SQUlELnByb3RvdHlwZS5maXJlRXZlbnRDYWxsYmFja3M9ZnVuY3Rpb24oZXZlbnROYW1lLHBhcmFtZXRlcixhY3Rpb24pe3JldHVybiBNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoZXZlbnROYW1lLHBhcmFtZXRlcixhY3Rpb24pfSxNUkFJRC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKCl7dmFyIGNhbGxlZHJlc2l6ZVByb3BlcnRpZXMsbWF4U2l6ZTtyZXR1cm4gbWF4U2l6ZT10aGlzLmdldE1heFNpemUoKSxjYWxsZWRyZXNpemVQcm9wZXJ0aWVzPXRoaXMuZ2V0UmVzaXplUHJvcGVydGllcygpLGNhbGxlZHJlc2l6ZVByb3BlcnRpZXMuYWxsb3dPZmZzY3JlZW49PT0hMSYmKGNhbGxlZHJlc2l6ZVByb3BlcnRpZXMud2lkdGg+bWF4U2l6ZS53aWR0aHx8Y2FsbGVkcmVzaXplUHJvcGVydGllcy5oZWlnaHQ+bWF4U2l6ZS5oZWlnaHQpPyh0aGlzLmZpcmVFdmVudENhbGxiYWNrcygiZXJyb3IiLCJSZXNpemUgaXMgdW5zdXBwb3J0ZWQgaW4gdGhpcyBhcHBsaWNhdGlvbi4iLCJyZXNpemUiKSx2b2lkIDApOihNTUpTLmJhbm5lci5yZXNpemUoY2FsbGVkcmVzaXplUHJvcGVydGllcyxmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLnJlc3VsdDwxP21yYWlkLmZpcmVFdmVudENhbGxiYWNrcygiZXJyb3IiLCJSZXNpemUgaXMgdW5zdXBwb3J0ZWQgaW4gdGhpcyBhcHBsaWNhdGlvbi4iLCJyZXNpemUiKTp2b2lkIDB9KSxudWxsKX0sTVJBSUQucHJvdG90eXBlLmdldFJlc2l6ZVByb3BlcnRpZXM9ZnVuY3Rpb24oKXt2YXIgYWRTaXplO3JldHVybiBhZFNpemU9dGhpcy5nZXRBZFNpemUoKSxudWxsIT1hZFNpemU/KE1NSlMudXRpbHMuY29uc29sZUxvZygiQWQgU2l6ZSB3YXMgZm91bmQiKSxudWxsPT09dGhpcy5yZXNpemVQcm9wZXJ0aWVzLmhlaWdodCYmKHRoaXMucmVzaXplUHJvcGVydGllcy5oZWlnaHQ9YWRTaXplLmhlaWdodCksbnVsbD09PXRoaXMucmVzaXplUHJvcGVydGllcy53aWR0aCYmKHRoaXMucmVzaXplUHJvcGVydGllcy53aWR0aD1hZFNpemUud2lkdGgpLHRoaXMucmVzaXplUHJvcGVydGllcyk6KE1NSlMudXRpbHMuY29uc29sZUxvZygiZ2V0UmVzaXplUHJvcGVydGllcyBmYWlsZWQiKSxNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoImVycm9yIiwiUmVzaXplIGlzIHVuc3VwcG9ydGVkIGluIHRoaXMgYXBwbGljYXRpb24uIiwicmVzaXplIikpfSxNUkFJRC5wcm90b3R5cGUuc2V0UmVzaXplUHJvcGVydGllcz1mdW5jdGlvbihfcHJvcGVydGllcyl7cmV0dXJuIHRoaXMucmVzaXplUHJvcGVydGllcz1fcHJvcGVydGllc30sTVJBSUQucHJvdG90eXBlLmdldEN1cnJlbnRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNkay5hZFNpemV9LE1SQUlELnByb3RvdHlwZS5nZXRNYXhTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuc2RrLmFkUHJvcGVydGllcy5tYXhTaXplP3toZWlnaHQ6dGhpcy5zZGsuYWRQcm9wZXJ0aWVzLm1heFNpemUuaGVpZ2h0LHdpZHRoOnRoaXMuc2RrLmFkUHJvcGVydGllcy5tYXhTaXplLndpZHRofTooTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJlcnJvciIsImdldFJlc2l6ZVByb3BlcnRpZXMgZmFpbGVkIiwiZ2V0UmVzaXplUHJvcGVydGllcyIpLG51bGwpfSxNUkFJRC5wcm90b3R5cGUuZ2V0RGVmYXVsdFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2RrLmRlZmF1bHRQb3NpdGlvbn0sTVJBSUQucHJvdG90eXBlLmdldFNjcmVlblNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gTU1KUy51dGlscy5jb25zb2xlTG9nKCJnZXRTY3JlZW5TaXplOiAiK3RoaXMuc2RrLmFkUHJvcGVydGllcy5zY3JlZW4pLG51bGwhPXRoaXMuc2RrLmFkUHJvcGVydGllcy5zY3JlZW4/dGhpcy5zZGsuYWRQcm9wZXJ0aWVzLnNjcmVlbjoodGhpcy5maXJlRXZlbnRDYWxsYmFja3MoImVycm9yIiwiU2NyZWVuIHNpemUgaXMgdW5hdmFpbGFibGUiLCJnZXRTY3JlZW5TaXplIiksbnVsbCl9LE1SQUlELnByb3RvdHlwZS5zdXBwb3J0cz1mdW5jdGlvbihmZWF0dXJlKXtyZXR1cm4gbnVsbCE9ZmVhdHVyZT90aGlzLnNkay5zdXBwb3J0UHJvcGVydGllc1tmZWF0dXJlXTp0aGlzLnNkay5zdXBwb3J0UHJvcGVydGllc30sTVJBSUQucHJvdG90eXBlLnN0b3JlUGljdHVyZT1mdW5jdGlvbihVUkkpe3JldHVybiBNTUpTLm1lZGlhLndyaXRlVG9QaG90b0xpYnJhcnkoVVJJLCIiLCIiLGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UucmVzdWx0PDE/TU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJlcnJvciIsIkVycm9yIHN0b3JpbmcgcGljdHVyZSIsInN0b3JlUGljdHVyZSIpOnZvaWQgMH0pfSxNUkFJRC5wcm90b3R5cGUuY3JlYXRlQ2FsZW5kYXJFdmVudD1mdW5jdGlvbihwYXJhbWV0ZXJzKXtyZXR1cm4gTU1KUy5jYWxlbmRhci5hZGRFdmVudChwYXJhbWV0ZXJzLGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UucmVzdWx0PDE/TU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJlcnJvciIsIkVycm9yIGFkZGluZyBjYWxlbmRhciBldmVudCIsImNyZWF0ZUNhbGVuZGFyRXZlbnQiKTp2b2lkIDB9KX0sTVJBSUQucHJvdG90eXBlLnBsYXlWaWRlbz1mdW5jdGlvbihVUkkpe3JldHVybiBNTUpTLm1lZGlhLnBsYXlWaWRlbyhVUkksZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5yZXN1bHQ8MT9NTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoImVycm9yIiwiRXJyb3IgcGxheWluZyB2aWRlbyIsInBsYXlWaWRlbyIpOnZvaWQgMH0pfSxNUkFJRC5wcm90b3R5cGUuZ2V0T3JpZW50YXRpb25Qcm9wZXJ0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3JpZW50YXRpb25Qcm9wZXJ0aWVzfSxNUkFJRC5wcm90b3R5cGUuc2V0T3JpZW50YXRpb25Qcm9wZXJ0aWVzPWZ1bmN0aW9uKHByb3BlcnRpZXMpe3JldHVybiB0aGlzLm9yaWVudGF0aW9uUHJvcGVydGllcz1wcm9wZXJ0aWVzLCJleHBhbmRlZCI9PT10aGlzLmdldFN0YXRlKCkmJiJpbmxpbmUiPT09dGhpcy5nZXRQbGFjZW1lbnRUeXBlKCl8fCJpbnRlcnN0aXRpYWwiPT09dGhpcy5nZXRQbGFjZW1lbnRUeXBlKCk/TU1KUy5pbnRlcnN0aXRpYWwuc2V0T3JpZW50YXRpb24odGhpcy5vcmllbnRhdGlvblByb3BlcnRpZXMsIm1yYWlkLmNhbGxiYWNrTWFuYWdlciIpOnZvaWQgMH0sTVJBSUQucHJvdG90eXBlLnN0YXJ0UmVjb3JkaW5nPWZ1bmN0aW9uKGxhbmd1YWdlQ29kZSl7cmV0dXJuIE1NSlMuc3BlZWNoa2l0LnN0YXJ0UmVjb3JkaW5nKGxhbmd1YWdlQ29kZSwiZGljdGF0aW9uIiwic2hvcnQiLGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UucmVzdWx0PDE/TU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJ2b2ljZUVycm9yIiwiU3RhcnQgcmVjb3JkaW5nIGZhaWxlZCIsInN0YXJ0UmVjb3JkaW5nIik6dm9pZCAwfSl9LE1SQUlELnByb3RvdHlwZS5lbmRSZWNvcmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gTU1KUy5zcGVlY2hraXQuZW5kUmVjb3JkaW5nKGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UucmVzdWx0PDE/TU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJ2b2ljZUVycm9yIiwiRW5kIHJlY29yZGluZyBmYWlsZWQiLCJlbmRSZWNvcmRpbmciKTp2b2lkIDB9KX0sTVJBSUQucHJvdG90eXBlLnRleHRUb1NwZWVjaD1mdW5jdGlvbih0ZXh0LGxhbmd1YWdlQ29kZSl7cmV0dXJuIE1NSlMuc3BlZWNoa2l0LnRleHRUb1NwZWVjaChsYW5ndWFnZUNvZGUsdGV4dCxmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLnJlc3VsdDwxP01NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygidm9pY2VFcnJvciIsIlRleHQgdG8gU3BlZWNoIGZhaWxlZCIsInRleHRUb1NwZWVjaCIpOnZvaWQgMH0pfSxNUkFJRC5wcm90b3R5cGUucGxheUF1ZGlvPWZ1bmN0aW9uKHVybCxvcHRpb25zKXtyZXR1cm4gbnVsbCE9b3B0aW9ucyYmKG9wdGlvbnMubG9vcD10aGlzLmF1ZGlvUHJvcGVydGllcy5sb29wLG9wdGlvbnMuY29udHJvbHM9dGhpcy5hdWRpb1Byb3BlcnRpZXMuY29udHJvbHMpLE1NSlMuc3BlZWNoa2l0LnBsYXlBdWRpbyh1cmwsdGhpcy5hdWRpb1Byb3BlcnRpZXMsZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5yZXN1bHQ8MT9NTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoInZvaWNlRXJyb3IiLCJQbGF5aW5nIGF1ZGlvIGZhaWxlZCIsInBsYXlBdWRpbyIpOnZvaWQgMH0pfSxNUkFJRC5wcm90b3R5cGUuc3RvcEF1ZGlvPWZ1bmN0aW9uKCl7cmV0dXJuIE1NSlMuc3BlZWNoa2l0LnN0b3BBdWRpbyhmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLnJlc3VsdDwxP01NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygidm9pY2VFcnJvciIsIlN0b3AgcGxheWluZyBhdWRpbyBmYWlsZWQiLCJzdG9wQXVkaW8iKTp2b2lkIDB9KX0sTVJBSUQucHJvdG90eXBlLmNhY2hlQXVkaW89ZnVuY3Rpb24odXJsKXtyZXR1cm4gTU1KUy5zcGVlY2hraXQuY2FjaGVBdWRpbyh1cmwsZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5yZXN1bHQ8MT9NTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoInZvaWNlRXJyb3IiLCJBdWRpbyBjYWNoaW5nIGZhaWxlZCIsImNhY2hlQXVkaW8iKTp2b2lkIDB9KX0sTVJBSUQucHJvdG90eXBlLnNhbXBsZUJhY2tncm91bmRBdWRpb0xldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIE1NSlMuc3BlZWNoa2l0LnNhbXBsZUJhY2tncm91bmRBdWRpb0xldmVsKGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UucmVzdWx0PDE/TU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJ2b2ljZUVycm9yIiwiU2FtcGxpbmcgb2YgYmFja2dyb3VuZCBhdWRpbyBmYWlsZWQiLCJzYW1wbGVCYWNrZ3JvdW5kQXVkaW9MZXZlbCIpOnZvaWQgMH0pfSxNUkFJRC5wcm90b3R5cGUucmVsZWFzZVZvaWNlPWZ1bmN0aW9uKCl7cmV0dXJuIE1NSlMuc3BlZWNoa2l0LnJlbGVhc2VWb2ljZShmdW5jdGlvbigpe30pfSxNUkFJRC5wcm90b3R5cGUuYWRkQ3VzdG9tVm9pY2VXb3Jkcz1mdW5jdGlvbih3b3Jkcyl7cmV0dXJuIE1NSlMuc3BlZWNoa2l0LmFkZEN1c3RvbVZvaWNlV29yZHMod29yZHMsZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5yZXN1bHQ8MT9NTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoInZvaWNlRXJyb3IiLCJBZGRpbmcgY3VzdG9tIHdvcmRzIGZhaWxlZCIsImFkZEN1c3RvbVZvaWNlV29yZHMiKTp2b2lkIDB9KX0sTVJBSUQucHJvdG90eXBlLmRlbGV0ZUN1c3RvbVZvaWNlV29yZHM9ZnVuY3Rpb24od29yZHMpe3JldHVybiBNTUpTLnNwZWVjaGtpdC5kZWxldGVDdXN0b21Wb2ljZVdvcmRzKHdvcmRzLGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UucmVzdWx0PDE/TU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJ2b2ljZUVycm9yIiwiRGVsZXRpbmcgY3VzdG9tIHdvcmRzIGZhaWxlZCIsImRlbGV0ZUN1c3RvbVZvaWNlV29yZHMiKTp2b2lkIDB9KX0sTVJBSUQucHJvdG90eXBlLmdldFJlY29nbml0aW9uUmVzdWx0cz1mdW5jdGlvbigpe3JldHVybiBNTUpTLnNwZWVjaGtpdC5nZXRSZWNvZ25pdGlvblJlc3VsdHMoKX0sTVJBSUQucHJvdG90eXBlLmdldEF1ZGlvTGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gTU1KUy5zcGVlY2hraXQuZ2V0QXVkaW9MZXZlbCgpfSxNUkFJRC5wcm90b3R5cGUuZ2V0Vm9pY2VTdGF0ZT1mdW5jdGlvbigpe3JldHVybiBNTUpTLnNwZWVjaGtpdC5nZXRWb2ljZVN0YXRlKCl9LE1SQUlELnByb3RvdHlwZS5nZXRBdWRpb1Bvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIE1NSlMuc3BlZWNoa2l0LmdldEF1ZGlvUG9zaXRpb24oKX0sTVJBSUR9KE1NQnJpZGdlT2JqZWN0KSxmdW5jdGlvbigpe3JldHVybiB0eXBlb2YgTU1KUy5zZGs9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1KUy5zZGs9bmV3IE1NU0RLSW50ZXJmYWNlKSx0eXBlb2YgTU1KUy5kZXZpY2U9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1KUy5kZXZpY2U9bmV3IE1NRGV2aWNlKSx0eXBlb2YgTU1KUy5tZWRpYT09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTUpTLm1lZGlhPW5ldyBNTU1lZGlhKSx0eXBlb2YgTU1KUy5ub3RpZmljYXRpb249PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1KUy5ub3RpZmljYXRpb249bmV3IE1NTm90aWZpY2F0aW9uKSx0eXBlb2YgTU1KUy5pbnRlcnN0aXRpYWw9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1KUy5pbnRlcnN0aXRpYWw9bmV3IE1NSW50ZXJzdGl0aWFsKSx0eXBlb2YgTU1KUy5jYWNoZWRWaWRlbz09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTUpTLmNhY2hlZFZpZGVvPW5ldyBNTUNhY2hlZFZpZGVvKSx0eXBlb2YgTU1KUy5icmFuZD09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTUpTLmJyYW5kPW5ldyBNTUJyYW5kKSx0eXBlb2YgTU1KUy5pbmxpbmVWaWRlbz09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTUpTLmlubGluZVZpZGVvPW5ldyBNTUlubGluZVZpZGVvKSx0eXBlb2YgTU1KUy5zb2NpYWw9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1KUy5zb2NpYWw9bmV3IE1NU29jaWFsKSx0eXBlb2YgTU1KUy5wYXNzYm9vaz09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTUpTLnBhc3Nib29rPW5ldyBNTVBhc3Nib29rKSx0eXBlb2YgTU1KUy5jYWxlbmRhcj09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTUpTLmNhbGVuZGFyPW5ldyBNTUNhbGVuZGFyKSx0eXBlb2YgTU1KUy5iYW5uZXI9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1KUy5iYW5uZXI9bmV3IE1NQmFubmVyKSx0eXBlb2YgTU1KUy5hcHBzdG9yZT09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTUpTLmFwcHN0b3JlPW5ldyBNTUFwcFN0b3JlKSxNTUpTLmFwcFN0b3JlPU1NSlMuYXBwc3RvcmUsdHlwZW9mIE1NSlMubGlzdGVuZXJNYW5hZ2VyPT09TU1KUy5UWVBFX1VOREVGSU5FRCYmKE1NSlMubGlzdGVuZXJNYW5hZ2VyPW5ldyBNTUxpc3RlbmVyTWFuYWdlciksdHlwZW9mIE1NSlMuc3BlZWNoa2l0PT09TU1KUy5UWVBFX1VOREVGSU5FRCYmKE1NSlMuc3BlZWNoa2l0PW5ldyBNTVNwZWVjaGtpdCksdHlwZW9mIHdpbmRvdy5NTVNESz09PU1NSlMuVFlQRV9VTkRFRklORUQmJih3aW5kb3cuTU1TREs9TU1KUyksdHlwZW9mIE1NU0RLLnNkaz09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTVNESy5zZGs9TU1KUy5zZGspLHR5cGVvZiBNTVNESy5kZXZpY2U9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsuZGV2aWNlPU1NSlMuZGV2aWNlKSx0eXBlb2YgTU1TREsubWVkaWE9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsubWVkaWE9TU1KUy5tZWRpYSksdHlwZW9mIE1NU0RLLm5vdGlmaWNhdGlvbj09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTVNESy5ub3RpZmljYXRpb249TU1KUy5ub3RpZmljYXRpb24pLHR5cGVvZiBNTVNESy5pbnRlcnN0aXRpYWw9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsuaW50ZXJzdGl0aWFsPU1NSlMuaW50ZXJzdGl0aWFsKSx0eXBlb2YgTU1KUy5jYWNoZWRWaWRlbz09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTVNESy5jYWNoZWRWaWRlbz1NTUpTLmNhY2hlZFZpZGVvKSx0eXBlb2YgTU1TREsuYnJhbmQ9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsuYnJhbmQ9TU1KUy5icmFuZCksdHlwZW9mIE1NU0RLLmlubGluZVZpZGVvPT09TU1KUy5UWVBFX1VOREVGSU5FRCYmKE1NU0RLLmlubGluZVZpZGVvPU1NSlMuaW5saW5lVmlkZW8pLHR5cGVvZiBNTVNESy5zb2NpYWw9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsuc29jaWFsPU1NSlMuc29jaWFsKSx0eXBlb2YgTU1TREsucGFzc2Jvb2s9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsucGFzc2Jvb2s9TU1KUy5wYXNzYm9vayksdHlwZW9mIE1NU0RLLmNhbGVuZGFyPT09TU1KUy5UWVBFX1VOREVGSU5FRCYmKE1NU0RLLmNhbGVuZGFyPU1NSlMuY2FsZW5kYXIpLHR5cGVvZiBNTVNESy5iYW5uZXI9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsuYmFubmVyPU1NSlMuYmFubmVyKSx0eXBlb2YgTU1TREsuYXBwc3RvcmU9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsuYXBwc3RvcmU9TU1KUy5hcHBzdG9yZSksTU1TREsuYXBwU3RvcmU9TU1KUy5hcHBzdG9yZSx0eXBlb2YgTU1TREsuc3BlZWNoa2l0PT09TU1KUy5UWVBFX1VOREVGSU5FRCYmKE1NU0RLLnNwZWVjaGtpdD1NTUpTLnNwZWVjaGtpdCksdHlwZW9mIHdpbmRvdy5tcmFpZD09PU1NSlMuVFlQRV9VTkRFRklORUQmJih3aW5kb3cubXJhaWQ9bmV3IE1SQUlEKSx0eXBlb2Ygd2luZG93Lk1NPT09TU1KUy5UWVBFX1VOREVGSU5FRD93aW5kb3cuTU09TU1KUzp2b2lkIDB9KCksTU1KUy51dGlscy5saXN0ZW5Gb3JCcm93c2VyUmVhZHkoZnVuY3Rpb24oKXt2YXIgdGltZXI7cmV0dXJuIHRpbWVyPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dmFyIGNvbW1hbmQsZTtpZigibG9hZGluZyIhPT1NTUpTLnNkay5zdGF0ZSYmTU1KUy5leGVjdXRpbmdDb21tYW5kPT09ITEmJk1NSlMuY29tbWFuZFF1ZXVlLmxlbmd0aD4wJiYwPT09TU1KUy5leGVjdXRpbmdDb21tYW5kRGVsYXkpe2NvbW1hbmQ9TU1KUy5jb21tYW5kUXVldWUuc2hpZnQoKSxNTUpTLnV0aWxzLmNvbnNvbGVMb2coInJ1bm5pbmcgY29tbWFuZDogIitjb21tYW5kLnVybCk7dHJ5e3JldHVybiBjb21tYW5kLnBlcmZvcm0oKX1jYXRjaChfZXJyb3Ipe3JldHVybiBlPV9lcnJvcixNTUpTLnV0aWxzLmNvbnNvbGVMb2coIkZhaWxlZCB0byBydW4gY29tbWFuZDogIitlLm1lc3NhZ2VhbGVydCl9fX0sMSl9KCkpKTs="

.field static final MRAID_JS_FILE_NAME:Ljava/lang/String; = "mraid.js"

.field private static final MRAID_JS_REPLACE_HEAD_PATTERN:Ljava/lang/String; = "<head>"

.field static final MRAID_JS_REPLACE_IDENTIFIER:Ljava/lang/String; = "<script src=\"mraid.js\"></script>"

.field private static final MRAID_JS_REPLACE_PATTERN:Ljava/lang/String; = "<script.*src=[\"|\']mraid\\.js[\"|\']"

.field private static final ORIGINAL_MMJS_URL:Ljava/lang/String; = "http://cdn.millennialmedia.com/mmjs/v1.4/mm.js"

.field static final STATE_DEFAULT:Ljava/lang/String; = "default"

.field static final STATE_EXPANDED:Ljava/lang/String; = "expanded"

.field static final STATE_HIDDEN:Ljava/lang/String; = "hidden"

.field static final STATE_LOADING:Ljava/lang/String; = "loading"

.field private static final TAG:Ljava/lang/String; = "MRaid"

.field static finishedRef:Ljava/lang/ref/WeakReference;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ref/WeakReference",
            "<",
            "Lcom/millennialmedia/android/MRaid$Finished;",
            ">;"
        }
    .end annotation
.end field


# direct methods
.method constructor <init>()V
    .locals 0

    .prologue
    .line 31
    invoke-direct {p0}, Ljava/lang/Object;-><init>()V

    .line 93
    return-void
.end method

.method static downloadMraidJs(Landroid/content/Context;Ljava/lang/String;)V
    .locals 1
    .parameter "context"
    .parameter "url"

    .prologue
    .line 107
    invoke-static {p1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-nez v0, :cond_0

    .line 108
    new-instance v0, Lcom/millennialmedia/android/MRaid$1;

    invoke-direct {v0, p1, p0}, Lcom/millennialmedia/android/MRaid$1;-><init>(Ljava/lang/String;Landroid/content/Context;)V

    invoke-static {v0}, Lcom/millennialmedia/android/Utils$ThreadUtils;->execute(Ljava/lang/Runnable;)V

    .line 142
    :cond_0
    return-void
.end method

.method static getMMJSStats(Landroid/content/Context;)Ljava/lang/String;
    .locals 22
    .parameter "context"

    .prologue
    .line 170
    invoke-static/range {p0 .. p0}, Lcom/millennialmedia/android/MRaid;->hasMraidLocally(Landroid/content/Context;)Z

    move-result v17

    if-nez v17, :cond_0

    .line 171
    const-string v17, "No MMJS Downloaded!"

    .line 235
    :goto_0
    return-object v17

    .line 173
    :cond_0
    invoke-static/range {p0 .. p0}, Lcom/millennialmedia/android/MRaid;->getMRaidJsFile(Landroid/content/Context;)Ljava/io/File;

    move-result-object v13

    .line 174
    .local v13, mmjs:Ljava/io/File;
    const/4 v14, 0x0

    .line 176
    .local v14, reader:Ljava/io/BufferedReader;
    const/4 v6, 0x0

    .line 177
    .local v6, fileStream:Ljava/io/FileInputStream;
    const-string v12, ""

    .line 178
    .local v12, md5Hash:Ljava/lang/String;
    const-string v2, ""

    .line 179
    .local v2, buildDate:Ljava/lang/String;
    const-string v16, ""

    .line 181
    .local v16, version:Ljava/lang/String;
    :try_start_0
    new-instance v7, Ljava/io/FileInputStream;

    invoke-direct {v7, v13}, Ljava/io/FileInputStream;-><init>(Ljava/io/File;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 183
    .end local v6           #fileStream:Ljava/io/FileInputStream;
    .local v7, fileStream:Ljava/io/FileInputStream;
    :try_start_1
    invoke-virtual {v13}, Ljava/io/File;->length()J

    move-result-wide v17

    move-wide/from16 v0, v17

    long-to-int v0, v0

    move/from16 v17, v0

    move/from16 v0, v17

    new-array v3, v0, [B

    .line 184
    .local v3, contents:[B
    invoke-virtual {v7, v3}, Ljava/io/FileInputStream;->read([B)I

    .line 186
    const-string v17, "MD5"

    invoke-static/range {v17 .. v17}, Ljava/security/MessageDigest;->getInstance(Ljava/lang/String;)Ljava/security/MessageDigest;

    move-result-object v11

    .line 187
    .local v11, md:Ljava/security/MessageDigest;
    invoke-virtual {v11, v3}, Ljava/security/MessageDigest;->digest([B)[B

    move-result-object v8

    .line 188
    .local v8, hashBytes:[B
    invoke-static {v8}, Lcom/millennialmedia/android/MMSDK;->byteArrayToString([B)Ljava/lang/String;

    move-result-object v12

    .line 190
    invoke-static/range {p0 .. p0}, Lcom/millennialmedia/android/MRaid;->getMRaidJsFile(Landroid/content/Context;)Ljava/io/File;

    move-result-object v13

    .line 191
    new-instance v15, Ljava/io/BufferedReader;

    new-instance v17, Ljava/io/FileReader;

    move-object/from16 v0, v17

    invoke-direct {v0, v13}, Ljava/io/FileReader;-><init>(Ljava/io/File;)V

    move-object/from16 v0, v17

    invoke-direct {v15, v0}, Ljava/io/BufferedReader;-><init>(Ljava/io/Reader;)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_4

    .line 193
    .end local v14           #reader:Ljava/io/BufferedReader;
    .local v15, reader:Ljava/io/BufferedReader;
    const/4 v9, 0x0

    .local v9, i:I
    :goto_1
    const/16 v17, 0xa

    move/from16 v0, v17

    if-ge v9, v0, :cond_1

    .line 194
    :try_start_2
    invoke-virtual {v15}, Ljava/io/BufferedReader;->readLine()Ljava/lang/String;
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_2
    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_2} :catch_5

    move-result-object v10

    .local v10, line:Ljava/lang/String;
    if-nez v10, :cond_5

    .line 218
    .end local v10           #line:Ljava/lang/String;
    :cond_1
    if-eqz v7, :cond_2

    .line 219
    :try_start_3
    invoke-virtual {v7}, Ljava/io/FileInputStream;->close()V

    .line 220
    :cond_2
    if-eqz v15, :cond_3

    .line 221
    invoke-virtual {v15}, Ljava/io/BufferedReader;->close()V
    :try_end_3
    .catch Ljava/lang/Exception; {:try_start_3 .. :try_end_3} :catch_3

    :cond_3
    :goto_2
    move-object v6, v7

    .end local v7           #fileStream:Ljava/io/FileInputStream;
    .restart local v6       #fileStream:Ljava/io/FileInputStream;
    move-object v14, v15

    .line 227
    .end local v8           #hashBytes:[B
    .end local v9           #i:I
    .end local v11           #md:Ljava/security/MessageDigest;
    .end local v15           #reader:Ljava/io/BufferedReader;
    .restart local v14       #reader:Ljava/io/BufferedReader;
    :cond_4
    :goto_3
    new-instance v4, Ljava/util/Date;

    invoke-virtual {v13}, Ljava/io/File;->lastModified()J

    move-result-wide v17

    move-wide/from16 v0, v17

    invoke-direct {v4, v0, v1}, Ljava/util/Date;-><init>(J)V

    .line 228
    .local v4, date:Ljava/util/Date;
    invoke-static/range {v16 .. v16}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v17

    if-eqz v17, :cond_c

    .line 229
    const-string v17, "MMJS Stats: buildDate[%s] MD5[%s] dlDate[%s] Size[%d] Url[%s]"

    const/16 v18, 0x5

    move/from16 v0, v18

    new-array v0, v0, [Ljava/lang/Object;

    move-object/from16 v18, v0

    const/16 v19, 0x0

    aput-object v2, v18, v19

    const/16 v19, 0x1

    aput-object v12, v18, v19

    const/16 v19, 0x2

    aput-object v4, v18, v19

    const/16 v19, 0x3

    invoke-virtual {v13}, Ljava/io/File;->length()J

    move-result-wide v20

    invoke-static/range {v20 .. v21}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v20

    aput-object v20, v18, v19

    const/16 v19, 0x4

    invoke-static/range {p0 .. p0}, Lcom/millennialmedia/android/MRaid;->getPreviousUrl(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v20

    aput-object v20, v18, v19

    invoke-static/range {v17 .. v18}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v17

    goto/16 :goto_0

    .line 196
    .end local v4           #date:Ljava/util/Date;
    .end local v6           #fileStream:Ljava/io/FileInputStream;
    .end local v14           #reader:Ljava/io/BufferedReader;
    .restart local v7       #fileStream:Ljava/io/FileInputStream;
    .restart local v8       #hashBytes:[B
    .restart local v9       #i:I
    .restart local v10       #line:Ljava/lang/String;
    .restart local v11       #md:Ljava/security/MessageDigest;
    .restart local v15       #reader:Ljava/io/BufferedReader;
    :cond_5
    :try_start_4
    invoke-static {v10}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v17

    if-nez v17, :cond_8

    .line 197
    const-string v17, "* Built"

    move-object/from16 v0, v17

    invoke-virtual {v10, v0}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z

    move-result v17

    if-eqz v17, :cond_6

    invoke-static {v2}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v17

    if-eqz v17, :cond_6

    .line 199
    move-object v2, v10

    .line 200
    const-string v17, "MRaid"

    new-instance v18, Ljava/lang/StringBuilder;

    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V

    const-string v19, "MMJS BuildDate:"

    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v18

    move-object/from16 v0, v18

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v18

    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v18

    invoke-static/range {v17 .. v18}, Lcom/millennialmedia/android/MMLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 202
    :cond_6
    const-string v17, "* Version"

    move-object/from16 v0, v17

    invoke-virtual {v10, v0}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z

    move-result v17

    if-eqz v17, :cond_7

    invoke-static/range {v16 .. v16}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v17

    if-eqz v17, :cond_7

    .line 204
    move-object/from16 v16, v10

    .line 205
    const-string v17, "MRaid"

    new-instance v18, Ljava/lang/StringBuilder;

    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V

    const-string v19, "MMJS Version:"

    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v18

    move-object/from16 v0, v18

    move-object/from16 v1, v16

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v18

    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v18

    invoke-static/range {v17 .. v18}, Lcom/millennialmedia/android/MMLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 207
    :cond_7
    invoke-static/range {v16 .. v16}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v17

    if-nez v17, :cond_8

    invoke-static {v2}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_2
    .catch Ljava/lang/Exception; {:try_start_4 .. :try_end_4} :catch_5

    move-result v17

    if-eqz v17, :cond_1

    .line 193
    :cond_8
    add-int/lit8 v9, v9, 0x1

    goto/16 :goto_1

    .line 213
    .end local v3           #contents:[B
    .end local v7           #fileStream:Ljava/io/FileInputStream;
    .end local v8           #hashBytes:[B
    .end local v9           #i:I
    .end local v10           #line:Ljava/lang/String;
    .end local v11           #md:Ljava/security/MessageDigest;
    .end local v15           #reader:Ljava/io/BufferedReader;
    .restart local v6       #fileStream:Ljava/io/FileInputStream;
    .restart local v14       #reader:Ljava/io/BufferedReader;
    :catch_0
    move-exception v5

    .line 214
    .local v5, e:Ljava/lang/Exception;
    :goto_4
    :try_start_5
    const-string v17, "MRaid"

    const-string v18, "MMJS stats exception: "

    move-object/from16 v0, v17

    move-object/from16 v1, v18

    invoke-static {v0, v1, v5}, Lcom/millennialmedia/android/MMLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_5
    .catchall {:try_start_5 .. :try_end_5} :catchall_0

    .line 215
    const/4 v3, 0x0

    .line 218
    .restart local v3       #contents:[B
    if-eqz v6, :cond_9

    .line 219
    :try_start_6
    invoke-virtual {v6}, Ljava/io/FileInputStream;->close()V

    .line 220
    :cond_9
    if-eqz v14, :cond_4

    .line 221
    invoke-virtual {v14}, Ljava/io/BufferedReader;->close()V
    :try_end_6
    .catch Ljava/lang/Exception; {:try_start_6 .. :try_end_6} :catch_1

    goto/16 :goto_3

    .line 222
    :catch_1
    move-exception v5

    .line 223
    const-string v17, "MRaid"

    const-string v18, "Exception closing file: "

    move-object/from16 v0, v17

    move-object/from16 v1, v18

    invoke-static {v0, v1, v5}, Lcom/millennialmedia/android/MMLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto/16 :goto_3

    .line 217
    .end local v3           #contents:[B
    .end local v5           #e:Ljava/lang/Exception;
    :catchall_0
    move-exception v17

    .line 218
    :goto_5
    if-eqz v6, :cond_a

    .line 219
    :try_start_7
    invoke-virtual {v6}, Ljava/io/FileInputStream;->close()V

    .line 220
    :cond_a
    if-eqz v14, :cond_b

    .line 221
    invoke-virtual {v14}, Ljava/io/BufferedReader;->close()V
    :try_end_7
    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_7} :catch_2

    .line 217
    :cond_b
    :goto_6
    throw v17

    .line 235
    .restart local v3       #contents:[B
    .restart local v4       #date:Ljava/util/Date;
    :cond_c
    const-string v17, "MMJS Stats: Version[%s] buildDate[%s] MD5[%s] dlDate[%s] Size[%d] Url[%s]"

    const/16 v18, 0x6

    move/from16 v0, v18

    new-array v0, v0, [Ljava/lang/Object;

    move-object/from16 v18, v0

    const/16 v19, 0x0

    aput-object v16, v18, v19

    const/16 v19, 0x1

    aput-object v2, v18, v19

    const/16 v19, 0x2

    aput-object v12, v18, v19

    const/16 v19, 0x3

    aput-object v4, v18, v19

    const/16 v19, 0x4

    invoke-virtual {v13}, Ljava/io/File;->length()J

    move-result-wide v20

    invoke-static/range {v20 .. v21}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v20

    aput-object v20, v18, v19

    const/16 v19, 0x5

    invoke-static/range {p0 .. p0}, Lcom/millennialmedia/android/MRaid;->getPreviousUrl(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v20

    aput-object v20, v18, v19

    invoke-static/range {v17 .. v18}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v17

    goto/16 :goto_0

    .line 222
    .end local v3           #contents:[B
    .end local v4           #date:Ljava/util/Date;
    :catch_2
    move-exception v5

    .line 223
    .restart local v5       #e:Ljava/lang/Exception;
    const-string v18, "MRaid"

    const-string v19, "Exception closing file: "

    move-object/from16 v0, v18

    move-object/from16 v1, v19

    invoke-static {v0, v1, v5}, Lcom/millennialmedia/android/MMLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_6

    .line 222
    .end local v5           #e:Ljava/lang/Exception;
    .end local v6           #fileStream:Ljava/io/FileInputStream;
    .end local v14           #reader:Ljava/io/BufferedReader;
    .restart local v3       #contents:[B
    .restart local v7       #fileStream:Ljava/io/FileInputStream;
    .restart local v8       #hashBytes:[B
    .restart local v9       #i:I
    .restart local v11       #md:Ljava/security/MessageDigest;
    .restart local v15       #reader:Ljava/io/BufferedReader;
    :catch_3
    move-exception v5

    .line 223
    .restart local v5       #e:Ljava/lang/Exception;
    const-string v17, "MRaid"

    const-string v18, "Exception closing file: "

    move-object/from16 v0, v17

    move-object/from16 v1, v18

    invoke-static {v0, v1, v5}, Lcom/millennialmedia/android/MMLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto/16 :goto_2

    .line 217
    .end local v3           #contents:[B
    .end local v5           #e:Ljava/lang/Exception;
    .end local v8           #hashBytes:[B
    .end local v9           #i:I
    .end local v11           #md:Ljava/security/MessageDigest;
    .end local v15           #reader:Ljava/io/BufferedReader;
    .restart local v14       #reader:Ljava/io/BufferedReader;
    :catchall_1
    move-exception v17

    move-object v6, v7

    .end local v7           #fileStream:Ljava/io/FileInputStream;
    .restart local v6       #fileStream:Ljava/io/FileInputStream;
    goto :goto_5

    .end local v6           #fileStream:Ljava/io/FileInputStream;
    .end local v14           #reader:Ljava/io/BufferedReader;
    .restart local v3       #contents:[B
    .restart local v7       #fileStream:Ljava/io/FileInputStream;
    .restart local v8       #hashBytes:[B
    .restart local v9       #i:I
    .restart local v11       #md:Ljava/security/MessageDigest;
    .restart local v15       #reader:Ljava/io/BufferedReader;
    :catchall_2
    move-exception v17

    move-object v6, v7

    .end local v7           #fileStream:Ljava/io/FileInputStream;
    .restart local v6       #fileStream:Ljava/io/FileInputStream;
    move-object v14, v15

    .end local v15           #reader:Ljava/io/BufferedReader;
    .restart local v14       #reader:Ljava/io/BufferedReader;
    goto :goto_5

    .line 213
    .end local v3           #contents:[B
    .end local v6           #fileStream:Ljava/io/FileInputStream;
    .end local v8           #hashBytes:[B
    .end local v9           #i:I
    .end local v11           #md:Ljava/security/MessageDigest;
    .restart local v7       #fileStream:Ljava/io/FileInputStream;
    :catch_4
    move-exception v5

    move-object v6, v7

    .end local v7           #fileStream:Ljava/io/FileInputStream;
    .restart local v6       #fileStream:Ljava/io/FileInputStream;
    goto/16 :goto_4

    .end local v6           #fileStream:Ljava/io/FileInputStream;
    .end local v14           #reader:Ljava/io/BufferedReader;
    .restart local v3       #contents:[B
    .restart local v7       #fileStream:Ljava/io/FileInputStream;
    .restart local v8       #hashBytes:[B
    .restart local v9       #i:I
    .restart local v11       #md:Ljava/security/MessageDigest;
    .restart local v15       #reader:Ljava/io/BufferedReader;
    :catch_5
    move-exception v5

    move-object v6, v7

    .end local v7           #fileStream:Ljava/io/FileInputStream;
    .restart local v6       #fileStream:Ljava/io/FileInputStream;
    move-object v14, v15

    .end local v15           #reader:Ljava/io/BufferedReader;
    .restart local v14       #reader:Ljava/io/BufferedReader;
    goto/16 :goto_4
.end method

.method private static getMRaidJsFile(Landroid/content/Context;)Ljava/io/File;
    .locals 3
    .parameter "context"

    .prologue
    .line 159
    new-instance v0, Ljava/io/File;

    invoke-static {p0}, Lcom/millennialmedia/android/AdCache;->getInternalCacheDirectory(Landroid/content/Context;)Ljava/io/File;

    move-result-object v1

    const-string v2, "mraid.js"

    invoke-direct {v0, v1, v2}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    return-object v0
.end method

.method static getMRaidJsPath(Landroid/content/Context;)Ljava/lang/String;
    .locals 1
    .parameter "context"

    .prologue
    .line 165
    invoke-static {p0}, Lcom/millennialmedia/android/MRaid;->getMRaidJsFile(Landroid/content/Context;)Ljava/io/File;

    move-result-object v0

    invoke-static {v0}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v0

    invoke-virtual {v0}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v0

    return-object v0
.end method

.method static getPreviousUrl(Landroid/content/Context;)Ljava/lang/String;
    .locals 4
    .parameter "context"

    .prologue
    .line 304
    const-string v1, ""

    .line 305
    .local v1, previousUrl:Ljava/lang/String;
    if-eqz p0, :cond_0

    .line 306
    const-string v2, "MillennialMediaSettings"

    const/4 v3, 0x0

    invoke-virtual {p0, v2, v3}, Landroid/content/Context;->getSharedPreferences(Ljava/lang/String;I)Landroid/content/SharedPreferences;

    move-result-object v0

    .line 308
    .local v0, prefs:Landroid/content/SharedPreferences;
    const-string v2, "KEY_MMJS_URL"

    const-string v3, ""

    invoke-interface {v0, v2, v3}, Landroid/content/SharedPreferences;->getString(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 310
    .end local v0           #prefs:Landroid/content/SharedPreferences;
    :cond_0
    return-object v1
.end method

.method static hasMraidLocally(Landroid/content/Context;)Z
    .locals 4
    .parameter "context"

    .prologue
    .line 315
    invoke-static {p0}, Lcom/millennialmedia/android/MRaid;->getMRaidJsFile(Landroid/content/Context;)Ljava/io/File;

    move-result-object v0

    .line 316
    .local v0, mmjs:Ljava/io/File;
    if-eqz v0, :cond_0

    .line 317
    const-string v1, "MRaid"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "@@-MMJS File location: "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Lcom/millennialmedia/android/MMLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 320
    :cond_0
    if-eqz v0, :cond_1

    invoke-virtual {v0}, Ljava/io/File;->exists()Z

    move-result v1

    if-eqz v1, :cond_1

    const/4 v1, 0x1

    :goto_0
    return v1

    :cond_1
    const/4 v1, 0x0

    goto :goto_0
.end method

.method static injectMraidJs(Landroid/content/Context;Ljava/lang/String;)Ljava/lang/String;
    .locals 7
    .parameter "context"
    .parameter "content"

    .prologue
    const/4 v6, -0x1

    .line 69
    const-string v3, "<script.*src=[\"|\']mraid\\.js[\"|\']"

    invoke-static {v3}, Ljava/util/regex/Pattern;->compile(Ljava/lang/String;)Ljava/util/regex/Pattern;

    move-result-object v2

    .line 70
    .local v2, pattern:Ljava/util/regex/Pattern;
    invoke-virtual {v2, p1}, Ljava/util/regex/Pattern;->matcher(Ljava/lang/CharSequence;)Ljava/util/regex/Matcher;

    move-result-object v0

    .line 71
    .local v0, matcher:Ljava/util/regex/Matcher;
    invoke-static {p0}, Lcom/millennialmedia/android/MRaid;->getMRaidJsPath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v1

    .line 72
    .local v1, mraid:Ljava/lang/String;
    const-string v3, "MRaid"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Mraid path: "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-static {p0}, Lcom/millennialmedia/android/MRaid;->getMRaidJsPath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/millennialmedia/android/MMLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 73
    invoke-virtual {v0}, Ljava/util/regex/Matcher;->find()Z

    move-result v3

    if-eqz v3, :cond_2

    .line 74
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "<script src=\""

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "\""

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Ljava/util/regex/Matcher;->replaceFirst(Ljava/lang/String;)Ljava/lang/String;

    move-result-object p1

    .line 85
    :cond_0
    :goto_0
    const-string v3, "<html>"

    invoke-virtual {p1, v3}, Ljava/lang/String;->indexOf(Ljava/lang/String;)I

    move-result v3

    if-ne v3, v6, :cond_1

    .line 87
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "<html><head></head><body style=\'margin:0;padding:0;\'>"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "</body></html>"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    .line 90
    :cond_1
    return-object p1

    .line 75
    :cond_2
    const-string v3, "<head>"

    invoke-virtual {p1, v3}, Ljava/lang/String;->indexOf(Ljava/lang/String;)I

    move-result v3

    if-ne v3, v6, :cond_3

    .line 76
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "<script src=\""

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "\"></script>"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    goto :goto_0

    .line 78
    :cond_3
    const-string v3, "<head>"

    invoke-static {v3}, Ljava/util/regex/Pattern;->compile(Ljava/lang/String;)Ljava/util/regex/Pattern;

    move-result-object v2

    .line 79
    invoke-virtual {v2, p1}, Ljava/util/regex/Pattern;->matcher(Ljava/lang/CharSequence;)Ljava/util/regex/Matcher;

    move-result-object v0

    .line 80
    invoke-virtual {v0}, Ljava/util/regex/Matcher;->find()Z

    move-result v3

    if-eqz v3, :cond_0

    .line 81
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "<head><script src=\""

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "\"></script>"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Ljava/util/regex/Matcher;->replaceFirst(Ljava/lang/String;)Ljava/lang/String;

    move-result-object p1

    goto :goto_0
.end method

.method static isMRaidAd(Ljava/lang/String;)Z
    .locals 3
    .parameter "content"

    .prologue
    .line 57
    if-nez p0, :cond_0

    .line 58
    const/4 v2, 0x0

    .line 62
    :goto_0
    return v2

    .line 60
    :cond_0
    const-string v2, "<script.*src=[\"|\']mraid\\.js[\"|\']"

    invoke-static {v2}, Ljava/util/regex/Pattern;->compile(Ljava/lang/String;)Ljava/util/regex/Pattern;

    move-result-object v1

    .line 61
    .local v1, pattern:Ljava/util/regex/Pattern;
    invoke-virtual {v1, p0}, Ljava/util/regex/Pattern;->matcher(Ljava/lang/CharSequence;)Ljava/util/regex/Matcher;

    move-result-object v0

    .line 62
    .local v0, matcher:Ljava/util/regex/Matcher;
    invoke-virtual {v0}, Ljava/util/regex/Matcher;->find()Z

    move-result v2

    goto :goto_0
.end method

.method static isMRaidUpdated(Landroid/content/Context;Ljava/lang/String;)Z
    .locals 6
    .parameter "context"
    .parameter "mmjsUrl"

    .prologue
    const/4 v2, 0x1

    .line 281
    invoke-static {p0}, Lcom/millennialmedia/android/MRaid;->hasMraidLocally(Landroid/content/Context;)Z

    move-result v0

    .line 283
    .local v0, hasMraidLocally:Z
    if-nez v0, :cond_2

    const-string v3, "http://cdn.millennialmedia.com/mmjs/v1.4/mm.js"

    invoke-virtual {v3, p1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_2

    .line 284
    invoke-static {p0, p1}, Lcom/millennialmedia/android/MRaid;->saveIncludedMMJS(Landroid/content/Context;Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_1

    .line 285
    const-string v3, "MRaid"

    const-string v4, "Using bundled version of mm.js"

    invoke-static {v3, v4}, Lcom/millennialmedia/android/MMLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    .line 299
    :cond_0
    :goto_0
    return v2

    .line 289
    :cond_1
    const-string v3, "MRaid"

    const-string v4, "Unable to save bundled version of mm.js"

    invoke-static {v3, v4}, Lcom/millennialmedia/android/MMLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 292
    :cond_2
    invoke-static {p0}, Lcom/millennialmedia/android/MRaid;->getPreviousUrl(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v1

    .line 293
    .local v1, previousUrl:Ljava/lang/String;
    const-string v3, "MRaid"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Previous mm.js url is <"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, ">"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/millennialmedia/android/MMLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 295
    if-eqz v0, :cond_3

    invoke-virtual {p1, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-nez v3, :cond_0

    .line 299
    :cond_3
    const/4 v2, 0x0

    goto :goto_0
.end method

.method static saveIncludedMMJS(Landroid/content/Context;Ljava/lang/String;)Z
    .locals 7
    .parameter "context"
    .parameter "mmjsUrl"

    .prologue
    const/4 v4, 0x0

    .line 325
    const-string v5, "LyohIG1tanMgLSAxLjUuMCAtIHYxLjUuMC0wLWdkZjYzNDIxIC0gMjAxNC0wMS0xNSAqLwp2YXIgTU1BcHBTdG9yZSxNTUJhbm5lcixNTUJyYW5kLE1NQnJpZGdlT2JqZWN0LE1NQ2FjaGVkVmlkZW8sTU1DYWxlbmRhcixNTUNvbW1hbmQsTU1EZXZpY2UsTU1JbmxpbmVWaWRlbyxNTUludGVyc3RpdGlhbCxNTUpTLE1NSlNVdGlscyxNTUxpc3RlbmVyTWFuYWdlcixNTU1lZGlhLE1NTm90aWZpY2F0aW9uLE1NUGFzc2Jvb2ssTU1TREtJbnRlcmZhY2UsTU1Tb2NpYWwsTU1TcGVlY2hraXQsTVJBSUQsX3JlZixfcmVmMSxfcmVmMTAsX3JlZjExLF9yZWYxMixfcmVmMixfcmVmMyxfcmVmNCxfcmVmNSxfcmVmNixfcmVmNyxfcmVmOCxfcmVmOSxfX2hhc1Byb3A9e30uaGFzT3duUHJvcGVydHksX19leHRlbmRzPWZ1bmN0aW9uKGNoaWxkLHBhcmVudCl7ZnVuY3Rpb24gY3Rvcigpe3RoaXMuY29uc3RydWN0b3I9Y2hpbGR9Zm9yKHZhciBrZXkgaW4gcGFyZW50KV9faGFzUHJvcC5jYWxsKHBhcmVudCxrZXkpJiYoY2hpbGRba2V5XT1wYXJlbnRba2V5XSk7cmV0dXJuIGN0b3IucHJvdG90eXBlPXBhcmVudC5wcm90b3R5cGUsY2hpbGQucHJvdG90eXBlPW5ldyBjdG9yLGNoaWxkLl9fc3VwZXJfXz1wYXJlbnQucHJvdG90eXBlLGNoaWxkfTtTdHJpbmcucHJvdG90eXBlLnRyaW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXBsYWNlKFJlZ0V4cCgiXlxccyt8XFxzKyQiLCJnIiksIiIpfSxTdHJpbmcucHJvdG90eXBlLnRpdGxlQ2FzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcGxhY2UoUmVnRXhwKCJcXHdcXFMqIiwiZyIpLGZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKS5jb25jYXQoc3RyLnN1YnN0cigxKS50b0xvd2VyQ2FzZSgpKX0pfSwidW5kZWZpbmVkIj09dHlwZW9mIE1NSlMmJihNTUpTVXRpbHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBNTUpTVXRpbHMoKXt9cmV0dXJuIE1NSlNVdGlscy5pb3NfdmVyc2lvbj1udWxsLE1NSlNVdGlscy5wbGF0Zm9ybT1udWxsLE1NSlNVdGlscy5zZGtfdmVyc2lvbj1udWxsLE1NSlNVdGlscy5wYXJhbXM9bnVsbCxNTUpTVXRpbHMuaXNCcmlkZ2VFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuInVua25vd24iIT09TU1EZXZpY2UucmVhZHlTdGF0ZT8hMDohMX0sTU1KU1V0aWxzLmlzUHJlNDY9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNCcmlkZ2VFbmFibGVkKCk9PT0hMD8hMTpudWxsPT1hPyEwOnRoaXMudW5kZXJWZXJzaW9uKGEsIjQuNi4wIil9LE1NSlNVdGlscy51bmRlclZlcnNpb249ZnVuY3Rpb24odmVyc2lvblN0cmluZyxtaW5WZXJzaW9uKXt2YXIgaSxyZXMscmVzdWx0LHYxLHYyO2lmKG51bGw9PXZlcnNpb25TdHJpbmcpcmV0dXJuITE7Zm9yKHYxPXZlcnNpb25TdHJpbmcuc3BsaXQoIi4iKSx2Mj1taW5WZXJzaW9uLnNwbGl0KCIuIiksaT0wLHJlc3VsdD0wO2k8TWF0aC5taW4odjEubGVuZ3RoLHYyLmxlbmd0aCk7KXtpZihyZXM9djFbaV0tdjJbaV0sMCE9PXJlcyl7cmVzdWx0PXJlczticmVha31pKyt9cmV0dXJuIDA+cmVzdWx0fSxNTUpTVXRpbHMuaXNWZXJzaW9uPWZ1bmN0aW9uKHZlcnNpb25TdHJpbmcpe3ZhciBpLHJlcyxyZXN1bHQsdjEsdjI7aWYobnVsbD09dmVyc2lvblN0cmluZylyZXR1cm4hMTtmb3IodjE9dmVyc2lvblN0cmluZy5zcGxpdCgiLiIpLHYyPXRoaXMuc2RrVmVyc2lvbigpLnNwbGl0KCIuIiksaT0wLHJlc3VsdD0wO2k8TWF0aC5taW4odjEubGVuZ3RoLHYyLmxlbmd0aCk7KXtpZihyZXM9djFbaV0tdjJbaV0sMCE9PXJlcyl7cmVzdWx0PXJlczticmVha31pKyt9cmV0dXJuIDA9PT1yZXN1bHR9LE1NSlNVdGlscy5pc0lPUz1mdW5jdGlvbigpe3JldHVybiJpb3MiPT09dGhpcy5nZXRQbGF0Zm9ybSgpfSxNTUpTVXRpbHMuaXNXaW5kb3dzPWZ1bmN0aW9uKCl7cmV0dXJuIndpbmRvd3MiPT09dGhpcy5nZXRQbGF0Zm9ybSgpfSxNTUpTVXRpbHMuaXNCbGFja0JlcnJ5PWZ1bmN0aW9uKCl7cmV0dXJuImJsYWNrYmVycnkiPT09dGhpcy5nZXRQbGF0Zm9ybSgpfSxNTUpTVXRpbHMuaXNBbmRyb2lkPWZ1bmN0aW9uKCl7cmV0dXJuImFuZHJvaWQiPT09dGhpcy5nZXRQbGF0Zm9ybSgpfSxNTUpTVXRpbHMuZ2V0UGxhdGZvcm09ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5wbGF0Zm9ybT90aGlzLnBsYXRmb3JtOih0aGlzLnBsYXRmb3JtPW51bGwhPW5hdmlnYXRvci5wbGF0Zm9ybS5tYXRjaCgvKEFuZHJvaWQpLyk/ImFuZHJvaWQiOm51bGwhPW5hdmlnYXRvci5wbGF0Zm9ybS5tYXRjaCgvXihpUGFkfGlQb2R8aVBob25lKS8pPyJpb3MiOiJhbmRyb2lkIix0aGlzLnBsYXRmb3JtKX0sTU1KU1V0aWxzLnNka1ZlcnNpb249ZnVuY3Rpb24oKXt2YXIgbW1pc2RrLHBhcmFtcztyZXR1cm4gbnVsbCE9dGhpcy5zZGtfdmVyc2lvbj90aGlzLnNka192ZXJzaW9uOm51bGwhPU1NSlMuc2RrVmVyc2lvbj8odGhpcy5zZGtfdmVyaXNvbj1NTUpTLnNka1ZlcnNpb24sdGhpcy5zZGtfdmVyc2lvbik6KHBhcmFtcz10aGlzLmdldFBhcmFtcygpLG51bGwhPXBhcmFtcy5zZGt2ZXJzaW9uPyhtbWlzZGs9cGFyYW1zLnNka3ZlcnNpb24uc3BsaXQoIi0iKSx0aGlzLnNka192ZXJzaW9uPW1taXNka1swXSx0aGlzLnNka192ZXJzaW9uKTpudWxsKX0sTU1KU1V0aWxzLnNpbXVsYXRlUmVkaXJlY3Q9ZnVuY3Rpb24odXJsKXt2YXIgZXZlbnRGaXJlLGxpbmtUYWc7cmV0dXJuIGxpbmtUYWc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLGxpbmtUYWcuaWQ9Im1tX3NpbXVsYXRlTGluayIsbGlua1RhZy5zZXRBdHRyaWJ1dGUoImhyZWYiLHVybCksbGlua1RhZy5zZXRBdHRyaWJ1dGUoInN0eWxlIiwib3BhY2l0eTowIiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rVGFnKSxldmVudEZpcmU9ZnVuY3Rpb24oZWwsZXR5cGUpe3ZhciBldk9iajtyZXR1cm4gZWwuZmlyZUV2ZW50P2VsLmZpcmVFdmVudCgib24iK2V0eXBlKTooZXZPYmo9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50cyIpLGV2T2JqLmluaXRFdmVudChldHlwZSwhMCwhMSksZWwuZGlzcGF0Y2hFdmVudChldk9iaikpfSx3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBlbGVtZW50O3JldHVybiBlbGVtZW50PWxpbmtUYWcsZXZlbnRGaXJlKGxpbmtUYWcsImNsaWNrIil9LDEpfSxNTUpTVXRpbHMubW9kRHVyYXRpb249ZnVuY3Rpb24oZHVyYXRpb24pe3JldHVybiB0aGlzLmlzQW5kcm9pZCgpPzEwMD5kdXJhdGlvbj8xZTMqZHVyYXRpb246ZHVyYXRpb246ZHVyYXRpb259LE1NSlNVdGlscy5nZXRQYXJhbXM9ZnVuY3Rpb24oKXt2YXIgbixuYW1lLHBhaXIscGFyYW1zLHFzLHZhbHVlLF9pLF9sZW4sX3JlZixfcmVmMTtpZihudWxsIT10aGlzLnBhcmFtcylyZXR1cm4gdGhpcy5wYXJhbXM7aWYocGFyYW1zPXt9LHFzPXdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLHFzLmxlbmd0aClmb3IoX3JlZj1mdW5jdGlvbigpe3ZhciBfaixfbGVuLF9yZWYsX3Jlc3VsdHM7Zm9yKF9yZWY9cXMuc3BsaXQoIiYiKSxfcmVzdWx0cz1bXSxfaj0wLF9sZW49X3JlZi5sZW5ndGg7X2xlbj5fajtfaisrKXBhaXI9X3JlZltfal0sX3Jlc3VsdHMucHVzaChwYWlyLnNwbGl0KCI9IikpO3JldHVybiBfcmVzdWx0c30oKSxfaT0wLF9sZW49X3JlZi5sZW5ndGg7X2xlbj5faTtfaSsrKV9yZWYxPV9yZWZbX2ldLG5hbWU9X3JlZjFbMF0sdmFsdWU9X3JlZjFbMV0sbj1uYW1lLnJlcGxhY2UoIm1tXyIsIiIpLG51bGwhPXZhbHVlJiYocGFyYW1zW25dPXZhbHVlKTtyZXR1cm4gdGhpcy5wYXJhbXM9cGFyYW1zLHRoaXMucGFyYW1zfSxNTUpTVXRpbHMuY29uc29sZUxvZz1mdW5jdGlvbihfbXNnLF91c2VBbGVydCl7cmV0dXJuIG51bGw9PV91c2VBbGVydCYmKF91c2VBbGVydD0hMSksTU1KUy5ldmVudFRyYWNraW5nLnB1c2goX21zZyksdGhpcy5pc0FuZHJvaWQoKT9udWxsIT13aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nKF9tc2cpOnRoaXMuaXNXaW5kb3dzKCk/d2luZG93LmV4dGVybmFsLm5vdGlmeShfbXNnKToobnVsbCE9d2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZyhfbXNnKSxfdXNlQWxlcnQmJmFsZXJ0KF9tc2cpKSwhMX0sTU1KU1V0aWxzLmlPU1ZlcnNpb249ZnVuY3Rpb24oKXt2YXIgX3Y7cmV0dXJuIHRoaXMuaW9zX3ZlcnNpb24/dGhpcy5pb3NfdmVyc2lvbjooX3Y9bmF2aWdhdG9yLmFwcFZlcnNpb24uc3BsaXQoIiBPUyAiKVsxXSxfdj1fdi5zcGxpdCgiICIpWzBdLnRyaW0oKS5zcGxpdCgiXyIpLF92LnNwbGljZSgxLDAsIi4iKSx0aGlzLmlvc192ZXJzaW9uPXBhcnNlRmxvYXQoX3Yuam9pbigiIikpKX0sTU1KU1V0aWxzLmdldExvY2F0aW9uPWZ1bmN0aW9uKGZ1bmMsZXJyb3Ipe3JldHVybiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24/bmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jLGVycm9yLHtlbmFibGVIaWdoQWNjdXJhY3k6ITB9KTplcnJvcih7Y29kZTo5OX0pfSxNTUpTVXRpbHMubGlzdGVuRm9yQnJvd3NlclJlYWR5PWZ1bmN0aW9uKGZ1bmMpe3JldHVybiB0aGlzLmlzV2luZG93cygpP2RvY3VtZW50LmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLGZ1bmMpOmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmMsITEpfSxNTUpTVXRpbHMucG9zdEV2ZW50PWZ1bmN0aW9uKGV2ZW50KXt2YXIgZXZPYmo7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUV2ZW50Pyhldk9iaj1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKSxldk9iai5pbml0RXZlbnQoZXZlbnQsITAsITApLHdpbmRvdy5kb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2T2JqKSk6ZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3R8fHRoaXMuaXNXaW5kb3dzKCk/ZG9jdW1lbnQuYm9keS5maXJlRXZlbnQoIm9uIitldmVudCk6dm9pZCAwfSxNTUpTVXRpbHMub2Zmc2V0PWZ1bmN0aW9uKF9lbCl7dmFyIGNvb3JkcyxwX2Nvb3JkcztyZXR1cm4gY29vcmRzPVtfZWwub2Zmc2V0TGVmdCxfZWwub2Zmc2V0VG9wXSxudWxsIT1fZWwub2Zmc2V0UGFyZW50JiYocF9jb29yZHM9dGhpcy5vZmZzZXQoX2VsLm9mZnNldFBhcmVudCksY29vcmRzWzBdKz1wX2Nvb3Jkc1swXSxjb29yZHNbMV0rPXBfY29vcmRzWzFdKSxjb29yZHN9LE1NSlNVdGlsc30oKSxNTUpTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTU1KUygpe31yZXR1cm4gTU1KUy5WRVJTSU9OPSIxLjMiLE1NSlMuY29tbWFuZFF1ZXVlPVtdLE1NSlMuYW5kcm9pZEludGVyZmFjZT13aW5kb3dbImludGVyZmFjZSJdLE1NSlMudXRpbHM9TU1KU1V0aWxzLE1NSlMuc2RrUmVhZHk9ITEsTU1KUy5leGVjdXRpbmdDb21tYW5kPSExLE1NSlMuZXhlY3V0aW5nQ29tbWFuZERlbGF5PTAsTU1KUy5wYXJhbXM9bnVsbCxNTUpTLnBsYXRmb3JtPW51bGwsTU1KUy5jYWxsYmFja3M9e30sTU1KUy5saXN0ZW5lcnM9e30sTU1KUy5zZGtWZXJzaW9uPW51bGwsTU1KUy5vcGVuQ2FsbGVkPSExLE1NSlMuVFlQRV9TVFJJTkc9InN0cmluZyIsTU1KUy5UWVBFX09CSkVDVD10eXBlb2ZbXSxNTUpTLlRZUEVfRlVOQ1RJT049ImZ1bmN0aW9uIixNTUpTLlRZUEVfTlVNQkVSPSJudW1iZXIiLE1NSlMuVFlQRV9VTkRFRklORUQ9InVuZGVmaW5lZCIsTU1KUy5ldmVudFRyYWNraW5nPVtdLE1NSlMuc2V0RXhlY3V0aW5nQ29tbWFuZD1mdW5jdGlvbihfZXhlY3V0aW5nLF90aW1lKXtyZXR1cm4gbnVsbD09X3RpbWUmJihfdGltZT0xZTQpLHRoaXMubG9nQ2FsbHN0YWNrKCksdGhpcy5leGVjdXRpbmdDb21tYW5kPV9leGVjdXRpbmd9LE1NSlMubG9nQ2FsbHN0YWNrPWZ1bmN0aW9uKCl7dmFyIGNhbGxzdGFjayxjdXJyZW50RnVuY3Rpb24sZm4sZm5hbWU7Zm9yKGNhbGxzdGFjaz1bXSxjdXJyZW50RnVuY3Rpb249YXJndW1lbnRzLmNhbGxlZS5jYWxsZXI7Y3VycmVudEZ1bmN0aW9uOylmbj1jdXJyZW50RnVuY3Rpb24udG9TdHJpbmcoKSxmbmFtZT1mbi5zdWJzdHJpbmcoZm4uaW5kZXhPZigiZnVuY3Rpb24iKSs4LGZuLmluZGV4T2YoIiIpKXx8ImFub255bW91cyIsY2FsbHN0YWNrLnB1c2goZm5hbWUpLGN1cnJlbnRGdW5jdGlvbj1jdXJyZW50RnVuY3Rpb24uY2FsbGVyO3JldHVybiBNTUpTLnV0aWxzLmNvbnNvbGVMb2coY2FsbHN0YWNrKX0sTU1KUy5kZWJ1Zz1mdW5jdGlvbigpe3ZhciB0b0xvZztyZXR1cm4gdG9Mb2c9dGhpcy5ldmVudFRyYWNraW5nLmpvaW4oIlxuIiksY29uc29sZS5sb2codG9Mb2cpLCEwfSxNTUpTLnNldFNES1ZlcnNpb249ZnVuY3Rpb24odmVyc2lvbil7cmV0dXJuIHRoaXMuc2RrVmVyc2lvbj12ZXJzaW9ufSxNTUpTLm1tc2RrT3BlbkZ1bmN0aW9uPW51bGwsTU1KUy5zaG91bGRPcGVuV2FzQ2FsbGVkPSExLE1NSlMuc2V0dXBPdmVybGF5PWZ1bmN0aW9uKHVybCxwYXJhbXMpe3JldHVybiBudWxsPT1wYXJhbXMmJihwYXJhbXM9e30pLHRoaXMub3Blbih1cmwscGFyYW1zLCExKX0sTU1KUy5vcGVuPWZ1bmN0aW9uKHVybCxwYXJhbXMsYXV0b0V4cGFuZCl7cmV0dXJuIG51bGw9PXBhcmFtcyYmKHBhcmFtcz17fSksbnVsbD09YXV0b0V4cGFuZCYmKGF1dG9FeHBhbmQ9ITApLG1yYWlkLnNldEV4cGFuZFByb3BlcnRpZXMocGFyYW1zKSxtcmFpZC5leHBhbmQodXJsKX0sTU1KUy5jbG9zZT1mdW5jdGlvbihkdXJhdGlvbil7dmFyIG1vZER1cmF0aW9uO3JldHVybiBudWxsPT1kdXJhdGlvbiYmKGR1cmF0aW9uPTApLG1vZER1cmF0aW9uPWZ1bmN0aW9uKGR1cmF0aW9uKXtyZXR1cm4gMTAwPmR1cmF0aW9uPzFlMypkdXJhdGlvbjpkdXJhdGlvbn0sc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBNTUpTLmludGVyc3RpdGlhbC5jbG9zZSgpfSxtb2REdXJhdGlvbihkdXJhdGlvbikpfSxNTUpTLm9wZW5FeHRlcm5hbD1mdW5jdGlvbih1cmwpe3JldHVybiB0aGlzLnV0aWxzLmlzQnJpZGdlRW5hYmxlZCgpP01NRGV2aWNlLm9wZW5VcmwodXJsKTp3aW5kb3cubG9jYXRpb249dGhpcy51dGlscy5pc0lPUygpPyJtbWJyb3dzZXI6Oi8vIit1cmw6Im1tYnJvd3NlcjovLyIrdXJsfSxNTUpTLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnQpe3JldHVybiBkZWxldGUgdGhpcy5saXN0ZW5lcnNbZXZlbnRdfSxNTUpTLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnQsbGlzdGVuZXIpe3JldHVybiB0aGlzLmxpc3RlbmVyc1tldmVudF09bGlzdGVuZXJ9LE1NSlMuZW5xdWV1ZUNvbW1hbmQ9ZnVuY3Rpb24oY29tbWFuZCl7cmV0dXJuIHRoaXMuY29tbWFuZFF1ZXVlLnB1c2goY29tbWFuZCksdGhpcy51dGlscy5jb25zb2xlTG9nKCJjb21tYW5kUXVldWUgIitNTUpTLmNvbW1hbmRRdWV1ZSl9LE1NSlMuY2FsbGJhY2s9ZnVuY3Rpb24ocmVzcG9uc2Upe3ZhciBrbGFzcyxrbGFzc0Z1bmN0aW9uLG1ldGhvZCxyZXNwb25zZV9kYXRhLHJlc3VsdDtyZXR1cm4gcmVzdWx0PXJlc3BvbnNlLnJlc3VsdCxtZXRob2Q9cmVzcG9uc2UuY2FsbCxyZXNwb25zZV9kYXRhPXJlc3BvbnNlLnJlc3BvbnNlLGtsYXNzPXJlc3BvbnNlWyJjbGFzcyJdLGtsYXNzRnVuY3Rpb249d2luZG93W2tsYXNzXSx0eXBlb2Yga2xhc3NGdW5jdGlvbj09PXRoaXMuVFlQRV9GVU5DVElPTj9rbGFzc0Z1bmN0aW9uKG1ldGhvZCxyZXNwb25zZV9kYXRhLHJlc3VsdCk6dm9pZCAwfSxNTUpTfSgpLE1NU0RLSW50ZXJmYWNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTU1TREtJbnRlcmZhY2UoKXt0aGlzLnN0YXRlPSJsb2FkaW5nIix0aGlzLmlzUmVhZHk9ITEsdGhpcy5hZFByb3BlcnRpZXM9e30sdGhpcy52aWV3YWJsZT0hMSx0aGlzLnBsYWNlbWVudFR5cGU9InVua25vd24iLHRoaXMuYWRTaXplPXt9LHRoaXMuZGVmYXVsdFBvc2l0aW9uPXt9LHRoaXMudXRpbHM9TU1KUy51dGlscyx0aGlzLnNwZWVjaFJlc3VsdHM9bnVsbCx0aGlzLnNwZWVjaFN0YXR1cz0idW5rbm93biIsdGhpcy5zcGVlY2hBdWRpb0xldmVsPTAsdGhpcy5zcGVlY2hCYWNrZ3JvdW5kQXVkaW9MZXZlbD0wLHRoaXMuYXVkaW9Qb3NpdGlvbj0wLHRoaXMubWljcm9waG9uZVN0YXRlPSJyZWFkeSIsdGhpcy5taWNyb3Bob25lQXVkaW9MZXZlbD0wfXJldHVybiBNTVNES0ludGVyZmFjZS5wcm90b3R5cGUuc2V0QWRTaXplPWZ1bmN0aW9uKF9wcm9wZXJ0aWVzKXtyZXR1cm4gbnVsbCE9dGhpcy5kZWZhdWx0UG9zaXRpb24mJih0aGlzLmRlZmF1bHRQb3NpdGlvbj10aGlzLmFkU2l6ZSksdGhpcy5hZFNpemU/KHRoaXMuYWRTaXplLmhlaWdodCE9PV9wcm9wZXJ0aWVzLmhlaWdodHx8dGhpcy5hZFNpemUud2lkdGghPT1fcHJvcGVydGllcy53aWR0aCkmJih0aGlzLmFkU2l6ZT1fcHJvcGVydGllcyxNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoInNpemVDaGFuZ2UiLF9wcm9wZXJ0aWVzLndpZHRoLF9wcm9wZXJ0aWVzLmhlaWdodCkpOnRoaXMuYWRTaXplPV9wcm9wZXJ0aWVzLHRoaXMudXRpbHMuY29uc29sZUxvZygiU2V0dGluZyBBZCBTaXplICIrSlNPTi5zdHJpbmdpZnkoX3Byb3BlcnRpZXMpKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLnNldEFkUHJvcGVydGllcz1mdW5jdGlvbihfYWRQcm9wZXJ0aWVzKXtyZXR1cm4gdGhpcy51dGlscy5jb25zb2xlTG9nKCJzZXRBZFByb3BlcnRpZXM6ICIrSlNPTi5zdHJpbmdpZnkoX2FkUHJvcGVydGllcykpLHRoaXMuYWRQcm9wZXJ0aWVzPV9hZFByb3BlcnRpZXMsbnVsbCE9dGhpcy5hZFByb3BlcnRpZXMmJihudWxsIT10aGlzLmFkUHJvcGVydGllcy5hZCYmKHRoaXMuYWRTaXplPXRoaXMuYWRQcm9wZXJ0aWVzLmFkKSxudWxsIT10aGlzLmFkUHJvcGVydGllcy5kZXZpY2UmJk1NSlMuZGV2aWNlLnNldEluZm8odGhpcy5hZFByb3BlcnRpZXMuZGV2aWNlKSxudWxsIT10aGlzLmFkUHJvcGVydGllcy5zdXBwb3J0cyk/dGhpcy5zdXBwb3J0UHJvcGVydGllcz10aGlzLmFkUHJvcGVydGllcy5zdXBwb3J0czp2b2lkIDB9LE1NU0RLSW50ZXJmYWNlLnByb3RvdHlwZS5zZXRQbGFjZW1lbnRUeXBlPWZ1bmN0aW9uKHBsYWNlbWVudFR5cGUpe3RoaXMucGxhY2VtZW50VHlwZT1wbGFjZW1lbnRUeXBlfSxNTVNES0ludGVyZmFjZS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oX3N0YXRlKXtyZXR1cm4gdGhpcy5zdGF0ZSE9PV9zdGF0ZT8odGhpcy51dGlscy5jb25zb2xlTG9nKCdNUkFJRCBzdGF0ZSBjaGFuZ2UgZnJvbSAiJyt0aGlzLnN0YXRlKyciIHRvICInK19zdGF0ZSsnIicpLHRoaXMuc3RhdGU9X3N0YXRlLE1NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygic3RhdGVDaGFuZ2UiLF9zdGF0ZSkpOnZvaWQgMH0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLnNldFZpZXdhYmxlPWZ1bmN0aW9uKF92aXNpYmxlKXtyZXR1cm4gdGhpcy52aWV3YWJsZSE9PV92aXNpYmxlPyh0aGlzLnV0aWxzLmNvbnNvbGVMb2coIk1SQUlEIHZpZXdhYmxlIGNoYW5nZTogdmlzaWJsZSA9ICIrX3Zpc2libGUpLHRoaXMudmlld2FibGU9X3Zpc2libGUsTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJ2aWV3YWJsZUNoYW5nZSIsX3Zpc2libGUpKTp2b2lkIDB9LE1NU0RLSW50ZXJmYWNlLnByb3RvdHlwZS5yZWFkeT1mdW5jdGlvbigpe3JldHVybiJsb2FkaW5nIiE9PXRoaXMuc3RhdGUmJnRoaXMuaXNSZWFkeT09PSExPyh0aGlzLnV0aWxzLmNvbnNvbGVMb2coIk1SQUlEIHJlYWR5LiIpLHRoaXMudXRpbHMucG9zdEV2ZW50KCJzZGtyZWFkeSIpLHRoaXMuaXNSZWFkeT0hMCxNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoInJlYWR5IikpOnZvaWQgMH0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKG1lc3NhZ2UsYWN0aW9uKXtyZXR1cm4gTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJlcnJvciIsbWVzc2FnZSxhY3Rpb24pfSxNTVNES0ludGVyZmFjZS5wcm90b3R5cGUudm9pY2VTdGF0ZUNoYW5nZT1mdW5jdGlvbihfc3RhdHVzKXtyZXR1cm4gdGhpcy5zcGVlY2hTdGF0dXM9X3N0YXR1cyxNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoInZvaWNlU3RhdGVDaGFuZ2UiLF9zdGF0dXMpfSxNTVNES0ludGVyZmFjZS5wcm90b3R5cGUuYXVkaW9MZXZlbENoYW5nZT1mdW5jdGlvbihfYXVkaW9MZXZlbCl7cmV0dXJuIHRoaXMuc3BlZWNoQXVkaW9MZXZlbD1fYXVkaW9MZXZlbCxNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoImF1ZGlvTGV2ZWxDaGFuZ2UiLF9hdWRpb0xldmVsKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLnJlY29nbml0aW9uUmVzdWx0PWZ1bmN0aW9uKF9yZXN1bHRzKXtyZXR1cm4gdGhpcy5zcGVlY2hSZXN1bHRzPV9yZXN1bHRzLE1NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygicmVjb2duaXRpb25SZXN1bHQiLF9yZXN1bHRzKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLnZvaWNlRXJyb3I9ZnVuY3Rpb24oX2Vycm9yKXtyZXR1cm4gTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJ2b2ljZUVycm9yIixfZXJyb3IpfSxNTVNES0ludGVyZmFjZS5wcm90b3R5cGUuYmFja2dyb3VuZEF1ZGlvTGV2ZWw9ZnVuY3Rpb24oX2JhY2tncm91bmRBdWRpb0xldmVsKXtyZXR1cm4gdGhpcy5zcGVlY2hCYWNrZ3JvdW5kQXVkaW9MZXZlbD1fYmFja2dyb3VuZEF1ZGlvTGV2ZWwsTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJiYWNrZ3JvdW5kQXVkaW9MZXZlbCIsX2JhY2tncm91bmRBdWRpb0xldmVsKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLmF1ZGlvQ2FjaGVkPWZ1bmN0aW9uKCl7cmV0dXJuIE1NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygiYXVkaW9DYWNoZWQiKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLmF1ZGlvU3RhcnRlZD1mdW5jdGlvbigpe3JldHVybiBNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoImF1ZGlvU3RhcnRlZCIpfSxNTVNES0ludGVyZmFjZS5wcm90b3R5cGUuYXVkaW9Qb3NpdGlvbkNoYW5nZT1mdW5jdGlvbihfcG9zaXRpb24pe3JldHVybiB0aGlzLmF1ZGlvUG9zaXRpb249X3Bvc2l0aW9uLE1NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygiYXVkaW9Qb3NpdGlvbkNoYW5nZSIsX3Bvc2l0aW9uKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLmF1ZGlvQ29tcGxldGVkPWZ1bmN0aW9uKCl7cmV0dXJuIE1NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygiYXVkaW9Db21wbGV0ZWQiKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLmN1c3RvbVZvaWNlV29yZHNBZGRlZD1mdW5jdGlvbigpe3JldHVybiBNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoImN1c3RvbVZvaWNlV29yZHNBZGRlZCIpfSxNTVNES0ludGVyZmFjZS5wcm90b3R5cGUuY3VzdG9tVm9pY2VXb3Jkc0RlbGV0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJjdXN0b21Wb2ljZVdvcmRzRGVsZXRlZCIpfSxNTVNES0ludGVyZmFjZS5wcm90b3R5cGUubWljcm9waG9uZVN0YXRlQ2hhbmdlPWZ1bmN0aW9uKF9tcFN0YXRlKXtyZXR1cm4gdGhpcy5taWNyb3Bob25lU3RhdGU9X21wU3RhdGUsTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJtaWNyb3Bob25lU3RhdGVDaGFuZ2UiLF9tcFN0YXRlKX0sTU1TREtJbnRlcmZhY2UucHJvdG90eXBlLm1pY3JvcGhvbmVBdWRpb0xldmVsQ2hhbmdlPWZ1bmN0aW9uKF9tcGF1ZGlvTGV2ZWwpe3JldHVybiB0aGlzLm1pY3JvcGhvbmVBdWRpb0xldmVsPV9tcGF1ZGlvTGV2ZWwsTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJtaWNyb3Bob25lQXVkaW9MZXZlbENoYW5nZSIsX21wYXVkaW9MZXZlbCl9LE1NU0RLSW50ZXJmYWNlfSgpLE1NTGlzdGVuZXJNYW5hZ2VyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTU1MaXN0ZW5lck1hbmFnZXIoKXt0aGlzLmxpc3RlbmVycz17fSx0aGlzLnV0aWxzPU1NSlMudXRpbHN9cmV0dXJuIE1NTGlzdGVuZXJNYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50LGxpc3RlbmVyKXt2YXIgaW5kZXg7cmV0dXJuIG51bGwhPXRoaXMubGlzdGVuZXJzW2V2ZW50XT9udWxsIT1saXN0ZW5lcj8oaW5kZXg9dGhpcy5saXN0ZW5lcnNbZXZlbnRdLmluZGV4T2YobGlzdGVuZXIpLDA+aW5kZXg/KHRoaXMudXRpbHMuY29uc29sZUxvZygiTGlzdG5lciBub3QgZm91bmQhIiksITEpOih0aGlzLnV0aWxzLmNvbnNvbGVMb2coIiciK2V2ZW50KyInIGZvdW5kIGxpc3RlbmVyOiAiK2xpc3RlbmVyKSx0aGlzLmxpc3RlbmVyc1tldmVudF0uc3BsaWNlKGluZGV4LDEpLHRoaXMudXRpbHMuY29uc29sZUxvZygiJyIrZXZlbnQrIicgbGlzdGVuZXJzOiAiK3RoaXMubGlzdGVuZXJzW2V2ZW50XSkpKTpkZWxldGUgdGhpcy5saXN0ZW5lcnNbZXZlbnRdOnZvaWQgMH0sTU1MaXN0ZW5lck1hbmFnZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnQsbGlzdGVuZXIpe3JldHVybiBudWxsPT10aGlzLmxpc3RlbmVyc1tldmVudF0mJih0aGlzLmxpc3RlbmVyc1tldmVudF09W10pLHRoaXMudXRpbHMuY29uc29sZUxvZygiJyIrZXZlbnQrIicgYWRkZWQgbGlzdGVuZXI6ICIrbGlzdGVuZXIpLHRoaXMubGlzdGVuZXJzW2V2ZW50XS5wdXNoKGxpc3RlbmVyKSx0aGlzLnV0aWxzLmNvbnNvbGVMb2coIiciK2V2ZW50KyInIGxpc3RlbmVyczogIit0aGlzLmxpc3RlbmVyc1tldmVudF0pfSxNTUxpc3RlbmVyTWFuYWdlci5wcm90b3R5cGUuZmlyZUV2ZW50Q2FsbGJhY2tzPWZ1bmN0aW9uKGV2ZW50TmFtZSxwYXJhbWV0ZXIsYWN0aW9uKXt2YXIgY2FsbGJhY2ssX2ksX2xlbixfcmVmO2lmKHRoaXMudXRpbHMuY29uc29sZUxvZygiZXZlbnQgY2FsbGJhY2s6ICIrZXZlbnROYW1lKSxudWxsIT10aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdKWZvcihfcmVmPXRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0sX2k9MCxfbGVuPV9yZWYubGVuZ3RoO19sZW4+X2k7X2krKyljYWxsYmFjaz1fcmVmW19pXSxudWxsIT1wYXJhbWV0ZXI/bnVsbCE9YWN0aW9uP2NhbGxiYWNrKHBhcmFtZXRlcixhY3Rpb24pOmNhbGxiYWNrKHBhcmFtZXRlcik6Y2FsbGJhY2soKX0sTU1MaXN0ZW5lck1hbmFnZXJ9KCksTU1Db21tYW5kPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTU1Db21tYW5kKGNvbW1hbmQscGFyYW1zKXt2YXIgZnVuYyxmdW5jdGlvbk5hbWUsbmFtZSxxdWVyeV9hcmdzLHRpbWVzdGFtcCx1cmw7aWYodGhpcy51dGlscz1NTUpTLnV0aWxzLHRoaXMucGxhdGZvcm09dGhpcy51dGlscy5nZXRQbGF0Zm9ybSgpLHRoaXMuY29tbWFuZD1jb21tYW5kLHVybD0ibW1zZGs6Ly8iK2NvbW1hbmQrIi8iLG51bGwhPXBhcmFtcyl7cXVlcnlfYXJncz1bXSx0aW1lc3RhbXA9KG5ldyBEYXRlKS5nZXRUaW1lKCksZnVuYz1wYXJhbXMuY2FsbGJhY2ssZnVuY3Rpb25OYW1lPXRoaXMuY29tbWFuZC5yZXBsYWNlKCIuIiwiXyIpKyJfIit0aW1lc3RhbXAsTU1KUy51dGlscy5jb25zb2xlTG9nKCJjb21tYW5kOiAiK2NvbW1hbmQrIkNhbGxiYWNrIGZ1bmN0aW9uOiAiK2Z1bmMpLE1NSlMudXRpbHMuY29uc29sZUxvZygiY29tbWFuZDogIitjb21tYW5kKyIgcGFyYW1zICIrSlNPTi5zdHJpbmdpZnkocGFyYW1zKSksTU1KUy51dGlscy5jb25zb2xlTG9nKCJDYWxsYmFjayBmdW5jdGlvbjogIit0eXBlb2YgZnVuYyksdHlwZW9mIGZ1bmM9PT1NTUpTLlRZUEVfU1RSSU5HP3dpbmRvdy5NTUpTLmNhbGxiYWNrc1tmdW5jdGlvbk5hbWVdPWZ1bmN0aW9uKHJlc3BvbnNlKXt2YXIgYUZ1bmMsY29udGV4dCxpLG5hbWVzcGFjZXM7Zm9yKE1NSlMudXRpbHMuY29uc29sZUxvZygiZXhlY3V0aW5nIHN0cmluZyBmdW5jdGlvbiBjYWxsYmFjazogIitmdW5jdGlvbk5hbWUpLG51bGwhPXJlc3BvbnNlJiYocmVzcG9uc2UuZGF0YT1yZXNwb25zZS5yZXNwb25zZSksbmFtZXNwYWNlcz1mdW5jLnNwbGl0KCIuIiksYUZ1bmM9bmFtZXNwYWNlcy5wb3AoKSxpPTAsY29udGV4dD13aW5kb3c7aTxuYW1lc3BhY2VzLmxlbmd0aDspTU1KUy51dGlscy5jb25zb2xlTG9nKCJuYW1lc3BhY2U6ICIrbmFtZXNwYWNlc1tpXSksY29udGV4dD1jb250ZXh0W25hbWVzcGFjZXNbaV1dLGkrKztyZXR1cm4gTU1KUy51dGlscy5jb25zb2xlTG9nKCJhRnVuYzogIithRnVuYyksTU1KUy51dGlscy5jb25zb2xlTG9nKCJjb250ZXh0OiAiK2NvbnRleHQpLGNvbnRleHRbYUZ1bmNdKHJlc3BvbnNlKSxNTUpTLnNldEV4ZWN1dGluZ0NvbW1hbmQoITEpfTp0eXBlb2YgZnVuYz09PU1NSlMuVFlQRV9GVU5DVElPTj93aW5kb3cuTU1KUy5jYWxsYmFja3NbZnVuY3Rpb25OYW1lXT1mdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIG51bGwhPXJlc3BvbnNlJiYocmVzcG9uc2UuZGF0YT1yZXNwb25zZS5yZXNwb25zZSxyZXNwb25zZS5yZXN1bHQ9cGFyc2VJbnQocmVzcG9uc2UucmVzdWx0KSksZnVuYyhyZXNwb25zZSksTU1KUy5zZXRFeGVjdXRpbmdDb21tYW5kKCExKX06dHlwZW9mIGZ1bmM9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYod2luZG93Lk1NSlMuY2FsbGJhY2tzW2Z1bmN0aW9uTmFtZV09ZnVuY3Rpb24oKXtyZXR1cm4gTU1KUy51dGlscy5jb25zb2xlTG9nKCJleGVjdXRpbmcgdW5kZWZpbmVkIGNhbGxiYWNrOiAiK2Z1bmN0aW9uTmFtZSksTU1KUy51dGlscy5jb25zb2xlTG9nKCJubyBjYWxsYmFjayB3YXMgc3BlY2lmaWVkIiksTU1KUy5zZXRFeGVjdXRpbmdDb21tYW5kKCExKX0pLHBhcmFtcy5jYWxsYmFjaz0iTU1KUy5jYWxsYmFja3MuIitmdW5jdGlvbk5hbWUsdGhpcy5jYWxsYmFjaz1wYXJhbXMuY2FsbGJhY2s7Zm9yKG5hbWUgaW4gcGFyYW1zKXR5cGVvZiBuYW1lPT09TU1KUy5UWVBFX1NUUklORyYmdm9pZCAwIT09cGFyYW1zW25hbWVdJiZudWxsIT09cGFyYW1zW25hbWVdJiZxdWVyeV9hcmdzLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpKyI9IitlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW25hbWVdKSk7cXVlcnlfYXJncy5sZW5ndGg+MCYmKHVybCs9Ij8iK3F1ZXJ5X2FyZ3Muam9pbigiJiIpKX1NTUpTLnV0aWxzLmNvbnNvbGVMb2codXJsKSx0aGlzLnVybD11cmx9cmV0dXJuIE1NQ29tbWFuZC51cmw9bnVsbCxNTUNvbW1hbmQucGxhdGZvcm09bnVsbCxNTUNvbW1hbmQuY29tbWFuZD1udWxsLE1NQ29tbWFuZC5jYWxsYmFjaz1udWxsLE1NQ29tbWFuZC5wcm90b3R5cGUucGVyZm9ybT1mdW5jdGlvbigpe3ZhciBpZnJhbWU7cmV0dXJuIHRoaXMudXRpbHMuY29uc29sZUxvZygicGVyZm9ybSBwbGF0Zm9ybTogICIrdGhpcy5wbGF0Zm9ybSksdGhpcy51dGlscy5jb25zb2xlTG9nKCJjdXJyZW50IHdpbmRvdy5sb2NhdGlvbjogICIrd2luZG93LmxvY2F0aW9uKSxNTUpTLmV4ZWN1dGluZ0NvbW1hbmQ9ITAsdGhpcy51dGlscy5jb25zb2xlTG9nKCJ3aW5kb3cubG9jYXRpb246ICAiK3RoaXMudXJsKSx0aGlzLnV0aWxzLmNvbnNvbGVMb2coIlNldHRpbmcgZXhlY3V0aW5nQ29tbWFuZCA9IHRydWU6ICAiKSxpZnJhbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiSUZSQU1FIiksaWZyYW1lLnNldEF0dHJpYnV0ZSgic3JjIix0aGlzLnVybCksZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGlmcmFtZSksaWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaWZyYW1lKSxpZnJhbWU9bnVsbH0sTU1Db21tYW5kfSgpLE1NQnJpZGdlT2JqZWN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTU1CcmlkZ2VPYmplY3QoKXt2YXIgbTt0aGlzLnV0aWxzPU1NSlMudXRpbHMsbT10aGlzLmNvbnN0cnVjdG9yLnRvU3RyaW5nKCkubWF0Y2goL15ccypmdW5jdGlvblxzKyhbXlxzXChdKykvKSxtJiYodGhpcy5jbGFzc05hbWU9bVsxXSl9cmV0dXJuIE1NQnJpZGdlT2JqZWN0LmNsYXNzTmFtZT1udWxsLE1NQnJpZGdlT2JqZWN0LnByb3RvdHlwZS5lbnF1ZXVlPWZ1bmN0aW9uKG1ldGhvZCxwYXJhbXMpe3JldHVybiBNTUpTLmVucXVldWVDb21tYW5kKG5ldyBNTUNvbW1hbmQodGhpcy5jbGFzc05hbWUrIi4iK21ldGhvZCxwYXJhbXMpKSwhMH0sTU1CcmlkZ2VPYmplY3R9KCksTU1EZXZpY2U9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBNTURldmljZSgpe3JldHVybiBfcmVmPU1NRGV2aWNlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF9fZXh0ZW5kcyhNTURldmljZSxfc3VwZXIpLE1NRGV2aWNlLmxvYWRTdGF0ZT0ic3RhbmRieSIsTU1EZXZpY2UubG9hZFRpbWVvdXQ9MCxNTURldmljZS5jb25uZWN0aW9uPW51bGwsTU1EZXZpY2UucHJvdG90eXBlLnNldE5ldHdvcmtDb25uZWN0aW9uPWZ1bmN0aW9uKG5ldHdvcmspe3JldHVybiB0aGlzLmNvbm5lY3Rpb249bmV0d29ya30sTU1EZXZpY2UucHJvdG90eXBlLnNldEluZm89ZnVuY3Rpb24oaW5mbyl7dmFyIGV2dCxrZXksdmFsdWU7Zm9yKGtleSBpbiBpbmZvKXZhbHVlPWluZm9ba2V5XSx0aGlzW2tleV09dmFsdWU7cmV0dXJuIE1NRGV2aWNlLmxvYWRTdGF0ZT0ibG9hZGVkIix0aGlzLnV0aWxzLmlzV2luZG93cygpfHwoZXZ0PSJkZXZpY2VMb2FkZWQiLHRoaXMudXRpbHMucG9zdEV2ZW50KGV2dCksZXZ0PSJkZXZpY2Vsb2FkZWQiLHRoaXMudXRpbHMucG9zdEV2ZW50KGV2dCkpLCEwfSxNTURldmljZS5wcm90b3R5cGUuZ2V0SW5mbz1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIE1NRGV2aWNlLmxvYWRTdGF0ZT0ibG9hZGluZyIsdGhpcy5lbnF1ZXVlKCJnZXRJbmZvIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1EZXZpY2UucHJvdG90eXBlLnNldE1NRElEPWZ1bmN0aW9uKG1tZGlkLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJzZXRNTURJRCIse21tZGlkOm1tZGlkLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NRGV2aWNlLnByb3RvdHlwZS5nZXRBdmFpbGFibGVTY2hlbWVzPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJnZXRBdmFpbGFibGVTY2hlbWVzIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1EZXZpY2UucHJvdG90eXBlLmlzU2NoZW1lQXZhaWxhYmxlPWZ1bmN0aW9uKHNjaGVtZSxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiaXNTY2hlbWVBdmFpbGFibGUiLHtzY2hlbWU6c2NoZW1lLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NRGV2aWNlLnByb3RvdHlwZS5nZXRBdmFpbGFibGVTY2hlbWVzPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJnZXRBdmFpbGFibGVTY2hlbWVzIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1EZXZpY2UucHJvdG90eXBlLmdldE9yaWVudGF0aW9uPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJnZXRPcmllbnRhdGlvbiIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NRGV2aWNlLnByb3RvdHlwZS5nZXRMb2NhdGlvbj1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiZ2V0TG9jYXRpb24iLHtjYWxsYmFjazpjYWxsYmFja30pfSxNTURldmljZS5wcm90b3R5cGUuc2hvd01hcD1mdW5jdGlvbihsb2NhdGlvbixjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgic2hvd01hcCIse2xvY2F0aW9uOmxvY2F0aW9uLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NRGV2aWNlLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKG51bWJlcixkaWFsLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJjYWxsIix7bnVtYmVyOm51bWJlcixjYWxsYmFjazpjYWxsYmFjayxkaWFsOmRpYWx9KX0sTU1EZXZpY2UucHJvdG90eXBlLm9wZW5Vcmw9ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJvcGVuVXJsIix7dXJsOnVybCxjYWxsYmFjazpjYWxsYmFja30pfSxNTURldmljZS5wcm90b3R5cGUub3BlbkFwcFN0b3JlPWZ1bmN0aW9uKGFwcElkLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJvcGVuQXBwU3RvcmUiLHthcHBJZDphcHBJZCxjYWxsYmFjazpjYWxsYmFja30pfSxNTURldmljZS5wcm90b3R5cGUuY29tcG9zZVNNUz1mdW5jdGlvbihudW1iZXIsbWVzc2FnZSxjYWxsYmFjayl7cmV0dXJuIHRoaXMuY29tcG9zZVNtcyhudW1iZXIsbWVzc2FnZSxjYWxsYmFjayl9LE1NRGV2aWNlLnByb3RvdHlwZS5jb21wb3NlU21zPWZ1bmN0aW9uKG51bWJlcixtZXNzYWdlLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy51dGlscy5pc0lPUygpP3RoaXMuZW5xdWV1ZSgiY29tcG9zZVNtcyIse251bWJlcjpudW1iZXIsbWVzc2FnZTptZXNzYWdlLGNhbGxiYWNrOmNhbGxiYWNrfSk6dGhpcy5lbnF1ZXVlKCJjb21wb3NlU21zIix7bnVtYmVyOm51bWJlcixtZXNzYWdlOm1lc3NhZ2UsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1EZXZpY2UucHJvdG90eXBlLmNvbXBvc2VFbWFpbD1mdW5jdGlvbihyZWNpcGllbnQsc3ViamVjdCxtZXNzYWdlLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy51dGlscy5pc0lPUygpP3RoaXMub3BlblVybCgibWFpbHRvOj90bz0iK2VuY29kZVVSSUNvbXBvbmVudChyZWNpcGllbnQpKyImc3ViamVjdD0iK2VuY29kZVVSSUNvbXBvbmVudChzdWJqZWN0KSsiJmJvZHk9IitlbmNvZGVVUklDb21wb25lbnQobWVzc2FnZSksY2FsbGJhY2spOnRoaXMuZW5xdWV1ZSgiY29tcG9zZUVtYWlsIix7cmVjaXBpZW50OnJlY2lwaWVudCxzdWJqZWN0OnN1YmplY3QsbWVzc2FnZTptZXNzYWdlLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NRGV2aWNlLnByb3RvdHlwZS5nZXRDb21wYXNzSGVhZGluZz1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiZ2V0Q29tcGFzc0hlYWRpbmciLHtjYWxsYmFjazpjYWxsYmFja30pfSxNTURldmljZS5wcm90b3R5cGUuZ2V0QmFyb21ldGVyPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJnZXRCYXJvbWV0ZXIiLHtjYWxsYmFjazpjYWxsYmFja30pfSxNTURldmljZS5wcm90b3R5cGUuZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb249ZnVuY3Rpb24oZW5hYmxlZCxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb24iLHtlbmFibGVkOmVuYWJsZWQsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1EZXZpY2V9KE1NQnJpZGdlT2JqZWN0KSxNTU1lZGlhPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gTU1NZWRpYSgpe3JldHVybiBfcmVmMT1NTU1lZGlhLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF9fZXh0ZW5kcyhNTU1lZGlhLF9zdXBlciksTU1NZWRpYS5wcm90b3R5cGUub3BlbkZyb250Q2FtZXJhPWZ1bmN0aW9uKGNvbnN0cmFpbldpZHRoLGNvbnN0cmFpbkhlaWdodCxjb250ZW50TW9kZSxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiZ2V0UGljdHVyZSIse3NvdXJjZVR5cGU6IkNhbWVyYSIsY29uc3RyYWluV2lkdGg6Y29uc3RyYWluV2lkdGgsY29uc3RyYWluSGVpZ2h0OmNvbnN0cmFpbkhlaWdodCxjb250ZW50TW9kZTpjb250ZW50TW9kZSxmcm9udDohMCxjYWxsYmFjazpjYWxsYmFja30pfSxNTU1lZGlhLnByb3RvdHlwZS5vcGVuUmVhckNhbWVyYT1mdW5jdGlvbihjb25zdHJhaW5XaWR0aCxjb25zdHJhaW5IZWlnaHQsY29udGVudE1vZGUsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImdldFBpY3R1cmUiLHtzb3VyY2VUeXBlOiJDYW1lcmEiLGNvbnN0cmFpbldpZHRoOmNvbnN0cmFpbldpZHRoLGNvbnN0cmFpbkhlaWdodDpjb25zdHJhaW5IZWlnaHQsY29udGVudE1vZGU6Y29udGVudE1vZGUsZnJvbnQ6ITEsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1NZWRpYS5wcm90b3R5cGUuZ2V0UGljdHVyZT1mdW5jdGlvbihzb3VyY2VUeXBlLGNvbnN0cmFpbldpZHRoLGNvbnN0cmFpbkhlaWdodCxjb250ZW50TW9kZSxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiZ2V0UGljdHVyZSIse3NvdXJjZVR5cGU6c291cmNlVHlwZSxjb25zdHJhaW5XaWR0aDpjb25zdHJhaW5XaWR0aCxjb25zdHJhaW5IZWlnaHQ6Y29uc3RyYWluSGVpZ2h0LGNvbnRlbnRNb2RlOmNvbnRlbnRNb2RlLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NTWVkaWEucHJvdG90eXBlLndyaXRlVG9QaG90b0xpYnJhcnk9ZnVuY3Rpb24ocGF0aCx0aXRsZSxkZXNjcmlwdGlvbixjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgid3JpdGVUb1Bob3RvTGlicmFyeSIse3BhdGg6cGF0aCx0aXRsZTp0aXRsZSxkZXNjcmlwdGlvbjpkZXNjcmlwdGlvbixjYWxsYmFjazpjYWxsYmFja30pfSxNTU1lZGlhLnByb3RvdHlwZS5pc1NvdXJjZVR5cGVBdmFpbGFibGU9ZnVuY3Rpb24oc291cmNlVHlwZSxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiaXNTb3VyY2VUeXBlQXZhaWxhYmxlIix7c291cmNlVHlwZTpzb3VyY2VUeXBlLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NTWVkaWEucHJvdG90eXBlLmF2YWlsYWJsZVNvdXJjZVR5cGVzPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJhdmFpbGFibGVTb3VyY2VUeXBlcyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NTWVkaWEucHJvdG90eXBlLmdldERldmljZVZvbHVtZT1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiZ2V0RGV2aWNlVm9sdW1lIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1NZWRpYX0oTU1CcmlkZ2VPYmplY3QpLE1NQ2FsZW5kYXI9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBNTUNhbGVuZGFyKCl7cmV0dXJuIF9yZWYyPU1NQ2FsZW5kYXIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gX19leHRlbmRzKE1NQ2FsZW5kYXIsX3N1cGVyKSxNTUNhbGVuZGFyLnByb3RvdHlwZS5hZGRFdmVudD1mdW5jdGlvbihwYXJhbWV0ZXJzLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJhZGRFdmVudCIse3BhcmFtZXRlcnM6SlNPTi5zdHJpbmdpZnkocGFyYW1ldGVycyksY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1DYWxlbmRhcn0oTU1CcmlkZ2VPYmplY3QpLE1NQmFubmVyPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gTU1CYW5uZXIoKXtyZXR1cm4gX3JlZjM9TU1CYW5uZXIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gX19leHRlbmRzKE1NQmFubmVyLF9zdXBlciksTU1CYW5uZXIucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihwYXJhbWV0ZXJzLGNhbGxiYWNrKXtyZXR1cm4gcGFyYW1ldGVycy5jYWxsYmFjaz1jYWxsYmFjayx0aGlzLmVucXVldWUoInJlc2l6ZSIscGFyYW1ldGVycyl9LE1NQmFubmVyfShNTUJyaWRnZU9iamVjdCksTU1Ob3RpZmljYXRpb249ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBNTU5vdGlmaWNhdGlvbigpe3JldHVybiBfcmVmND1NTU5vdGlmaWNhdGlvbi5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBfX2V4dGVuZHMoTU1Ob3RpZmljYXRpb24sX3N1cGVyKSxNTU5vdGlmaWNhdGlvbi5wcm90b3R5cGUuYWxlcnQ9ZnVuY3Rpb24odGl0bGUsbWVzc2FnZSxjYW5jZWxCdXR0b24sYnV0dG9ucyxjYWxsYmFjayl7dmFyIHBhcmFtcztyZXR1cm4gcGFyYW1zPXt0aXRsZTp0aXRsZSxtZXNzYWdlOm1lc3NhZ2UsY2FuY2VsQnV0dG9uOmNhbmNlbEJ1dHRvbixjYWxsYmFjazpjYWxsYmFja30sbnVsbCE9YnV0dG9ucyYmIiIhPT1idXR0b25zJiZudWxsIT09YnV0dG9ucyYmKHBhcmFtcy5idXR0b25zPWJ1dHRvbnMpLHRoaXMuZW5xdWV1ZSgiYWxlcnQiLHBhcmFtcyl9LE1NTm90aWZpY2F0aW9uLnByb3RvdHlwZS52aWJyYXRlPWZ1bmN0aW9uKGR1cmF0aW9uLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJ2aWJyYXRlIix7ZHVyYXRpb246ZHVyYXRpb24sY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1Ob3RpZmljYXRpb259KE1NQnJpZGdlT2JqZWN0KSxNTUlubGluZVZpZGVvPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gTU1JbmxpbmVWaWRlbygpe3JldHVybiBfcmVmNT1NTUlubGluZVZpZGVvLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF9fZXh0ZW5kcyhNTUlubGluZVZpZGVvLF9zdXBlciksTU1JbmxpbmVWaWRlby5wcm90b3R5cGUudXBkYXRlVmlkZW9TZWVrVGltZT1mdW5jdGlvbihjdXJyZW50U2Vla1RpbWUpe3JldHVybiBudWxsIT10aGlzLnRpbWluZ0NhbGxiYWNrP3RoaXMudGltaW5nQ2FsbGJhY2soY3VycmVudFNlZWtUaW1lKTp2b2lkIDB9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLnNldFRpbWluZ0NhbGxiYWNrPWZ1bmN0aW9uKF90aW1pbmdDYWxsYmFjayl7cmV0dXJuIHRoaXMudGltaW5nQ2FsbGJhY2s9X3RpbWluZ0NhbGxiYWNrfSxNTUlubGluZVZpZGVvLnByb3RvdHlwZS5wbGF5VmlkZW89ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInBsYXlWaWRlbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLnN0b3BWaWRlbz1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgic3RvcFZpZGVvIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1JbmxpbmVWaWRlby5wcm90b3R5cGUucGF1c2VWaWRlbz1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgicGF1c2VWaWRlbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLnJlc3VtZVZpZGVvPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJyZXN1bWVWaWRlbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLnJlbW92ZVZpZGVvPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJyZW1vdmVWaWRlbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLnNldFN0cmVhbVZpZGVvU291cmNlPWZ1bmN0aW9uKHN0cmVhbVZpZGVvVVJJLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJzZXRTdHJlYW1WaWRlb1NvdXJjZSIse3N0cmVhbVZpZGVvVVJJOnN0cmVhbVZpZGVvVVJJLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLmFkanVzdFZpZGVvPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5hZGp1c3RWaWRlb1dpdGhJZCgiaW5saW5lVmlkZW8iLGNhbGxiYWNrKX0sTU1JbmxpbmVWaWRlby5wcm90b3R5cGUuYWRqdXN0VmlkZW9XaXRoSWQ9ZnVuY3Rpb24oZGl2SWQsY2FsbGJhY2spe3ZhciBmcmFtZSx2aWRlb0VsO3JldHVybiB2aWRlb0VsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKSxudWxsIT12aWRlb0VsPyhmcmFtZT10aGlzLmNhbGN1bGF0ZURpdlBvc2l0aW9uKGRpdklkKSxmcmFtZS5jYWxsYmFjaz1jYWxsYmFjayx0aGlzLmVucXVldWUoImFkanVzdFZpZGVvIixmcmFtZSkpOmNhbGxiYWNrKHtyZXN1bHQ6MCxyZXNwb25zZToiRGl2IElkIG5vdCBmb3VuZCIsImNsYXNzIjoiTU1JbmxpbmVWaWRlbyIsY2FsbDoiaW5zZXJ0VmlkZW8ifSl9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLmluc2VydFZpZGVvV2l0aElkPWZ1bmN0aW9uKGRpdklkLHRpbWluZ0NhbGxiYWNrLGNhbGxiYWNrKXt2YXIgYXV0b1BsYXksYm9keUhlaWdodCxib2R5V2lkdGgsY2FjaGVkVmlkZW9JRCxjYWNoZWRWaWRlb1VSSSxmcmFtZSxoZWlnaHQsc2hvd0NvbnRyb2xzLHN0cmVhbVZpZGVvVVJJLHRvdWNoQ2FsbGJhY2ssdmlkZW9FbCx3aWR0aCx4LHk7cmV0dXJuIHZpZGVvRWw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpLG51bGwhPXZpZGVvRWw/KGZyYW1lPXRoaXMuY2FsY3VsYXRlRGl2UG9zaXRpb24oZGl2SWQpLG51bGwhPXRpbWluZ0NhbGxiYWNr"

    invoke-static {v5}, Lcom/millennialmedia/android/Base64;->decode(Ljava/lang/String;)[B

    move-result-object v1

    .line 326
    .local v1, mmjsBytesFirst:[B
    const-string v5, "JiZ0aGlzLnNldFRpbWluZ0NhbGxiYWNrKHRpbWluZ0NhbGxiYWNrKSx4PWZyYW1lLngseT1mcmFtZS55LHdpZHRoPWZyYW1lLndpZHRoLGhlaWdodD1mcmFtZS5oZWlnaHQsYm9keVdpZHRoPWRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsYm9keUhlaWdodD1kb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCxjYWNoZWRWaWRlb1VSST12aWRlb0VsLmdldEF0dHJpYnV0ZSgiY2FjaGVkVmlkZW9VUkkiKSxjYWNoZWRWaWRlb0lEPXZpZGVvRWwuZ2V0QXR0cmlidXRlKCJjYWNoZWRWaWRlb0lEIiksdG91Y2hDYWxsYmFjaz12aWRlb0VsLmdldEF0dHJpYnV0ZSgib25Ub3VjaCIpLHN0cmVhbVZpZGVvVVJJPXZpZGVvRWwuZ2V0QXR0cmlidXRlKCJzdHJlYW1WaWRlb1VSSSIpLGF1dG9QbGF5PXZpZGVvRWwuZ2V0QXR0cmlidXRlKCJhdXRvUGxheSIpLHNob3dDb250cm9scz12aWRlb0VsLmdldEF0dHJpYnV0ZSgic2hvd0NvbnRyb2xzIiksY2FjaGVkVmlkZW9VUkl8fHN0cmVhbVZpZGVvVVJJP3RoaXMuZW5xdWV1ZSgiaW5zZXJ0VmlkZW8iLHt4OngseTp5LHdpZHRoOndpZHRoLGhlaWdodDpoZWlnaHQsYm9keVdpZHRoOmJvZHlXaWR0aCxib2R5SGVpZ2h0OmJvZHlIZWlnaHQsY2FjaGVkVmlkZW9VUkk6Y2FjaGVkVmlkZW9VUkksc3RyZWFtVmlkZW9VUkk6c3RyZWFtVmlkZW9VUkksdG91Y2hDYWxsYmFjazp0b3VjaENhbGxiYWNrLGNhY2hlZFZpZGVvSUQ6Y2FjaGVkVmlkZW9JRCxhdXRvUGxheTphdXRvUGxheSxzaG93Q29udHJvbHM6c2hvd0NvbnRyb2xzLGNhbGxiYWNrOmNhbGxiYWNrfSk6Y2FsbGJhY2soe3Jlc3VsdDowLHJlc3BvbnNlOiJjYWNoZWRWaWRlb1VSSSBvciBzdHJlYW1WaWRlb1VSSSBub3QgZm91bmQiLCJjbGFzcyI6Ik1NSW5saW5lVmlkZW8iLGNhbGw6Imluc2VydFZpZGVvIn0pKTpjYWxsYmFjayh7cmVzdWx0OjAscmVzcG9uc2U6IkRpdiBJZCBub3QgZm91bmQiLCJjbGFzcyI6Ik1NSW5saW5lVmlkZW8iLGNhbGw6Imluc2VydFZpZGVvIn0pfSxNTUlubGluZVZpZGVvLnByb3RvdHlwZS5pbnNlcnRWaWRlbz1mdW5jdGlvbih0aW1pbmdDYWxsYmFjayxjYWxsYmFjayl7cmV0dXJuIHRoaXMuaW5zZXJ0VmlkZW9XaXRoSWQoImlubGluZVZpZGVvIix0aW1pbmdDYWxsYmFjayxjYWxsYmFjayl9LE1NSW5saW5lVmlkZW8ucHJvdG90eXBlLmNhbGN1bGF0ZURpdlBvc2l0aW9uPWZ1bmN0aW9uKGRpdklkKXt2YXIgZGl2RWwsaGVpZ2h0LHBvc2l0aW9uLHdpZHRoLHgseTtyZXR1cm4gZGl2RWw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpLHBvc2l0aW9uPXRoaXMudXRpbHMub2Zmc2V0KGRpdkVsKSx4PXBvc2l0aW9uWzBdLHk9cG9zaXRpb25bMV0sd2lkdGg9ZGl2RWwub2Zmc2V0V2lkdGgsaGVpZ2h0PWRpdkVsLm9mZnNldEhlaWdodCx7eDp4LHk6eSx3aWR0aDp3aWR0aCxoZWlnaHQ6aGVpZ2h0fX0sTU1JbmxpbmVWaWRlb30oTU1CcmlkZ2VPYmplY3QpLE1NQ2FjaGVkVmlkZW89ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBNTUNhY2hlZFZpZGVvKCl7cmV0dXJuIF9yZWY2PU1NQ2FjaGVkVmlkZW8uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gX19leHRlbmRzKE1NQ2FjaGVkVmlkZW8sX3N1cGVyKSxNTUNhY2hlZFZpZGVvLnRpbWluZ0NhbGxiYWNrPW51bGwsTU1DYWNoZWRWaWRlby5lcnJvckNhbGxiYWNrPW51bGwsTU1DYWNoZWRWaWRlby5wcm90b3R5cGUudXBkYXRlVmlkZW9TZWVrVGltZT1mdW5jdGlvbihjdXJyZW50U2Vla1RpbWUpe3JldHVybiBudWxsIT10aGlzLnRpbWluZ0NhbGxiYWNrP3RoaXMudGltaW5nQ2FsbGJhY2soY3VycmVudFNlZWtUaW1lKTp2b2lkIDB9LE1NQ2FjaGVkVmlkZW8ucHJvdG90eXBlLnNldFRpbWluZ0NhbGxiYWNrPWZ1bmN0aW9uKHRpbWluZ0NhbGxiYWNrKXtyZXR1cm4gdGhpcy50aW1pbmdDYWxsYmFjaz10aW1pbmdDYWxsYmFja30sTU1DYWNoZWRWaWRlby5wcm90b3R5cGUuc2V0RXJyb3I9ZnVuY3Rpb24oZXJyb3Ipe3JldHVybiBudWxsIT10aGlzLmVycm9yQ2FsbGJhY2s/dGhpcy5lcnJvckNhbGxiYWNrKGVycm9yKTp2b2lkIDB9LE1NQ2FjaGVkVmlkZW8ucHJvdG90eXBlLnNldEVycm9yQ2FsbGJhY2s9ZnVuY3Rpb24oZXJyb3JDYWxsYmFjayl7cmV0dXJuIHRoaXMuZXJyb3JDYWxsYmFjaz1lcnJvckNhbGxiYWNrfSxNTUNhY2hlZFZpZGVvLnByb3RvdHlwZS5yZXN0YXJ0VmlkZW89ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInJlc3RhcnRWaWRlbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NQ2FjaGVkVmlkZW8ucHJvdG90eXBlLmVuZFZpZGVvPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJlbmRWaWRlbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NQ2FjaGVkVmlkZW8ucHJvdG90eXBlLnBhdXNlVmlkZW89ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInBhdXNlVmlkZW8iLHtjYWxsYmFjazpjYWxsYmFja30pfSxNTUNhY2hlZFZpZGVvLnByb3RvdHlwZS5wbGF5VmlkZW89ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInBsYXlWaWRlbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NQ2FjaGVkVmlkZW8ucHJvdG90eXBlLmF2YWlsYWJsZUNhY2hlZFZpZGVvcz1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiYXZhaWxhYmxlQ2FjaGVkVmlkZW9zIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1DYWNoZWRWaWRlby5wcm90b3R5cGUucGxheUNhY2hlZFZpZGVvPWZ1bmN0aW9uKHZpZGVvSWQsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInBsYXlDYWNoZWRWaWRlbyIse3ZpZGVvSWQ6dmlkZW9JZCxjYWxsYmFjazpjYWxsYmFja30pfSxNTUNhY2hlZFZpZGVvLnByb3RvdHlwZS5jYWNoZVZpZGVvPWZ1bmN0aW9uKHVybCxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiY2FjaGVWaWRlbyIse3VybDp1cmwsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1DYWNoZWRWaWRlby5wcm90b3R5cGUudmlkZW9JZEV4aXN0cz1mdW5jdGlvbih2aWRlb0lkLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJ2aWRlb0lkRXhpc3RzIix7dmlkZW9JZDp2aWRlb0lkLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NQ2FjaGVkVmlkZW99KE1NQnJpZGdlT2JqZWN0KSxNTUludGVyc3RpdGlhbD1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIE1NSW50ZXJzdGl0aWFsKCl7cmV0dXJuIF9yZWY3PU1NSW50ZXJzdGl0aWFsLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF9fZXh0ZW5kcyhNTUludGVyc3RpdGlhbCxfc3VwZXIpLE1NSW50ZXJzdGl0aWFsLmFuaW1hdGlvblR5cGVzPXtpb3M6WyJjdXJsIiwiZmxpcCIsImRpc3NvbHZlIiwic2xpZGV1cCIsIm5vbmUiXSxhbmRyb2lkOlsic2xpZGV1cCIsInNsaWRlZG93biIsImV4cGxvZGUiLCJub25lIl0sd2luZG93czpbInNsaWRldXAiLCJzbGlkZWRvd24iLCJleHBsb2RlIiwibm9uZSJdfSxNTUludGVyc3RpdGlhbC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImNsb3NlIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1JbnRlcnN0aXRpYWwucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJvcGVuIix7dXJsOnVybCxjYWxsYmFjazpjYWxsYmFja30pfSxNTUludGVyc3RpdGlhbC5wcm90b3R5cGUudXNlQ3VzdG9tQ2xvc2U9ZnVuY3Rpb24odXNlQ3VzdG9tQ2xvc2UsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInVzZUN1c3RvbUNsb3NlIix7dXNlQ3VzdG9tQ2xvc2U6dXNlQ3VzdG9tQ2xvc2UsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1JbnRlcnN0aXRpYWwucHJvdG90eXBlLnNldE9yaWVudGF0aW9uPWZ1bmN0aW9uKHByb3BlcnRpZXMsY2FsbGJhY2spe3JldHVybiBwcm9wZXJ0aWVzLmNhbGxiYWNrPWNhbGxiYWNrLHRoaXMuZW5xdWV1ZSgic2V0T3JpZW50YXRpb24iLHByb3BlcnRpZXMpfSxNTUludGVyc3RpdGlhbC5wcm90b3R5cGUuZXhwYW5kVG9FeHRlcm5hbEJyb3dzZXI9ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJleHBhbmRUb0V4dGVybmFsQnJvd3NlciIse3VybDp1cmwsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1JbnRlcnN0aXRpYWwucHJvdG90eXBlLmV4cGFuZFdpdGhQcm9wZXJ0aWVzPWZ1bmN0aW9uKHVybCxwcm9wZXJ0aWVzLGNhbGxiYWNrKXt2YXIga2V5LHBhcmFtcyx0cmFuc2l0aW9uVHlwZSx2YWx1ZTtpZihwYXJhbXM9e2NhbGxiYWNrOmNhbGxiYWNrfSxudWxsIT11cmwmJihwYXJhbXMudXJsPXVybCksTU1KUy51dGlscy5jb25zb2xlTG9nKCJleHBhbmRXaXRoUHJvcGVydGllcyBwcm9wZXJ0aWVzICIrSlNPTi5zdHJpbmdpZnkocHJvcGVydGllcykpLG51bGwhPXByb3BlcnRpZXMpZm9yKGtleSBpbiBwcm9wZXJ0aWVzKV9faGFzUHJvcC5jYWxsKHByb3BlcnRpZXMsa2V5KSYmKHZhbHVlPXByb3BlcnRpZXNba2V5XSwidHJhbnNpdGlvbiI9PT1rZXk/KHRyYW5zaXRpb25UeXBlPXZhbHVlLHBhcmFtc1trZXldPXRyYW5zaXRpb25UeXBlKTpwYXJhbXNba2V5XT12YWx1ZSk7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiZXhwYW5kV2l0aFByb3BlcnRpZXMiLHBhcmFtcyl9LE1NSW50ZXJzdGl0aWFsfShNTUJyaWRnZU9iamVjdCksTU1CcmFuZD1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIE1NQnJhbmQoKXtyZXR1cm4gX3JlZjg9TU1CcmFuZC5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBfX2V4dGVuZHMoTU1CcmFuZCxfc3VwZXIpLE1NQnJhbmQucHJvdG90eXBlLmdldEluZm89ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImdldEluZm8iLHtjYWxsYmFjazpjYWxsYmFja30pfSxNTUJyYW5kfShNTUJyaWRnZU9iamVjdCksTU1BcHBTdG9yZT1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIE1NQXBwU3RvcmUoKXtyZXR1cm4gX3JlZjk9TU1BcHBTdG9yZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBfX2V4dGVuZHMoTU1BcHBTdG9yZSxfc3VwZXIpLE1NQXBwU3RvcmUucHJvdG90eXBlLmxvYWRBcHA9ZnVuY3Rpb24oYXBwSWQsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImxvYWRBcHAiLHthcHBJZDphcHBJZCxjYWxsYmFjazpjYWxsYmFja30pfSxNTUFwcFN0b3JlfShNTUJyaWRnZU9iamVjdCksTU1QYXNzYm9vaz1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIE1NUGFzc2Jvb2soKXtyZXR1cm4gX3JlZjEwPU1NUGFzc2Jvb2suX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gX19leHRlbmRzKE1NUGFzc2Jvb2ssX3N1cGVyKSxNTVBhc3Nib29rLnByb3RvdHlwZS5pc1Bhc3Nib29rQXZhaWxhYmxlPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJpc1Bhc3Nib29rQXZhaWxhYmxlIix7Y2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1QYXNzYm9vay5wcm90b3R5cGUuYWRkUGFzc0Zyb21VUkw9ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJhZGRQYXNzRnJvbVVSTCIse3VybDp1cmwsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1QYXNzYm9vay5wcm90b3R5cGUuaXNQYXNzSW5zdGFsbGVkPWZ1bmN0aW9uKHVybCxpZGVudGlmaWVyLHNlcmlhbCxjYWxsYmFjayl7cmV0dXJuIG51bGwhPXVybD90aGlzLmVucXVldWUoImlzUGFzc0luc3RhbGxlZCIse3VybDp1cmwsY2FsbGJhY2s6Y2FsbGJhY2t9KTp0aGlzLmVucXVldWUoImlzUGFzc0luc3RhbGxlZCIse2lkZW50aWZpZXI6aWRlbnRpZmllcixzZXJpYWw6c2VyaWFsLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NUGFzc2Jvb2sucHJvdG90eXBlLmlzUGFzc1VSTEluc3RhbGxlZD1mdW5jdGlvbih1cmwsY2FsbGJhY2spe3JldHVybiB0aGlzLmlzUGFzc0luc3RhbGxlZCh1cmwsbnVsbCxudWxsLGNhbGxiYWNrKX0sTU1QYXNzYm9vay5wcm90b3R5cGUuaXNQYXNzSWRlbnRpZmllckluc3RhbGxlZD1mdW5jdGlvbihpZGVudGlmaWVyLHNlcmlhbCxjYWxsYmFjayl7cmV0dXJuIHRoaXMuaXNQYXNzSW5zdGFsbGVkKG51bGwsaWRlbnRpZmllcixzZXJpYWwsY2FsbGJhY2spfSxNTVBhc3Nib29rfShNTUJyaWRnZU9iamVjdCksTU1Tb2NpYWw9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBNTVNvY2lhbCgpe3JldHVybiBfcmVmMTE9TU1Tb2NpYWwuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gX19leHRlbmRzKE1NU29jaWFsLF9zdXBlciksTU1Tb2NpYWwucHJvdG90eXBlLnR3ZWV0PWZ1bmN0aW9uKG1lc3NhZ2UsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInR3ZWV0Iix7bWVzc2FnZTptZXNzYWdlLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NU29jaWFsLnByb3RvdHlwZS50d2VldFdpdGhDb250ZW50PWZ1bmN0aW9uKG1lc3NhZ2UsdXJscyxpbWFnZXMsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInR3ZWV0Iix7bWVzc2FnZTptZXNzYWdlLHVybHM6dXJscy5qb2luKCIsIiksaW1hZ2VzOmltYWdlcy5qb2luKCIsIiksY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1Tb2NpYWwucHJvdG90eXBlLmZhY2Vib29rUG9zdD1mdW5jdGlvbihtZXNzYWdlLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJmYWNlYm9va1Bvc3QiLHttZXNzYWdlOm1lc3NhZ2UsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1Tb2NpYWwucHJvdG90eXBlLmZhY2Vib29rUG9zdFdpdGhDb250ZW50PWZ1bmN0aW9uKG1lc3NhZ2UsdXJscyxpbWFnZXMsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImZhY2Vib29rUG9zdCIse21lc3NhZ2U6bWVzc2FnZSx1cmxzOnVybHMuam9pbigiLCIpLGltYWdlczppbWFnZXMuam9pbigiLCIpLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NU29jaWFsLnByb3RvdHlwZS5hdXRoZW50aWNhdGVkU2VydmljZXM9ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImF1dGhlbnRpY2F0ZWRTZXJ2aWNlcyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NU29jaWFsfShNTUJyaWRnZU9iamVjdCksTU1TcGVlY2hraXQ9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBNTVNwZWVjaGtpdCgpe3JldHVybiBfcmVmMTI9TU1TcGVlY2hraXQuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gX19leHRlbmRzKE1NU3BlZWNoa2l0LF9zdXBlciksTU1TcGVlY2hraXQucHJvdG90eXBlLnN0YXJ0UmVjb3JkaW5nPWZ1bmN0aW9uKGxhbmd1YWdlLHJlY29nbml6ZXIsZW5kT2ZTcGVlY2gsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInN0YXJ0UmVjb3JkaW5nIix7bGFuZ3VhZ2U6bGFuZ3VhZ2UscmVjb2duaXplcjpyZWNvZ25pemVyLGVuZE9mU3BlZWNoOmVuZE9mU3BlZWNoLGNhbGxiYWNrOmNhbGxiYWNrfSl9LE1NU3BlZWNoa2l0LnByb3RvdHlwZS5lbmRSZWNvcmRpbmc9ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImVuZFJlY29yZGluZyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NU3BlZWNoa2l0LnByb3RvdHlwZS5zYW1wbGVCYWNrZ3JvdW5kQXVkaW9MZXZlbD1mdW5jdGlvbihjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgic2FtcGxlQmFja2dyb3VuZEF1ZGlvTGV2ZWwiLHtjYWxsYmFjazpjYWxsYmFja30pfSxNTVNwZWVjaGtpdC5wcm90b3R5cGUudGV4dFRvU3BlZWNoPWZ1bmN0aW9uKGxhbmd1YWdlLHRleHQsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInRleHRUb1NwZWVjaCIse2xhbmd1YWdlOmxhbmd1YWdlLHRleHQ6dGV4dCxjYWxsYmFjazpjYWxsYmFja30pfSxNTVNwZWVjaGtpdC5wcm90b3R5cGUucmVsZWFzZVZvaWNlPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gTU1KUy5zZGsuc3BlZWNoUmVzdWx0cz1bXSxNTUpTLnNkay5zcGVlY2hBdWRpb0xldmVsPTAsTU1KUy5zZGsuc3BlZWNoQmFja2dyb3VuZEF1ZGlvTGV2ZWw9MCxNTUpTLnNkay5zcGVlY2hTdGF0dXM9IlJlbGVhc2VkIix0aGlzLmVucXVldWUoInJlbGVhc2VWb2ljZSIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NU3BlZWNoa2l0LnByb3RvdHlwZS5jYWNoZUF1ZGlvPWZ1bmN0aW9uKHVybCxjYWxsYmFjayl7cmV0dXJuIHRoaXMuZW5xdWV1ZSgiY2FjaGVBdWRpbyIse3VybDp1cmwsY2FsbGJhY2s6Y2FsbGJhY2t9KQp9LE1NU3BlZWNoa2l0LnByb3RvdHlwZS5wbGF5QXVkaW89ZnVuY3Rpb24odXJsLHByb3BlcnRpZXMsY2FsbGJhY2spe3JldHVybiBwcm9wZXJ0aWVzLnVybD11cmwscHJvcGVydGllcy5jYWxsYmFjaz1jYWxsYmFjayx0aGlzLmVucXVldWUoInBsYXlBdWRpbyIscHJvcGVydGllcyl9LE1NU3BlZWNoa2l0LnByb3RvdHlwZS5zdG9wQXVkaW89ZnVuY3Rpb24oY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoInN0b3BBdWRpbyIse2NhbGxiYWNrOmNhbGxiYWNrfSl9LE1NU3BlZWNoa2l0LnByb3RvdHlwZS5hZGRDdXN0b21Wb2ljZVdvcmRzPWZ1bmN0aW9uKHdvcmRzLGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJhZGRDdXN0b21Wb2ljZVdvcmRzIix7d29yZHM6d29yZHMsY2FsbGJhY2s6Y2FsbGJhY2t9KX0sTU1TcGVlY2hraXQucHJvdG90eXBlLmRlbGV0ZUN1c3RvbVZvaWNlV29yZHM9ZnVuY3Rpb24od29yZHMsY2FsbGJhY2spe3JldHVybiB0aGlzLmVucXVldWUoImRlbGV0ZUN1c3RvbVZvaWNlV29yZHMiLHt3b3Jkczp3b3JkcyxjYWxsYmFjazpjYWxsYmFja30pfSxNTVNwZWVjaGtpdC5wcm90b3R5cGUuZ2V0U2Vzc2lvbklkPWZ1bmN0aW9uKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5lbnF1ZXVlKCJnZXRTZXNzaW9uSWQiLHtjYWxsYmFjazpjYWxsYmFja30pfSxNTVNwZWVjaGtpdC5wcm90b3R5cGUuZ2V0UmVjb2duaXRpb25SZXN1bHRzPWZ1bmN0aW9uKCl7cmV0dXJuIE1NSlMuc2RrLnNwZWVjaFJlc3VsdHN9LE1NU3BlZWNoa2l0LnByb3RvdHlwZS5nZXRCYWNrZ3JvdW5kTm9pc2VMZXZlbD1mdW5jdGlvbigpe3JldHVybiBNTUpTLnNkay5zcGVlY2hCYWNrZ3JvdW5kQXVkaW9MZXZlbH0sTU1TcGVlY2hraXQucHJvdG90eXBlLmdldEF1ZGlvTGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gTU1KUy5zZGsuc3BlZWNoQXVkaW9MZXZlbH0sTU1TcGVlY2hraXQucHJvdG90eXBlLmdldFZvaWNlU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gTU1KUy5zZGsuc3BlZWNoU3RhdHVzfSxNTVNwZWVjaGtpdC5wcm90b3R5cGUuZ2V0QXVkaW9Qb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiBNTUpTLnNkay5hdWRpb1Bvc2l0aW9ufSxNTVNwZWVjaGtpdH0oTU1CcmlkZ2VPYmplY3QpLE1SQUlEPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gTVJBSUQoKXt0aGlzLnNkaz1NTUpTLnNkayx0aGlzLnV0aWxzPU1NSlMudXRpbHMsdGhpcy5wcm9wZXJ0aWVzPXt3aWR0aDpudWxsLGhlaWdodDpudWxsLHVzZUN1c3RvbUNsb3NlOiExLGlzTW9kYWw6ITB9LHRoaXMub3JpZW50YXRpb25Qcm9wZXJ0aWVzPXthbGxvd09yaWVudGF0aW9uQ2hhbmdlOiEwLGZvcmNlT3JpZW50YXRpb246Im5vbmUifSx0aGlzLnJlc2l6ZVByb3BlcnRpZXM9e3dpZHRoOm51bGwsaGVpZ2h0Om51bGwsY3VzdG9tQ2xvc2VQb3NpdGlvbjoidG9wLXJpZ2h0IixvZmZzZXRYOjAsb2Zmc2V0WTowLGFsbG93T2Zmc2NyZWVuOiEwfSx0aGlzLmF1ZGlvUHJvcGVydGllcz17bG9vcDohMSxjb250cm9sczohMX19cmV0dXJuIF9fZXh0ZW5kcyhNUkFJRCxfc3VwZXIpLE1SQUlELnByb3RvdHlwZS5nZXRBZFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5zZGsuYWRTaXplJiYodGhpcy51dGlscy5jb25zb2xlTG9nKCJNUkFJRCBnZXRBZFNpemUgIitKU09OLnN0cmluZ2lmeSh0aGlzLnNkay5hZFNpemUpKSx0aGlzLnNkay5hZFNpemUuaGVpZ2h0PjAmJnRoaXMuc2RrLmFkU2l6ZS53aWR0aD4wKT90aGlzLnNkay5hZFNpemU6bnVsbH0sTVJBSUQucHJvdG90eXBlLmNhbGxiYWNrTWFuYWdlcj1mdW5jdGlvbihyZXNwb25zZSl7dmFyIGtsYXNzLG1ldGhvZCxyZXNwb25zZV9kYXRhLHJlc3VsdDtyZXR1cm4gcmVzdWx0PXJlc3BvbnNlLnJlc3VsdCxtZXRob2Q9cmVzcG9uc2UuY2FsbCxyZXNwb25zZV9kYXRhPXJlc3BvbnNlLnJlc3BvbnNlLGtsYXNzPXJlc3BvbnNlWyJjbGFzcyJdLHRoaXN9LE1SQUlELnByb3RvdHlwZS5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIjIuMCJ9LE1SQUlELnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3JldHVybiBNTUpTLmludGVyc3RpdGlhbC5jbG9zZShmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLnJlc3VsdDwxP01NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygiZXJyb3IiLCJDbG9zZSBmYWlsZWQiLCJjbG9zZSIpOnZvaWQgMH0pfSxNUkFJRC5wcm90b3R5cGUuZXhwYW5kPWZ1bmN0aW9uKF91cmwpe3ZhciBrLG1heFNpemUscHJvcHMsdixfcmVmMTM7dGhpcy51dGlscy5jb25zb2xlTG9nKCJtcmFpZC5leHBhbmQgY2FsbGVkIHdpdGggcHJvcGVydGllczogIitKU09OLnN0cmluZ2lmeSh0aGlzLmdldEV4cGFuZFByb3BlcnRpZXMoKSkpLHRoaXMudXRpbHMuY29uc29sZUxvZygibXJhaWQuZXhwYW5kIHVybDogIitfdXJsKSxwcm9wcz10aGlzLmdldEV4cGFuZFByb3BlcnRpZXMoKSxtYXhTaXplPXRoaXMuZ2V0TWF4U2l6ZSgpLG51bGwhPXByb3BzJiZudWxsIT1tYXhTaXplJiZwcm9wcy5oZWlnaHQ9PT1tYXhTaXplLmhlaWdodCYmcHJvcHMud2lkdGg9PT1tYXhTaXplLndpZHRoJiYocHJvcHMuaGVpZ2h0PXZvaWQgMCxwcm9wcy53aWR0aD12b2lkIDApLF9yZWYxMz10aGlzLm9yaWVudGF0aW9uUHJvcGVydGllcztmb3IoayBpbiBfcmVmMTMpdj1fcmVmMTNba10scHJvcHNba109djtyZXR1cm4gTU1KUy5pbnRlcnN0aXRpYWwuZXhwYW5kV2l0aFByb3BlcnRpZXMoX3VybCxwcm9wcyxmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLnJlc3VsdDwxP01NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygiZXJyb3IiLCJFeHBhbmQgZmFpbGVkIiwiZXhwYW5kIik6dm9pZCAwfSl9LE1SQUlELnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKF91cmwpe3JldHVybiBNTUpTLmludGVyc3RpdGlhbC5vcGVuKF91cmwsZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5yZXN1bHQ8MT9NTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoImVycm9yIiwiT3BlbiBmYWlsZWQgdG8gb3BlbiBleHRlcm5hbCB1cmwiLCJvcGVuIik6dm9pZCAwfSl9LE1SQUlELnByb3RvdHlwZS5nZXRFeHBhbmRQcm9wZXJ0aWVzPWZ1bmN0aW9uKCl7dmFyIG1heFNpemU7cmV0dXJuIG1heFNpemU9dGhpcy5nZXRNYXhTaXplKCksbnVsbCE9bWF4U2l6ZT8oKG51bGw9PT10aGlzLnByb3BlcnRpZXMuaGVpZ2h0fHx2b2lkIDA9PT10aGlzLnByb3BlcnRpZXMuaGVpZ2h0KSYmKHRoaXMucHJvcGVydGllcy5oZWlnaHQ9bWF4U2l6ZS5oZWlnaHQpLChudWxsPT09dGhpcy5wcm9wZXJ0aWVzLndpZHRofHx2b2lkIDA9PT10aGlzLnByb3BlcnRpZXMud2lkdGgpJiYodGhpcy5wcm9wZXJ0aWVzLndpZHRoPW1heFNpemUud2lkdGgpLHRoaXMucHJvcGVydGllcyk6TU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJlcnJvciIsImdldEV4cGFuZFByb3BlcnRpZXMgZmFpbGVkIiwiZ2V0RXhwYW5kUHJvcGVydGllcyIpfSxNUkFJRC5wcm90b3R5cGUuc2V0RXhwYW5kUHJvcGVydGllcz1mdW5jdGlvbihfcHJvcGVydGllcyl7cmV0dXJuIHRoaXMudXRpbHMuY29uc29sZUxvZygic2V0RXhwYW5kUHJvcGVydGllczogIitKU09OLnN0cmluZ2lmeSh0aGlzLnByb3BlcnRpZXMpKSx0aGlzLnByb3BlcnRpZXM9X3Byb3BlcnRpZXN9LE1SQUlELnByb3RvdHlwZS5nZXRQbGFjZW1lbnRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2RrLnBsYWNlbWVudFR5cGV9LE1SQUlELnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNkay5zdGF0ZX0sTVJBSUQucHJvdG90eXBlLnVzZUN1c3RvbUNsb3NlPWZ1bmN0aW9uKF9jdXN0b21DbG9zZSl7cmV0dXJuIHRoaXMucHJvcGVydGllcy51c2VDdXN0b21DbG9zZT1fY3VzdG9tQ2xvc2UsdGhpcy51dGlscy5jb25zb2xlTG9nKCJVc2UgQ3VzdG9tIENsb3NlIHdhcyBjYWxsZWQ6ICIrX2N1c3RvbUNsb3NlKSxNTUpTLmludGVyc3RpdGlhbC51c2VDdXN0b21DbG9zZShfY3VzdG9tQ2xvc2UsZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5yZXN1bHQ8MT9NTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoImVycm9yIiwiVXNlIGN1c3RvbSBjbG9zZSBmYWlsZWQgdG8gc2V0IiwidXNlQ3VzdG9tQ2xvc2UiKTp2b2lkIDB9KX0sTVJBSUQucHJvdG90eXBlLmlzVmlld2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZGsudmlld2FibGV9LE1SQUlELnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50LGxpc3RlbmVyKXtyZXR1cm4gTU1KUy5saXN0ZW5lck1hbmFnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCxsaXN0ZW5lcil9LE1SQUlELnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50LGxpc3RlbmVyKXtyZXR1cm4gTU1KUy5saXN0ZW5lck1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihldmVudCxsaXN0ZW5lcil9LE1SQUlELnByb3RvdHlwZS5maXJlRXZlbnRDYWxsYmFja3M9ZnVuY3Rpb24oZXZlbnROYW1lLHBhcmFtZXRlcixhY3Rpb24pe3JldHVybiBNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoZXZlbnROYW1lLHBhcmFtZXRlcixhY3Rpb24pfSxNUkFJRC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKCl7dmFyIGNhbGxlZHJlc2l6ZVByb3BlcnRpZXMsbWF4U2l6ZTtyZXR1cm4gbWF4U2l6ZT10aGlzLmdldE1heFNpemUoKSxjYWxsZWRyZXNpemVQcm9wZXJ0aWVzPXRoaXMuZ2V0UmVzaXplUHJvcGVydGllcygpLGNhbGxlZHJlc2l6ZVByb3BlcnRpZXMuYWxsb3dPZmZzY3JlZW49PT0hMSYmKGNhbGxlZHJlc2l6ZVByb3BlcnRpZXMud2lkdGg+bWF4U2l6ZS53aWR0aHx8Y2FsbGVkcmVzaXplUHJvcGVydGllcy5oZWlnaHQ+bWF4U2l6ZS5oZWlnaHQpPyh0aGlzLmZpcmVFdmVudENhbGxiYWNrcygiZXJyb3IiLCJSZXNpemUgaXMgdW5zdXBwb3J0ZWQgaW4gdGhpcyBhcHBsaWNhdGlvbi4iLCJyZXNpemUiKSx2b2lkIDApOihNTUpTLmJhbm5lci5yZXNpemUoY2FsbGVkcmVzaXplUHJvcGVydGllcyxmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLnJlc3VsdDwxP21yYWlkLmZpcmVFdmVudENhbGxiYWNrcygiZXJyb3IiLCJSZXNpemUgaXMgdW5zdXBwb3J0ZWQgaW4gdGhpcyBhcHBsaWNhdGlvbi4iLCJyZXNpemUiKTp2b2lkIDB9KSxudWxsKX0sTVJBSUQucHJvdG90eXBlLmdldFJlc2l6ZVByb3BlcnRpZXM9ZnVuY3Rpb24oKXt2YXIgYWRTaXplO3JldHVybiBhZFNpemU9dGhpcy5nZXRBZFNpemUoKSxudWxsIT1hZFNpemU/KE1NSlMudXRpbHMuY29uc29sZUxvZygiQWQgU2l6ZSB3YXMgZm91bmQiKSxudWxsPT09dGhpcy5yZXNpemVQcm9wZXJ0aWVzLmhlaWdodCYmKHRoaXMucmVzaXplUHJvcGVydGllcy5oZWlnaHQ9YWRTaXplLmhlaWdodCksbnVsbD09PXRoaXMucmVzaXplUHJvcGVydGllcy53aWR0aCYmKHRoaXMucmVzaXplUHJvcGVydGllcy53aWR0aD1hZFNpemUud2lkdGgpLHRoaXMucmVzaXplUHJvcGVydGllcyk6KE1NSlMudXRpbHMuY29uc29sZUxvZygiZ2V0UmVzaXplUHJvcGVydGllcyBmYWlsZWQiKSxNTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoImVycm9yIiwiUmVzaXplIGlzIHVuc3VwcG9ydGVkIGluIHRoaXMgYXBwbGljYXRpb24uIiwicmVzaXplIikpfSxNUkFJRC5wcm90b3R5cGUuc2V0UmVzaXplUHJvcGVydGllcz1mdW5jdGlvbihfcHJvcGVydGllcyl7cmV0dXJuIHRoaXMucmVzaXplUHJvcGVydGllcz1fcHJvcGVydGllc30sTVJBSUQucHJvdG90eXBlLmdldEN1cnJlbnRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNkay5hZFNpemV9LE1SQUlELnByb3RvdHlwZS5nZXRNYXhTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuc2RrLmFkUHJvcGVydGllcy5tYXhTaXplP3toZWlnaHQ6dGhpcy5zZGsuYWRQcm9wZXJ0aWVzLm1heFNpemUuaGVpZ2h0LHdpZHRoOnRoaXMuc2RrLmFkUHJvcGVydGllcy5tYXhTaXplLndpZHRofTooTU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJlcnJvciIsImdldFJlc2l6ZVByb3BlcnRpZXMgZmFpbGVkIiwiZ2V0UmVzaXplUHJvcGVydGllcyIpLG51bGwpfSxNUkFJRC5wcm90b3R5cGUuZ2V0RGVmYXVsdFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2RrLmRlZmF1bHRQb3NpdGlvbn0sTVJBSUQucHJvdG90eXBlLmdldFNjcmVlblNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gTU1KUy51dGlscy5jb25zb2xlTG9nKCJnZXRTY3JlZW5TaXplOiAiK3RoaXMuc2RrLmFkUHJvcGVydGllcy5zY3JlZW4pLG51bGwhPXRoaXMuc2RrLmFkUHJvcGVydGllcy5zY3JlZW4/dGhpcy5zZGsuYWRQcm9wZXJ0aWVzLnNjcmVlbjoodGhpcy5maXJlRXZlbnRDYWxsYmFja3MoImVycm9yIiwiU2NyZWVuIHNpemUgaXMgdW5hdmFpbGFibGUiLCJnZXRTY3JlZW5TaXplIiksbnVsbCl9LE1SQUlELnByb3RvdHlwZS5zdXBwb3J0cz1mdW5jdGlvbihmZWF0dXJlKXtyZXR1cm4gbnVsbCE9ZmVhdHVyZT90aGlzLnNkay5zdXBwb3J0UHJvcGVydGllc1tmZWF0dXJlXTp0aGlzLnNkay5zdXBwb3J0UHJvcGVydGllc30sTVJBSUQucHJvdG90eXBlLnN0b3JlUGljdHVyZT1mdW5jdGlvbihVUkkpe3JldHVybiBNTUpTLm1lZGlhLndyaXRlVG9QaG90b0xpYnJhcnkoVVJJLCIiLCIiLGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UucmVzdWx0PDE/TU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJlcnJvciIsIkVycm9yIHN0b3JpbmcgcGljdHVyZSIsInN0b3JlUGljdHVyZSIpOnZvaWQgMH0pfSxNUkFJRC5wcm90b3R5cGUuY3JlYXRlQ2FsZW5kYXJFdmVudD1mdW5jdGlvbihwYXJhbWV0ZXJzKXtyZXR1cm4gTU1KUy5jYWxlbmRhci5hZGRFdmVudChwYXJhbWV0ZXJzLGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UucmVzdWx0PDE/TU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJlcnJvciIsIkVycm9yIGFkZGluZyBjYWxlbmRhciBldmVudCIsImNyZWF0ZUNhbGVuZGFyRXZlbnQiKTp2b2lkIDB9KX0sTVJBSUQucHJvdG90eXBlLnBsYXlWaWRlbz1mdW5jdGlvbihVUkkpe3JldHVybiBNTUpTLm1lZGlhLnBsYXlWaWRlbyhVUkksZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5yZXN1bHQ8MT9NTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoImVycm9yIiwiRXJyb3IgcGxheWluZyB2aWRlbyIsInBsYXlWaWRlbyIpOnZvaWQgMH0pfSxNUkFJRC5wcm90b3R5cGUuZ2V0T3JpZW50YXRpb25Qcm9wZXJ0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3JpZW50YXRpb25Qcm9wZXJ0aWVzfSxNUkFJRC5wcm90b3R5cGUuc2V0T3JpZW50YXRpb25Qcm9wZXJ0aWVzPWZ1bmN0aW9uKHByb3BlcnRpZXMpe3JldHVybiB0aGlzLm9yaWVudGF0aW9uUHJvcGVydGllcz1wcm9wZXJ0aWVzLCJleHBhbmRlZCI9PT10aGlzLmdldFN0YXRlKCkmJiJpbmxpbmUiPT09dGhpcy5nZXRQbGFjZW1lbnRUeXBlKCl8fCJpbnRlcnN0aXRpYWwiPT09dGhpcy5nZXRQbGFjZW1lbnRUeXBlKCk/TU1KUy5pbnRlcnN0aXRpYWwuc2V0T3JpZW50YXRpb24odGhpcy5vcmllbnRhdGlvblByb3BlcnRpZXMsIm1yYWlkLmNhbGxiYWNrTWFuYWdlciIpOnZvaWQgMH0sTVJBSUQucHJvdG90eXBlLnN0YXJ0UmVjb3JkaW5nPWZ1bmN0aW9uKGxhbmd1YWdlQ29kZSl7cmV0dXJuIE1NSlMuc3BlZWNoa2l0LnN0YXJ0UmVjb3JkaW5nKGxhbmd1YWdlQ29kZSwiZGljdGF0aW9uIiwic2hvcnQiLGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UucmVzdWx0PDE/TU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJ2b2ljZUVycm9yIiwiU3RhcnQgcmVjb3JkaW5nIGZhaWxlZCIsInN0YXJ0UmVjb3JkaW5nIik6dm9pZCAwfSl9LE1SQUlELnByb3RvdHlwZS5lbmRSZWNvcmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gTU1KUy5zcGVlY2hraXQuZW5kUmVjb3JkaW5nKGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UucmVzdWx0PDE/TU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJ2b2ljZUVycm9yIiwiRW5kIHJlY29yZGluZyBmYWlsZWQiLCJlbmRSZWNvcmRpbmciKTp2b2lkIDB9KX0sTVJBSUQucHJvdG90eXBlLnRleHRUb1NwZWVjaD1mdW5jdGlvbih0ZXh0LGxhbmd1YWdlQ29kZSl7cmV0dXJuIE1NSlMuc3BlZWNoa2l0LnRleHRUb1NwZWVjaChsYW5ndWFnZUNvZGUsdGV4dCxmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLnJlc3VsdDwxP01NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygidm9pY2VFcnJvciIsIlRleHQgdG8gU3BlZWNoIGZhaWxlZCIsInRleHRUb1NwZWVjaCIpOnZvaWQgMH0pfSxNUkFJRC5wcm90b3R5cGUucGxheUF1ZGlvPWZ1bmN0aW9uKHVybCxvcHRpb25zKXtyZXR1cm4gbnVsbCE9b3B0aW9ucyYmKG9wdGlvbnMubG9vcD10aGlzLmF1ZGlvUHJvcGVydGllcy5sb29wLG9wdGlvbnMuY29udHJvbHM9dGhpcy5hdWRpb1Byb3BlcnRpZXMuY29udHJvbHMpLE1NSlMuc3BlZWNoa2l0LnBsYXlBdWRpbyh1cmwsdGhpcy5hdWRpb1Byb3BlcnRpZXMsZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5yZXN1bHQ8MT9NTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoInZvaWNlRXJyb3IiLCJQbGF5aW5nIGF1ZGlvIGZhaWxlZCIsInBsYXlBdWRpbyIpOnZvaWQgMH0pfSxNUkFJRC5wcm90b3R5cGUuc3RvcEF1ZGlvPWZ1bmN0aW9uKCl7cmV0dXJuIE1NSlMuc3BlZWNoa2l0LnN0b3BBdWRpbyhmdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIHJlc3BvbnNlLnJlc3VsdDwxP01NSlMubGlzdGVuZXJNYW5hZ2VyLmZpcmVFdmVudENhbGxiYWNrcygidm9pY2VFcnJvciIsIlN0b3AgcGxheWluZyBhdWRpbyBmYWlsZWQiLCJzdG9wQXVkaW8iKTp2b2lkIDB9KX0sTVJBSUQucHJvdG90eXBlLmNhY2hlQXVkaW89ZnVuY3Rpb24odXJsKXtyZXR1cm4gTU1KUy5zcGVlY2hraXQuY2FjaGVBdWRpbyh1cmwsZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5yZXN1bHQ8MT9NTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoInZvaWNlRXJyb3IiLCJBdWRpbyBjYWNoaW5nIGZhaWxlZCIsImNhY2hlQXVkaW8iKTp2b2lkIDB9KX0sTVJBSUQucHJvdG90eXBlLnNhbXBsZUJhY2tncm91bmRBdWRpb0xldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIE1NSlMuc3BlZWNoa2l0LnNhbXBsZUJhY2tncm91bmRBdWRpb0xldmVsKGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UucmVzdWx0PDE/TU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJ2b2ljZUVycm9yIiwiU2FtcGxpbmcgb2YgYmFja2dyb3VuZCBhdWRpbyBmYWlsZWQiLCJzYW1wbGVCYWNrZ3JvdW5kQXVkaW9MZXZlbCIpOnZvaWQgMH0pfSxNUkFJRC5wcm90b3R5cGUucmVsZWFzZVZvaWNlPWZ1bmN0aW9uKCl7cmV0dXJuIE1NSlMuc3BlZWNoa2l0LnJlbGVhc2VWb2ljZShmdW5jdGlvbigpe30pfSxNUkFJRC5wcm90b3R5cGUuYWRkQ3VzdG9tVm9pY2VXb3Jkcz1mdW5jdGlvbih3b3Jkcyl7cmV0dXJuIE1NSlMuc3BlZWNoa2l0LmFkZEN1c3RvbVZvaWNlV29yZHMod29yZHMsZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiByZXNwb25zZS5yZXN1bHQ8MT9NTUpTLmxpc3RlbmVyTWFuYWdlci5maXJlRXZlbnRDYWxsYmFja3MoInZvaWNlRXJyb3IiLCJBZGRpbmcgY3VzdG9tIHdvcmRzIGZhaWxlZCIsImFkZEN1c3RvbVZvaWNlV29yZHMiKTp2b2lkIDB9KX0sTVJBSUQucHJvdG90eXBlLmRlbGV0ZUN1c3RvbVZvaWNlV29yZHM9ZnVuY3Rpb24od29yZHMpe3JldHVybiBNTUpTLnNwZWVjaGtpdC5kZWxldGVDdXN0b21Wb2ljZVdvcmRzKHdvcmRzLGZ1bmN0aW9uKHJlc3BvbnNlKXtyZXR1cm4gcmVzcG9uc2UucmVzdWx0PDE/TU1KUy5saXN0ZW5lck1hbmFnZXIuZmlyZUV2ZW50Q2FsbGJhY2tzKCJ2b2ljZUVycm9yIiwiRGVsZXRpbmcgY3VzdG9tIHdvcmRzIGZhaWxlZCIsImRlbGV0ZUN1c3RvbVZvaWNlV29yZHMiKTp2b2lkIDB9KX0sTVJBSUQucHJvdG90eXBlLmdldFJlY29nbml0aW9uUmVzdWx0cz1mdW5jdGlvbigpe3JldHVybiBNTUpTLnNwZWVjaGtpdC5nZXRSZWNvZ25pdGlvblJlc3VsdHMoKX0sTVJBSUQucHJvdG90eXBlLmdldEF1ZGlvTGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gTU1KUy5zcGVlY2hraXQuZ2V0QXVkaW9MZXZlbCgpfSxNUkFJRC5wcm90b3R5cGUuZ2V0Vm9pY2VTdGF0ZT1mdW5jdGlvbigpe3JldHVybiBNTUpTLnNwZWVjaGtpdC5nZXRWb2ljZVN0YXRlKCl9LE1SQUlELnByb3RvdHlwZS5nZXRBdWRpb1Bvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIE1NSlMuc3BlZWNoa2l0LmdldEF1ZGlvUG9zaXRpb24oKX0sTVJBSUR9KE1NQnJpZGdlT2JqZWN0KSxmdW5jdGlvbigpe3JldHVybiB0eXBlb2YgTU1KUy5zZGs9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1KUy5zZGs9bmV3IE1NU0RLSW50ZXJmYWNlKSx0eXBlb2YgTU1KUy5kZXZpY2U9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1KUy5kZXZpY2U9bmV3IE1NRGV2aWNlKSx0eXBlb2YgTU1KUy5tZWRpYT09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTUpTLm1lZGlhPW5ldyBNTU1lZGlhKSx0eXBlb2YgTU1KUy5ub3RpZmljYXRpb249PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1KUy5ub3RpZmljYXRpb249bmV3IE1NTm90aWZpY2F0aW9uKSx0eXBlb2YgTU1KUy5pbnRlcnN0aXRpYWw9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1KUy5pbnRlcnN0aXRpYWw9bmV3IE1NSW50ZXJzdGl0aWFsKSx0eXBlb2YgTU1KUy5jYWNoZWRWaWRlbz09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTUpTLmNhY2hlZFZpZGVvPW5ldyBNTUNhY2hlZFZpZGVvKSx0eXBlb2YgTU1KUy5icmFuZD09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTUpTLmJyYW5kPW5ldyBNTUJyYW5kKSx0eXBlb2YgTU1KUy5pbmxpbmVWaWRlbz09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTUpTLmlubGluZVZpZGVvPW5ldyBNTUlubGluZVZpZGVvKSx0eXBlb2YgTU1KUy5zb2NpYWw9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1KUy5zb2NpYWw9bmV3IE1NU29jaWFsKSx0eXBlb2YgTU1KUy5wYXNzYm9vaz09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTUpTLnBhc3Nib29rPW5ldyBNTVBhc3Nib29rKSx0eXBlb2YgTU1KUy5jYWxlbmRhcj09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTUpTLmNhbGVuZGFyPW5ldyBNTUNhbGVuZGFyKSx0eXBlb2YgTU1KUy5iYW5uZXI9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1KUy5iYW5uZXI9bmV3IE1NQmFubmVyKSx0eXBlb2YgTU1KUy5hcHBzdG9yZT09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTUpTLmFwcHN0b3JlPW5ldyBNTUFwcFN0b3JlKSxNTUpTLmFwcFN0b3JlPU1NSlMuYXBwc3RvcmUsdHlwZW9mIE1NSlMubGlzdGVuZXJNYW5hZ2VyPT09TU1KUy5UWVBFX1VOREVGSU5FRCYmKE1NSlMubGlzdGVuZXJNYW5hZ2VyPW5ldyBNTUxpc3RlbmVyTWFuYWdlciksdHlwZW9mIE1NSlMuc3BlZWNoa2l0PT09TU1KUy5UWVBFX1VOREVGSU5FRCYmKE1NSlMuc3BlZWNoa2l0PW5ldyBNTVNwZWVjaGtpdCksdHlwZW9mIHdpbmRvdy5NTVNESz09PU1NSlMuVFlQRV9VTkRFRklORUQmJih3aW5kb3cuTU1TREs9TU1KUyksdHlwZW9mIE1NU0RLLnNkaz09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTVNESy5zZGs9TU1KUy5zZGspLHR5cGVvZiBNTVNESy5kZXZpY2U9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsuZGV2aWNlPU1NSlMuZGV2aWNlKSx0eXBlb2YgTU1TREsubWVkaWE9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsubWVkaWE9TU1KUy5tZWRpYSksdHlwZW9mIE1NU0RLLm5vdGlmaWNhdGlvbj09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTVNESy5ub3RpZmljYXRpb249TU1KUy5ub3RpZmljYXRpb24pLHR5cGVvZiBNTVNESy5pbnRlcnN0aXRpYWw9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsuaW50ZXJzdGl0aWFsPU1NSlMuaW50ZXJzdGl0aWFsKSx0eXBlb2YgTU1KUy5jYWNoZWRWaWRlbz09PU1NSlMuVFlQRV9VTkRFRklORUQmJihNTVNESy5jYWNoZWRWaWRlbz1NTUpTLmNhY2hlZFZpZGVvKSx0eXBlb2YgTU1TREsuYnJhbmQ9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsuYnJhbmQ9TU1KUy5icmFuZCksdHlwZW9mIE1NU0RLLmlubGluZVZpZGVvPT09TU1KUy5UWVBFX1VOREVGSU5FRCYmKE1NU0RLLmlubGluZVZpZGVvPU1NSlMuaW5saW5lVmlkZW8pLHR5cGVvZiBNTVNESy5zb2NpYWw9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsuc29jaWFsPU1NSlMuc29jaWFsKSx0eXBlb2YgTU1TREsucGFzc2Jvb2s9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsucGFzc2Jvb2s9TU1KUy5wYXNzYm9vayksdHlwZW9mIE1NU0RLLmNhbGVuZGFyPT09TU1KUy5UWVBFX1VOREVGSU5FRCYmKE1NU0RLLmNhbGVuZGFyPU1NSlMuY2FsZW5kYXIpLHR5cGVvZiBNTVNESy5iYW5uZXI9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsuYmFubmVyPU1NSlMuYmFubmVyKSx0eXBlb2YgTU1TREsuYXBwc3RvcmU9PT1NTUpTLlRZUEVfVU5ERUZJTkVEJiYoTU1TREsuYXBwc3RvcmU9TU1KUy5hcHBzdG9yZSksTU1TREsuYXBwU3RvcmU9TU1KUy5hcHBzdG9yZSx0eXBlb2YgTU1TREsuc3BlZWNoa2l0PT09TU1KUy5UWVBFX1VOREVGSU5FRCYmKE1NU0RLLnNwZWVjaGtpdD1NTUpTLnNwZWVjaGtpdCksdHlwZW9mIHdpbmRvdy5tcmFpZD09PU1NSlMuVFlQRV9VTkRFRklORUQmJih3aW5kb3cubXJhaWQ9bmV3IE1SQUlEKSx0eXBlb2Ygd2luZG93Lk1NPT09TU1KUy5UWVBFX1VOREVGSU5FRD93aW5kb3cuTU09TU1KUzp2b2lkIDB9KCksTU1KUy51dGlscy5saXN0ZW5Gb3JCcm93c2VyUmVhZHkoZnVuY3Rpb24oKXt2YXIgdGltZXI7cmV0dXJuIHRpbWVyPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dmFyIGNvbW1hbmQsZTtpZigibG9hZGluZyIhPT1NTUpTLnNkay5zdGF0ZSYmTU1KUy5leGVjdXRpbmdDb21tYW5kPT09ITEmJk1NSlMuY29tbWFuZFF1ZXVlLmxlbmd0aD4wJiYwPT09TU1KUy5leGVjdXRpbmdDb21tYW5kRGVsYXkpe2NvbW1hbmQ9TU1KUy5jb21tYW5kUXVldWUuc2hpZnQoKSxNTUpTLnV0aWxzLmNvbnNvbGVMb2coInJ1bm5pbmcgY29tbWFuZDogIitjb21tYW5kLnVybCk7dHJ5e3JldHVybiBjb21tYW5kLnBlcmZvcm0oKX1jYXRjaChfZXJyb3Ipe3JldHVybiBlPV9lcnJvcixNTUpTLnV0aWxzLmNvbnNvbGVMb2coIkZhaWxlZCB0byBydW4gY29tbWFuZDogIitlLm1lc3NhZ2VhbGVydCl9fX0sMSl9KCkpKTs="

    invoke-static {v5}, Lcom/millennialmedia/android/Base64;->decode(Ljava/lang/String;)[B

    move-result-object v2

    .line 327
    .local v2, mmjsBytesSecond:[B
    if-eqz v1, :cond_0

    if-eqz v2, :cond_0

    .line 328
    array-length v5, v1

    array-length v6, v2

    add-int/2addr v5, v6

    new-array v3, v5, [B

    .line 330
    .local v3, mmjsComplete:[B
    array-length v5, v1

    invoke-static {v1, v4, v3, v4, v5}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    .line 332
    array-length v5, v1

    array-length v6, v2

    invoke-static {v2, v4, v3, v5, v6}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    .line 335
    new-instance v0, Ljava/io/ByteArrayInputStream;

    invoke-direct {v0, v3}, Ljava/io/ByteArrayInputStream;-><init>([B)V

    .line 337
    .local v0, byteStream:Ljava/io/ByteArrayInputStream;
    invoke-static {p0, v0}, Lcom/millennialmedia/android/MRaid;->saveMRaid(Landroid/content/Context;Ljava/io/InputStream;)Z

    move-result v5

    if-eqz v5, :cond_0

    invoke-static {p0, p1}, Lcom/millennialmedia/android/MRaid;->storeMraidUrl(Landroid/content/Context;Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_0

    .line 339
    const/4 v4, 0x1

    .line 343
    .end local v0           #byteStream:Ljava/io/ByteArrayInputStream;
    .end local v3           #mmjsComplete:[B
    :cond_0
    return v4
.end method

.method static saveMRaid(Landroid/content/Context;Ljava/io/InputStream;)Z
    .locals 11
    .parameter "context"
    .parameter "is"

    .prologue
    const/4 v6, 0x1

    const/4 v7, 0x0

    .line 245
    new-instance v2, Ljava/io/File;

    invoke-static {p0}, Lcom/millennialmedia/android/AdCache;->getInternalCacheDirectory(Landroid/content/Context;)Ljava/io/File;

    move-result-object v8

    const-string v9, "mraid.js"

    invoke-direct {v2, v8, v9}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 248
    .local v2, mraidJsFile:Ljava/io/File;
    const-string v8, "MRaid"

    const-string v9, "Saving mraid js to %s"

    new-array v10, v6, [Ljava/lang/Object;

    aput-object v2, v10, v7

    invoke-static {v9, v10}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v9

    invoke-static {v8, v9}, Lcom/millennialmedia/android/MMLog;->v(Ljava/lang/String;Ljava/lang/String;)V

    .line 250
    const/4 v4, 0x0

    .line 252
    .local v4, out:Ljava/io/FileOutputStream;
    :try_start_0
    new-instance v5, Ljava/io/FileOutputStream;

    invoke-direct {v5, v2}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_4

    .line 253
    .end local v4           #out:Ljava/io/FileOutputStream;
    .local v5, out:Ljava/io/FileOutputStream;
    const/16 v8, 0x400

    :try_start_1
    new-array v0, v8, [B

    .line 255
    .local v0, buf:[B
    :goto_0
    invoke-virtual {p1, v0}, Ljava/io/InputStream;->read([B)I
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0

    move-result v3

    .line 256
    .local v3, numread:I
    if-gtz v3, :cond_1

    .line 267
    if-eqz v5, :cond_0

    .line 269
    :try_start_2
    invoke-virtual {v5}, Ljava/io/FileOutputStream;->close()V
    :try_end_2
    .catch Ljava/io/IOException; {:try_start_2 .. :try_end_2} :catch_3

    :cond_0
    :goto_1
    move-object v4, v5

    .line 274
    .end local v0           #buf:[B
    .end local v3           #numread:I
    .end local v5           #out:Ljava/io/FileOutputStream;
    .restart local v4       #out:Ljava/io/FileOutputStream;
    :goto_2
    return v6

    .line 258
    .end local v4           #out:Ljava/io/FileOutputStream;
    .restart local v0       #buf:[B
    .restart local v3       #numread:I
    .restart local v5       #out:Ljava/io/FileOutputStream;
    :cond_1
    const/4 v8, 0x0

    :try_start_3
    invoke-virtual {v5, v0, v8, v3}, Ljava/io/FileOutputStream;->write([BII)V
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1
    .catch Ljava/lang/Exception; {:try_start_3 .. :try_end_3} :catch_0

    goto :goto_0

    .line 261
    .end local v0           #buf:[B
    .end local v3           #numread:I
    :catch_0
    move-exception v1

    move-object v4, v5

    .line 262
    .end local v5           #out:Ljava/io/FileOutputStream;
    .local v1, e:Ljava/lang/Exception;
    .restart local v4       #out:Ljava/io/FileOutputStream;
    :goto_3
    if-eqz v2, :cond_2

    .line 263
    :try_start_4
    invoke-virtual {v2}, Ljava/io/File;->delete()Z

    .line 264
    :cond_2
    const-string v6, "MRaid"

    const-string v8, "Exception downloading component mraid.js: "

    invoke-static {v6, v8, v1}, Lcom/millennialmedia/android/MMLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_0

    .line 267
    if-eqz v4, :cond_3

    .line 269
    :try_start_5
    invoke-virtual {v4}, Ljava/io/FileOutputStream;->close()V
    :try_end_5
    .catch Ljava/io/IOException; {:try_start_5 .. :try_end_5} :catch_2

    .end local v1           #e:Ljava/lang/Exception;
    :cond_3
    :goto_4
    move v6, v7

    .line 265
    goto :goto_2

    .line 267
    :catchall_0
    move-exception v6

    :goto_5
    if-eqz v4, :cond_4

    .line 269
    :try_start_6
    invoke-virtual {v4}, Ljava/io/FileOutputStream;->close()V
    :try_end_6
    .catch Ljava/io/IOException; {:try_start_6 .. :try_end_6} :catch_1

    .line 267
    :cond_4
    :goto_6
    throw v6

    .line 270
    :catch_1
    move-exception v1

    .line 271
    .local v1, e:Ljava/io/IOException;
    const-string v7, "MRaid"

    const-string v8, "Exception closing file: "

    invoke-static {v7, v8, v1}, Lcom/millennialmedia/android/MMLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_6

    .line 270
    .local v1, e:Ljava/lang/Exception;
    :catch_2
    move-exception v1

    .line 271
    .local v1, e:Ljava/io/IOException;
    const-string v6, "MRaid"

    const-string v8, "Exception closing file: "

    invoke-static {v6, v8, v1}, Lcom/millennialmedia/android/MMLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_4

    .line 270
    .end local v1           #e:Ljava/io/IOException;
    .end local v4           #out:Ljava/io/FileOutputStream;
    .restart local v0       #buf:[B
    .restart local v3       #numread:I
    .restart local v5       #out:Ljava/io/FileOutputStream;
    :catch_3
    move-exception v1

    .line 271
    .restart local v1       #e:Ljava/io/IOException;
    const-string v7, "MRaid"

    const-string v8, "Exception closing file: "

    invoke-static {v7, v8, v1}, Lcom/millennialmedia/android/MMLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_1

    .line 267
    .end local v0           #buf:[B
    .end local v1           #e:Ljava/io/IOException;
    .end local v3           #numread:I
    :catchall_1
    move-exception v6

    move-object v4, v5

    .end local v5           #out:Ljava/io/FileOutputStream;
    .restart local v4       #out:Ljava/io/FileOutputStream;
    goto :goto_5

    .line 261
    :catch_4
    move-exception v1

    goto :goto_3
.end method

.method static setCallbackRef(Lcom/millennialmedia/android/MRaid$Finished;)V
    .locals 1
    .parameter "callback"

    .prologue
    .line 102
    new-instance v0, Ljava/lang/ref/WeakReference;

    invoke-direct {v0, p0}, Ljava/lang/ref/WeakReference;-><init>(Ljava/lang/Object;)V

    sput-object v0, Lcom/millennialmedia/android/MRaid;->finishedRef:Ljava/lang/ref/WeakReference;

    .line 103
    return-void
.end method

.method static storeMraidUrl(Landroid/content/Context;Ljava/lang/String;)Z
    .locals 4
    .parameter "context"
    .parameter "url"

    .prologue
    const/4 v2, 0x0

    .line 146
    invoke-static {p1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_0

    .line 147
    const-string v3, "MillennialMediaSettings"

    invoke-virtual {p0, v3, v2}, Landroid/content/Context;->getSharedPreferences(Ljava/lang/String;I)Landroid/content/SharedPreferences;

    move-result-object v1

    .line 149
    .local v1, prefs:Landroid/content/SharedPreferences;
    invoke-interface {v1}, Landroid/content/SharedPreferences;->edit()Landroid/content/SharedPreferences$Editor;

    move-result-object v0

    .line 150
    .local v0, editor:Landroid/content/SharedPreferences$Editor;
    const-string v2, "KEY_MMJS_URL"

    invoke-interface {v0, v2, p1}, Landroid/content/SharedPreferences$Editor;->putString(Ljava/lang/String;Ljava/lang/String;)Landroid/content/SharedPreferences$Editor;

    .line 151
    invoke-interface {v0}, Landroid/content/SharedPreferences$Editor;->commit()Z

    .line 152
    const/4 v2, 0x1

    .line 154
    .end local v0           #editor:Landroid/content/SharedPreferences$Editor;
    .end local v1           #prefs:Landroid/content/SharedPreferences;
    :cond_0
    return v2
.end method
